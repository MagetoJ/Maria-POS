import{r as U,B as Qm,R as Xm,a as Vm}from"./router-DkeXHeAg.js";import{r as Lm,a as Zm}from"./vendor-DPx9Otuh.js";(function(){const w=document.createElement("link").relList;if(w&&w.supports&&w.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))o(v);new MutationObserver(v=>{for(const H of v)if(H.type==="childList")for(const D of H.addedNodes)D.tagName==="LINK"&&D.rel==="modulepreload"&&o(D)}).observe(document,{childList:!0,subtree:!0});function A(v){const H={};return v.integrity&&(H.integrity=v.integrity),v.referrerPolicy&&(H.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?H.credentials="include":v.crossOrigin==="anonymous"?H.credentials="omit":H.credentials="same-origin",H}function o(v){if(v.ep)return;v.ep=!0;const H=A(v);fetch(v.href,H)}})();var fr={exports:{}},zs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sf;function Km(){if(sf)return zs;sf=1;var d=Symbol.for("react.transitional.element"),w=Symbol.for("react.fragment");function A(o,v,H){var D=null;if(H!==void 0&&(D=""+H),v.key!==void 0&&(D=""+v.key),"key"in v){H={};for(var b in v)b!=="key"&&(H[b]=v[b])}else H=v;return v=H.ref,{$$typeof:d,type:o,key:D,ref:v!==void 0?v:null,props:H}}return zs.Fragment=w,zs.jsx=A,zs.jsxs=A,zs}var nf;function Jm(){return nf||(nf=1,fr.exports=Km()),fr.exports}var s=Jm(),mr={exports:{}},Ds={},xr={exports:{}},hr={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cf;function $m(){return cf||(cf=1,(function(d){function w(z,$){var F=z.length;z.push($);e:for(;0<F;){var pe=F-1>>>1,Ne=z[pe];if(0<v(Ne,$))z[pe]=$,z[F]=Ne,F=pe;else break e}}function A(z){return z.length===0?null:z[0]}function o(z){if(z.length===0)return null;var $=z[0],F=z.pop();if(F!==$){z[0]=F;e:for(var pe=0,Ne=z.length,T=Ne>>>1;pe<T;){var te=2*(pe+1)-1,me=z[te],I=te+1,Qe=z[I];if(0>v(me,F))I<Ne&&0>v(Qe,me)?(z[pe]=Qe,z[I]=F,pe=I):(z[pe]=me,z[te]=F,pe=te);else if(I<Ne&&0>v(Qe,F))z[pe]=Qe,z[I]=F,pe=I;else break e}}return $}function v(z,$){var F=z.sortIndex-$.sortIndex;return F!==0?F:z.id-$.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var H=performance;d.unstable_now=function(){return H.now()}}else{var D=Date,b=D.now();d.unstable_now=function(){return D.now()-b}}var j=[],k=[],M=1,C=null,h=3,q=!1,Q=!1,Z=!1,ee=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function Y(z){for(var $=A(k);$!==null;){if($.callback===null)o(k);else if($.startTime<=z)o(k),$.sortIndex=$.expirationTime,w(j,$);else break;$=A(k)}}function X(z){if(Z=!1,Y(z),!Q)if(A(j)!==null)Q=!0,ye();else{var $=A(k);$!==null&&De(X,$.startTime-z)}}var le=!1,de=-1,ge=5,Me=-1;function K(){return!(d.unstable_now()-Me<ge)}function ce(){if(le){var z=d.unstable_now();Me=z;var $=!0;try{e:{Q=!1,Z&&(Z=!1,N(de),de=-1),q=!0;var F=h;try{t:{for(Y(z),C=A(j);C!==null&&!(C.expirationTime>z&&K());){var pe=C.callback;if(typeof pe=="function"){C.callback=null,h=C.priorityLevel;var Ne=pe(C.expirationTime<=z);if(z=d.unstable_now(),typeof Ne=="function"){C.callback=Ne,Y(z),$=!0;break t}C===A(j)&&o(j),Y(z)}else o(j);C=A(j)}if(C!==null)$=!0;else{var T=A(k);T!==null&&De(X,T.startTime-z),$=!1}}break e}finally{C=null,h=F,q=!1}$=void 0}}finally{$?Ue():le=!1}}}var Ue;if(typeof B=="function")Ue=function(){B(ce)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,W=O.port2;O.port1.onmessage=ce,Ue=function(){W.postMessage(null)}}else Ue=function(){ee(ce,0)};function ye(){le||(le=!0,Ue())}function De(z,$){de=ee(function(){z(d.unstable_now())},$)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(z){z.callback=null},d.unstable_continueExecution=function(){Q||q||(Q=!0,ye())},d.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<z?Math.floor(1e3/z):5},d.unstable_getCurrentPriorityLevel=function(){return h},d.unstable_getFirstCallbackNode=function(){return A(j)},d.unstable_next=function(z){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var F=h;h=$;try{return z()}finally{h=F}},d.unstable_pauseExecution=function(){},d.unstable_requestPaint=function(){},d.unstable_runWithPriority=function(z,$){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var F=h;h=z;try{return $()}finally{h=F}},d.unstable_scheduleCallback=function(z,$,F){var pe=d.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?pe+F:pe):F=pe,z){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=F+Ne,z={id:M++,callback:$,priorityLevel:z,startTime:F,expirationTime:Ne,sortIndex:-1},F>pe?(z.sortIndex=F,w(k,z),A(j)===null&&z===A(k)&&(Z?(N(de),de=-1):Z=!0,De(X,F-pe))):(z.sortIndex=Ne,w(j,z),Q||q||(Q=!0,ye())),z},d.unstable_shouldYield=K,d.unstable_wrapCallback=function(z){var $=h;return function(){var F=h;h=$;try{return z.apply(this,arguments)}finally{h=F}}}})(hr)),hr}var rf;function Fm(){return rf||(rf=1,xr.exports=$m()),xr.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf;function Wm(){if(uf)return Ds;uf=1;var d=Fm(),w=Lm(),A=Zm();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function v(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var H=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),h=Symbol.for("react.consumer"),q=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),X=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function de(e){return e===null||typeof e!="object"?null:(e=le&&e[le]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Symbol.for("react.client.reference");function Me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ge?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case b:return"Portal";case M:return"Profiler";case k:return"StrictMode";case Z:return"Suspense";case ee:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case q:return(e.displayName||"Context")+".Provider";case h:return(e._context.displayName||"Context")+".Consumer";case Q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return t=e.displayName||null,t!==null?t:Me(e.type)||"Memo";case B:t=e._payload,e=e._init;try{return Me(e(t))}catch{}}return null}var K=w.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=Object.assign,Ue,O;function W(e){if(Ue===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Ue=t&&t[1]||"",O=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ue+e+O}var ye=!1;function De(e,t){if(!e||ye)return"";ye=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var R=function(){throw Error()};if(Object.defineProperty(R.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(R,[])}catch(S){var p=S}Reflect.construct(e,[],R)}else{try{R.call()}catch(S){p=S}e.call(R.prototype)}}else{try{throw Error()}catch(S){p=S}(R=e())&&typeof R.catch=="function"&&R.catch(function(){})}}catch(S){if(S&&p&&typeof S.stack=="string")return[S.stack,p.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),c=i[0],r=i[1];if(c&&r){var u=c.split(`
`),m=r.split(`
`);for(n=a=0;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;for(;n<m.length&&!m[n].includes("DetermineComponentFrameRoot");)n++;if(a===u.length||n===m.length)for(a=u.length-1,n=m.length-1;1<=a&&0<=n&&u[a]!==m[n];)n--;for(;1<=a&&0<=n;a--,n--)if(u[a]!==m[n]){if(a!==1||n!==1)do if(a--,n--,0>n||u[a]!==m[n]){var _=`
`+u[a].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=a&&0<=n);break}}}finally{ye=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?W(l):""}function z(e){switch(e.tag){case 26:case 27:case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 15:return e=De(e.type,!1),e;case 11:return e=De(e.type.render,!1),e;case 1:return e=De(e.type,!0),e;default:return""}}function $(e){try{var t="";do t+=z(e),e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function F(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function pe(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ne(e){if(F(e)!==e)throw Error(o(188))}function T(e){var t=e.alternate;if(!t){if(t=F(e),t===null)throw Error(o(188));return t!==e?null:e}for(var l=e,a=t;;){var n=l.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){l=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===l)return Ne(n),e;if(i===a)return Ne(n),t;i=i.sibling}throw Error(o(188))}if(l.return!==a.return)l=n,a=i;else{for(var c=!1,r=n.child;r;){if(r===l){c=!0,l=n,a=i;break}if(r===a){c=!0,a=n,l=i;break}r=r.sibling}if(!c){for(r=i.child;r;){if(r===l){c=!0,l=i,a=n;break}if(r===a){c=!0,a=i,l=n;break}r=r.sibling}if(!c)throw Error(o(189))}}if(l.alternate!==a)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:t}function te(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=te(e),t!==null)return t;e=e.sibling}return null}var me=Array.isArray,I=A.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Qe={pending:!1,data:null,method:null,action:null},y=[],G=-1;function be(e){return{current:e}}function ne(e){0>G||(e.current=y[G],y[G]=null,G--)}function xe(e,t){G++,y[G]=e.current,e.current=t}var et=be(null),ka=be(null),Wt=be(null),Bs=be(null);function qs(e,t){switch(xe(Wt,t),xe(ka,e),xe(et,null),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?kd(t):0;break;default:if(e=e===8?t.parentNode:t,t=e.tagName,e=e.namespaceURI)e=kd(e),t=Cd(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ne(et),xe(et,t)}function Kl(){ne(et),ne(ka),ne(Wt)}function ai(e){e.memoizedState!==null&&xe(Bs,e);var t=et.current,l=Cd(t,e.type);t!==l&&(xe(ka,e),xe(et,l))}function Ys(e){ka.current===e&&(ne(et),ne(ka)),Bs.current===e&&(ne(Bs),_s._currentValue=Qe)}var si=Object.prototype.hasOwnProperty,ni=d.unstable_scheduleCallback,ii=d.unstable_cancelCallback,vf=d.unstable_shouldYield,jf=d.unstable_requestPaint,Mt=d.unstable_now,Nf=d.unstable_getCurrentPriorityLevel,jr=d.unstable_ImmediatePriority,Nr=d.unstable_UserBlockingPriority,Gs=d.unstable_NormalPriority,wf=d.unstable_LowPriority,wr=d.unstable_IdlePriority,Sf=d.log,_f=d.unstable_setDisableYieldValue,Ca=null,st=null;function Af(e){if(st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(Ca,e,void 0,(e.current.flags&128)===128)}catch{}}function Pt(e){if(typeof Sf=="function"&&_f(e),st&&typeof st.setStrictMode=="function")try{st.setStrictMode(Ca,e)}catch{}}var nt=Math.clz32?Math.clz32:Ef,Tf=Math.log,Mf=Math.LN2;function Ef(e){return e>>>=0,e===0?32:31-(Tf(e)/Mf|0)|0}var Qs=128,Xs=4194304;function jl(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Vs(e,t){var l=e.pendingLanes;if(l===0)return 0;var a=0,n=e.suspendedLanes,i=e.pingedLanes,c=e.warmLanes;e=e.finishedLanes!==0;var r=l&134217727;return r!==0?(l=r&~n,l!==0?a=jl(l):(i&=r,i!==0?a=jl(i):e||(c=r&~c,c!==0&&(a=jl(c))))):(r=l&~n,r!==0?a=jl(r):i!==0?a=jl(i):e||(c=l&~c,c!==0&&(a=jl(c)))),a===0?0:t!==0&&t!==a&&(t&n)===0&&(n=a&-a,c=t&-t,n>=c||n===32&&(c&4194176)!==0)?t:a}function Ra(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function zf(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sr(){var e=Qs;return Qs<<=1,(Qs&4194176)===0&&(Qs=128),e}function _r(){var e=Xs;return Xs<<=1,(Xs&62914560)===0&&(Xs=4194304),e}function ci(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function Ua(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Df(e,t,l,a,n,i){var c=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var r=e.entanglements,u=e.expirationTimes,m=e.hiddenUpdates;for(l=c&~l;0<l;){var _=31-nt(l),R=1<<_;r[_]=0,u[_]=-1;var p=m[_];if(p!==null)for(m[_]=null,_=0;_<p.length;_++){var S=p[_];S!==null&&(S.lane&=-536870913)}l&=~R}a!==0&&Ar(e,a,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(c&~t))}function Ar(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-nt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&4194218}function Tr(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-nt(l),n=1<<a;n&t|e[a]&t&&(e[a]|=t),l&=~n}}function Mr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Er(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:Pd(e.type))}function Of(e,t){var l=I.p;try{return I.p=e,t()}finally{I.p=l}}var It=Math.random().toString(36).slice(2),Fe="__reactFiber$"+It,tt="__reactProps$"+It,Jl="__reactContainer$"+It,ri="__reactEvents$"+It,kf="__reactListeners$"+It,Cf="__reactHandles$"+It,zr="__reactResources$"+It,Ha="__reactMarker$"+It;function ui(e){delete e[Fe],delete e[tt],delete e[ri],delete e[kf],delete e[Cf]}function Nl(e){var t=e[Fe];if(t)return t;for(var l=e.parentNode;l;){if(t=l[Jl]||l[Fe]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Hd(e);e!==null;){if(l=e[Fe])return l;e=Hd(e)}return t}e=l,l=e.parentNode}return null}function $l(e){if(e=e[Fe]||e[Jl]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ba(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Fl(e){var t=e[zr];return t||(t=e[zr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[Ha]=!0}var Dr=new Set,Or={};function wl(e,t){Wl(e,t),Wl(e+"Capture",t)}function Wl(e,t){for(Or[e]=t,e=0;e<t.length;e++)Dr.add(t[e])}var Ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kr={},Cr={};function Uf(e){return si.call(Cr,e)?!0:si.call(kr,e)?!1:Rf.test(e)?Cr[e]=!0:(kr[e]=!0,!1)}function Ls(e,t,l){if(Uf(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Zs(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function Rt(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rr(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Hf(e){var t=Rr(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var n=l.get,i=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(c){a=""+c,i.call(this,c)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(c){a=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ks(e){e._valueTracker||(e._valueTracker=Hf(e))}function Ur(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=Rr(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function Js(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Bf=/[\n"\\]/g;function ft(e){return e.replace(Bf,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function oi(e,t,l,a,n,i,c,r){e.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.type=c:e.removeAttribute("type"),t!=null?c==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):c!=="submit"&&c!=="reset"||e.removeAttribute("value"),t!=null?di(e,c,dt(t)):l!=null?di(e,c,dt(l)):a!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+dt(r):e.removeAttribute("name")}function Hr(e,t,l,a,n,i,c,r){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||t!=null))return;l=l!=null?""+dt(l):"",t=t!=null?""+dt(t):l,r||t===e.value||(e.value=t),e.defaultValue=t}a=a??n,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=r?e.checked:!!a,e.defaultChecked=!!a,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.name=c)}function di(e,t,l){t==="number"&&Js(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Pl(e,t,l,a){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&a&&(e[l].defaultSelected=!0)}else{for(l=""+dt(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Br(e,t,l){if(t!=null&&(t=""+dt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+dt(l):""}function qr(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(o(92));if(me(a)){if(1<a.length)throw Error(o(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=dt(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a)}function Il(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var qf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yr(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||qf.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function Gr(e,t,l){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&l[n]!==a&&Yr(e,n,a)}else for(var i in t)t.hasOwnProperty(i)&&Yr(e,i,t[i])}function fi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $s(e){return Gf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var mi=null;function xi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ea=null,ta=null;function Qr(e){var t=$l(e);if(t&&(e=t.stateNode)){var l=e[tt]||null;e:switch(e=t.stateNode,t.type){case"input":if(oi(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var n=a[tt]||null;if(!n)throw Error(o(90));oi(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&Ur(a)}break e;case"textarea":Br(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&Pl(e,!!l.multiple,t,!1)}}}var hi=!1;function Xr(e,t,l){if(hi)return e(t,l);hi=!0;try{var a=e(t);return a}finally{if(hi=!1,(ea!==null||ta!==null)&&(kn(),ea&&(t=ea,e=ta,ta=ea=null,Qr(t),e)))for(t=0;t<e.length;t++)Qr(e[t])}}function qa(e,t){var l=e.stateNode;if(l===null)return null;var a=l[tt]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,t,typeof l));return l}var gi=!1;if(Ct)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){gi=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{gi=!1}var el=null,yi=null,Fs=null;function Vr(){if(Fs)return Fs;var e,t=yi,l=t.length,a,n="value"in el?el.value:el.textContent,i=n.length;for(e=0;e<l&&t[e]===n[e];e++);var c=l-e;for(a=1;a<=c&&t[l-a]===n[i-a];a++);return Fs=n.slice(e,1<a?1-a:void 0)}function Ws(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ps(){return!0}function Lr(){return!1}function lt(e){function t(l,a,n,i,c){this._reactName=l,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=c,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(l=e[r],this[r]=l?l(i):i[r]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ps:Lr,this.isPropagationStopped=Lr,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ps)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ps)},persist:function(){},isPersistent:Ps}),t}var Sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Is=lt(Sl),Ga=ce({},Sl,{view:0,detail:0}),Qf=lt(Ga),pi,bi,Qa,en=ce({},Ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ji,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qa&&(Qa&&e.type==="mousemove"?(pi=e.screenX-Qa.screenX,bi=e.screenY-Qa.screenY):bi=pi=0,Qa=e),pi)},movementY:function(e){return"movementY"in e?e.movementY:bi}}),Zr=lt(en),Xf=ce({},en,{dataTransfer:0}),Vf=lt(Xf),Lf=ce({},Ga,{relatedTarget:0}),vi=lt(Lf),Zf=ce({},Sl,{animationName:0,elapsedTime:0,pseudoElement:0}),Kf=lt(Zf),Jf=ce({},Sl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$f=lt(Jf),Ff=ce({},Sl,{data:0}),Kr=lt(Ff),Wf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},If={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=If[e])?!!t[e]:!1}function ji(){return e0}var t0=ce({},Ga,{key:function(e){if(e.key){var t=Wf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ji,charCode:function(e){return e.type==="keypress"?Ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),l0=lt(t0),a0=ce({},en,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jr=lt(a0),s0=ce({},Ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ji}),n0=lt(s0),i0=ce({},Sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),c0=lt(i0),r0=ce({},en,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),u0=lt(r0),o0=ce({},Sl,{newState:0,oldState:0}),d0=lt(o0),f0=[9,13,27,32],Ni=Ct&&"CompositionEvent"in window,Xa=null;Ct&&"documentMode"in document&&(Xa=document.documentMode);var m0=Ct&&"TextEvent"in window&&!Xa,$r=Ct&&(!Ni||Xa&&8<Xa&&11>=Xa),Fr=" ",Wr=!1;function Pr(e,t){switch(e){case"keyup":return f0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ir(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var la=!1;function x0(e,t){switch(e){case"compositionend":return Ir(t);case"keypress":return t.which!==32?null:(Wr=!0,Fr);case"textInput":return e=t.data,e===Fr&&Wr?null:e;default:return null}}function h0(e,t){if(la)return e==="compositionend"||!Ni&&Pr(e,t)?(e=Vr(),Fs=yi=el=null,la=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $r&&t.locale!=="ko"?null:t.data;default:return null}}var g0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!g0[e.type]:t==="textarea"}function tu(e,t,l,a){ea?ta?ta.push(a):ta=[a]:ea=a,t=Bn(t,"onChange"),0<t.length&&(l=new Is("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var Va=null,La=null;function y0(e){Md(e,0)}function tn(e){var t=Ba(e);if(Ur(t))return e}function lu(e,t){if(e==="change")return t}var au=!1;if(Ct){var wi;if(Ct){var Si="oninput"in document;if(!Si){var su=document.createElement("div");su.setAttribute("oninput","return;"),Si=typeof su.oninput=="function"}wi=Si}else wi=!1;au=wi&&(!document.documentMode||9<document.documentMode)}function nu(){Va&&(Va.detachEvent("onpropertychange",iu),La=Va=null)}function iu(e){if(e.propertyName==="value"&&tn(La)){var t=[];tu(t,La,e,xi(e)),Xr(y0,t)}}function p0(e,t,l){e==="focusin"?(nu(),Va=t,La=l,Va.attachEvent("onpropertychange",iu)):e==="focusout"&&nu()}function b0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tn(La)}function v0(e,t){if(e==="click")return tn(t)}function j0(e,t){if(e==="input"||e==="change")return tn(t)}function N0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var it=typeof Object.is=="function"?Object.is:N0;function Za(e,t){if(it(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var n=l[a];if(!si.call(t,n)||!it(e[n],t[n]))return!1}return!0}function cu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ru(e,t){var l=cu(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=cu(l)}}function uu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ou(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Js(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Js(e.document)}return t}function _i(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function w0(e,t){var l=ou(t);t=e.focusedElem;var a=e.selectionRange;if(l!==t&&t&&t.ownerDocument&&uu(t.ownerDocument.documentElement,t)){if(a!==null&&_i(t)){if(e=a.start,l=a.end,l===void 0&&(l=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(l,t.value.length);else if(l=(e=t.ownerDocument||document)&&e.defaultView||window,l.getSelection){l=l.getSelection();var n=t.textContent.length,i=Math.min(a.start,n);a=a.end===void 0?i:Math.min(a.end,n),!l.extend&&i>a&&(n=a,a=i,i=n),n=ru(t,i);var c=ru(t,a);n&&c&&(l.rangeCount!==1||l.anchorNode!==n.node||l.anchorOffset!==n.offset||l.focusNode!==c.node||l.focusOffset!==c.offset)&&(e=e.createRange(),e.setStart(n.node,n.offset),l.removeAllRanges(),i>a?(l.addRange(e),l.extend(c.node,c.offset)):(e.setEnd(c.node,c.offset),l.addRange(e)))}}for(e=[],l=t;l=l.parentNode;)l.nodeType===1&&e.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)l=e[t],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var S0=Ct&&"documentMode"in document&&11>=document.documentMode,aa=null,Ai=null,Ka=null,Ti=!1;function du(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ti||aa==null||aa!==Js(a)||(a=aa,"selectionStart"in a&&_i(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Ka&&Za(Ka,a)||(Ka=a,a=Bn(Ai,"onSelect"),0<a.length&&(t=new Is("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=aa)))}function _l(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var sa={animationend:_l("Animation","AnimationEnd"),animationiteration:_l("Animation","AnimationIteration"),animationstart:_l("Animation","AnimationStart"),transitionrun:_l("Transition","TransitionRun"),transitionstart:_l("Transition","TransitionStart"),transitioncancel:_l("Transition","TransitionCancel"),transitionend:_l("Transition","TransitionEnd")},Mi={},fu={};Ct&&(fu=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function Al(e){if(Mi[e])return Mi[e];if(!sa[e])return e;var t=sa[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in fu)return Mi[e]=t[l];return e}var mu=Al("animationend"),xu=Al("animationiteration"),hu=Al("animationstart"),_0=Al("transitionrun"),A0=Al("transitionstart"),T0=Al("transitioncancel"),gu=Al("transitionend"),yu=new Map,pu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function wt(e,t){yu.set(e,t),wl(t,[e])}var mt=[],na=0,Ei=0;function ln(){for(var e=na,t=Ei=na=0;t<e;){var l=mt[t];mt[t++]=null;var a=mt[t];mt[t++]=null;var n=mt[t];mt[t++]=null;var i=mt[t];if(mt[t++]=null,a!==null&&n!==null){var c=a.pending;c===null?n.next=n:(n.next=c.next,c.next=n),a.pending=n}i!==0&&bu(l,n,i)}}function an(e,t,l,a){mt[na++]=e,mt[na++]=t,mt[na++]=l,mt[na++]=a,Ei|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function zi(e,t,l,a){return an(e,t,l,a),sn(e)}function tl(e,t){return an(e,null,null,t),sn(e)}function bu(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var n=!1,i=e.return;i!==null;)i.childLanes|=l,a=i.alternate,a!==null&&(a.childLanes|=l),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;n&&t!==null&&e.tag===3&&(i=e.stateNode,n=31-nt(l),i=i.hiddenUpdates,e=i[n],e===null?i[n]=[t]:e.push(t),t.lane=l|536870912)}function sn(e){if(50<ps)throw ps=0,Uc=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ia={},vu=new WeakMap;function xt(e,t){if(typeof e=="object"&&e!==null){var l=vu.get(e);return l!==void 0?l:(t={value:e,source:t,stack:$(t)},vu.set(e,t),t)}return{value:e,source:t,stack:$(t)}}var ca=[],ra=0,nn=null,cn=0,ht=[],gt=0,Tl=null,Ut=1,Ht="";function Ml(e,t){ca[ra++]=cn,ca[ra++]=nn,nn=e,cn=t}function ju(e,t,l){ht[gt++]=Ut,ht[gt++]=Ht,ht[gt++]=Tl,Tl=e;var a=Ut;e=Ht;var n=32-nt(a)-1;a&=~(1<<n),l+=1;var i=32-nt(t)+n;if(30<i){var c=n-n%5;i=(a&(1<<c)-1).toString(32),a>>=c,n-=c,Ut=1<<32-nt(t)+n|l<<n|a,Ht=i+e}else Ut=1<<i|l<<n|a,Ht=e}function Di(e){e.return!==null&&(Ml(e,1),ju(e,1,0))}function Oi(e){for(;e===nn;)nn=ca[--ra],ca[ra]=null,cn=ca[--ra],ca[ra]=null;for(;e===Tl;)Tl=ht[--gt],ht[gt]=null,Ht=ht[--gt],ht[gt]=null,Ut=ht[--gt],ht[gt]=null}var Pe=null,Ke=null,ve=!1,St=null,Et=!1,ki=Error(o(519));function El(e){var t=Error(o(418,""));throw Fa(xt(t,e)),ki}function Nu(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[Fe]=e,t[tt]=a,l){case"dialog":fe("cancel",t),fe("close",t);break;case"iframe":case"object":case"embed":fe("load",t);break;case"video":case"audio":for(l=0;l<vs.length;l++)fe(vs[l],t);break;case"source":fe("error",t);break;case"img":case"image":case"link":fe("error",t),fe("load",t);break;case"details":fe("toggle",t);break;case"input":fe("invalid",t),Hr(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),Ks(t);break;case"select":fe("invalid",t);break;case"textarea":fe("invalid",t),qr(t,a.value,a.defaultValue,a.children),Ks(t)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||Od(t.textContent,l)?(a.popover!=null&&(fe("beforetoggle",t),fe("toggle",t)),a.onScroll!=null&&fe("scroll",t),a.onScrollEnd!=null&&fe("scrollend",t),a.onClick!=null&&(t.onclick=qn),t=!0):t=!1,t||El(e)}function wu(e){for(Pe=e.return;Pe;)switch(Pe.tag){case 3:case 27:Et=!0;return;case 5:case 13:Et=!1;return;default:Pe=Pe.return}}function Ja(e){if(e!==Pe)return!1;if(!ve)return wu(e),ve=!0,!1;var t=!1,l;if((l=e.tag!==3&&e.tag!==27)&&((l=e.tag===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Ic(e.type,e.memoizedProps)),l=!l),l&&(t=!0),t&&Ke&&El(e),wu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(t===0){Ke=At(e.nextSibling);break e}t--}else l!=="$"&&l!=="$!"&&l!=="$?"||t++;e=e.nextSibling}Ke=null}}else Ke=Pe?At(e.stateNode.nextSibling):null;return!0}function $a(){Ke=Pe=null,ve=!1}function Fa(e){St===null?St=[e]:St.push(e)}var Wa=Error(o(460)),Su=Error(o(474)),Ci={then:function(){}};function _u(e){return e=e.status,e==="fulfilled"||e==="rejected"}function rn(){}function Au(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(rn,rn),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Wa?Error(o(483)):e;default:if(typeof t.status=="string")t.then(rn,rn);else{if(e=Ae,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=a}},function(a){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Wa?Error(o(483)):e}throw Pa=t,Wa}}var Pa=null;function Tu(){if(Pa===null)throw Error(o(459));var e=Pa;return Pa=null,e}var ua=null,Ia=0;function un(e){var t=Ia;return Ia+=1,ua===null&&(ua=[]),Au(ua,e,t)}function es(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function on(e,t){throw t.$$typeof===H?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Mu(e){var t=e._init;return t(e._payload)}function Eu(e){function t(x,f){if(e){var g=x.deletions;g===null?(x.deletions=[f],x.flags|=16):g.push(f)}}function l(x,f){if(!e)return null;for(;f!==null;)t(x,f),f=f.sibling;return null}function a(x){for(var f=new Map;x!==null;)x.key!==null?f.set(x.key,x):f.set(x.index,x),x=x.sibling;return f}function n(x,f){return x=ml(x,f),x.index=0,x.sibling=null,x}function i(x,f,g){return x.index=g,e?(g=x.alternate,g!==null?(g=g.index,g<f?(x.flags|=33554434,f):g):(x.flags|=33554434,f)):(x.flags|=1048576,f)}function c(x){return e&&x.alternate===null&&(x.flags|=33554434),x}function r(x,f,g,E){return f===null||f.tag!==6?(f=Mc(g,x.mode,E),f.return=x,f):(f=n(f,g),f.return=x,f)}function u(x,f,g,E){var V=g.type;return V===j?_(x,f,g.props.children,E,g.key):f!==null&&(f.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===B&&Mu(V)===f.type)?(f=n(f,g.props),es(f,g),f.return=x,f):(f=Mn(g.type,g.key,g.props,null,x.mode,E),es(f,g),f.return=x,f)}function m(x,f,g,E){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Ec(g,x.mode,E),f.return=x,f):(f=n(f,g.children||[]),f.return=x,f)}function _(x,f,g,E,V){return f===null||f.tag!==7?(f=ql(g,x.mode,E,V),f.return=x,f):(f=n(f,g),f.return=x,f)}function R(x,f,g){if(typeof f=="string"&&f!==""||typeof f=="number"||typeof f=="bigint")return f=Mc(""+f,x.mode,g),f.return=x,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case D:return g=Mn(f.type,f.key,f.props,null,x.mode,g),es(g,f),g.return=x,g;case b:return f=Ec(f,x.mode,g),f.return=x,f;case B:var E=f._init;return f=E(f._payload),R(x,f,g)}if(me(f)||de(f))return f=ql(f,x.mode,g,null),f.return=x,f;if(typeof f.then=="function")return R(x,un(f),g);if(f.$$typeof===q)return R(x,_n(x,f),g);on(x,f)}return null}function p(x,f,g,E){var V=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return V!==null?null:r(x,f,""+g,E);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case D:return g.key===V?u(x,f,g,E):null;case b:return g.key===V?m(x,f,g,E):null;case B:return V=g._init,g=V(g._payload),p(x,f,g,E)}if(me(g)||de(g))return V!==null?null:_(x,f,g,E,null);if(typeof g.then=="function")return p(x,f,un(g),E);if(g.$$typeof===q)return p(x,f,_n(x,g),E);on(x,g)}return null}function S(x,f,g,E,V){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return x=x.get(g)||null,r(f,x,""+E,V);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case D:return x=x.get(E.key===null?g:E.key)||null,u(f,x,E,V);case b:return x=x.get(E.key===null?g:E.key)||null,m(f,x,E,V);case B:var ie=E._init;return E=ie(E._payload),S(x,f,g,E,V)}if(me(E)||de(E))return x=x.get(g)||null,_(f,x,E,V,null);if(typeof E.then=="function")return S(x,f,g,un(E),V);if(E.$$typeof===q)return S(x,f,g,_n(f,E),V);on(f,E)}return null}function L(x,f,g,E){for(var V=null,ie=null,J=f,P=f=0,Ze=null;J!==null&&P<g.length;P++){J.index>P?(Ze=J,J=null):Ze=J.sibling;var je=p(x,J,g[P],E);if(je===null){J===null&&(J=Ze);break}e&&J&&je.alternate===null&&t(x,J),f=i(je,f,P),ie===null?V=je:ie.sibling=je,ie=je,J=Ze}if(P===g.length)return l(x,J),ve&&Ml(x,P),V;if(J===null){for(;P<g.length;P++)J=R(x,g[P],E),J!==null&&(f=i(J,f,P),ie===null?V=J:ie.sibling=J,ie=J);return ve&&Ml(x,P),V}for(J=a(J);P<g.length;P++)Ze=S(J,x,P,g[P],E),Ze!==null&&(e&&Ze.alternate!==null&&J.delete(Ze.key===null?P:Ze.key),f=i(Ze,f,P),ie===null?V=Ze:ie.sibling=Ze,ie=Ze);return e&&J.forEach(function(vl){return t(x,vl)}),ve&&Ml(x,P),V}function ae(x,f,g,E){if(g==null)throw Error(o(151));for(var V=null,ie=null,J=f,P=f=0,Ze=null,je=g.next();J!==null&&!je.done;P++,je=g.next()){J.index>P?(Ze=J,J=null):Ze=J.sibling;var vl=p(x,J,je.value,E);if(vl===null){J===null&&(J=Ze);break}e&&J&&vl.alternate===null&&t(x,J),f=i(vl,f,P),ie===null?V=vl:ie.sibling=vl,ie=vl,J=Ze}if(je.done)return l(x,J),ve&&Ml(x,P),V;if(J===null){for(;!je.done;P++,je=g.next())je=R(x,je.value,E),je!==null&&(f=i(je,f,P),ie===null?V=je:ie.sibling=je,ie=je);return ve&&Ml(x,P),V}for(J=a(J);!je.done;P++,je=g.next())je=S(J,x,P,je.value,E),je!==null&&(e&&je.alternate!==null&&J.delete(je.key===null?P:je.key),f=i(je,f,P),ie===null?V=je:ie.sibling=je,ie=je);return e&&J.forEach(function(Gm){return t(x,Gm)}),ve&&Ml(x,P),V}function Ce(x,f,g,E){if(typeof g=="object"&&g!==null&&g.type===j&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case D:e:{for(var V=g.key;f!==null;){if(f.key===V){if(V=g.type,V===j){if(f.tag===7){l(x,f.sibling),E=n(f,g.props.children),E.return=x,x=E;break e}}else if(f.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===B&&Mu(V)===f.type){l(x,f.sibling),E=n(f,g.props),es(E,g),E.return=x,x=E;break e}l(x,f);break}else t(x,f);f=f.sibling}g.type===j?(E=ql(g.props.children,x.mode,E,g.key),E.return=x,x=E):(E=Mn(g.type,g.key,g.props,null,x.mode,E),es(E,g),E.return=x,x=E)}return c(x);case b:e:{for(V=g.key;f!==null;){if(f.key===V)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){l(x,f.sibling),E=n(f,g.children||[]),E.return=x,x=E;break e}else{l(x,f);break}else t(x,f);f=f.sibling}E=Ec(g,x.mode,E),E.return=x,x=E}return c(x);case B:return V=g._init,g=V(g._payload),Ce(x,f,g,E)}if(me(g))return L(x,f,g,E);if(de(g)){if(V=de(g),typeof V!="function")throw Error(o(150));return g=V.call(g),ae(x,f,g,E)}if(typeof g.then=="function")return Ce(x,f,un(g),E);if(g.$$typeof===q)return Ce(x,f,_n(x,g),E);on(x,g)}return typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint"?(g=""+g,f!==null&&f.tag===6?(l(x,f.sibling),E=n(f,g),E.return=x,x=E):(l(x,f),E=Mc(g,x.mode,E),E.return=x,x=E),c(x)):l(x,f)}return function(x,f,g,E){try{Ia=0;var V=Ce(x,f,g,E);return ua=null,V}catch(J){if(J===Wa)throw J;var ie=vt(29,J,null,x.mode);return ie.lanes=E,ie.return=x,ie}finally{}}}var zl=Eu(!0),zu=Eu(!1),oa=be(null),dn=be(0);function Du(e,t){e=Jt,xe(dn,e),xe(oa,t),Jt=e|t.baseLanes}function Ri(){xe(dn,Jt),xe(oa,oa.current)}function Ui(){Jt=dn.current,ne(oa),ne(dn)}var yt=be(null),zt=null;function ll(e){var t=e.alternate;xe(Ye,Ye.current&1),xe(yt,e),zt===null&&(t===null||oa.current!==null||t.memoizedState!==null)&&(zt=e)}function Ou(e){if(e.tag===22){if(xe(Ye,Ye.current),xe(yt,e),zt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(zt=e)}}else al()}function al(){xe(Ye,Ye.current),xe(yt,yt.current)}function Bt(e){ne(yt),zt===e&&(zt=null),ne(Ye)}var Ye=be(0);function fn(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var M0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},E0=d.unstable_scheduleCallback,z0=d.unstable_NormalPriority,Ge={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hi(){return{controller:new M0,data:new Map,refCount:0}}function ts(e){e.refCount--,e.refCount===0&&E0(z0,function(){e.controller.abort()})}var ls=null,Bi=0,da=0,fa=null;function D0(e,t){if(ls===null){var l=ls=[];Bi=0,da=Vc(),fa={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Bi++,t.then(ku,ku),t}function ku(){if(--Bi===0&&ls!==null){fa!==null&&(fa.status="fulfilled");var e=ls;ls=null,da=0,fa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function O0(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(a.status="rejected",a.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),a}var Cu=K.S;K.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&D0(e,t),Cu!==null&&Cu(e,t)};var Dl=be(null);function qi(){var e=Dl.current;return e!==null?e:Ae.pooledCache}function mn(e,t){t===null?xe(Dl,Dl.current):xe(Dl,t.pool)}function Ru(){var e=qi();return e===null?null:{parent:Ge._currentValue,pool:e}}var sl=0,se=null,we=null,He=null,xn=!1,ma=!1,Ol=!1,hn=0,as=0,xa=null,k0=0;function Re(){throw Error(o(321))}function Yi(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!it(e[l],t[l]))return!1;return!0}function Gi(e,t,l,a,n,i){return sl=i,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,K.H=e===null||e.memoizedState===null?kl:nl,Ol=!1,i=l(a,n),Ol=!1,ma&&(i=Hu(t,l,a,n)),Uu(e),i}function Uu(e){K.H=Dt;var t=we!==null&&we.next!==null;if(sl=0,He=we=se=null,xn=!1,as=0,xa=null,t)throw Error(o(300));e===null||Ve||(e=e.dependencies,e!==null&&Sn(e)&&(Ve=!0))}function Hu(e,t,l,a){se=e;var n=0;do{if(ma&&(xa=null),as=0,ma=!1,25<=n)throw Error(o(301));if(n+=1,He=we=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}K.H=Cl,i=t(l,a)}while(ma);return i}function C0(){var e=K.H,t=e.useState()[0];return t=typeof t.then=="function"?ss(t):t,e=e.useState()[0],(we!==null?we.memoizedState:null)!==e&&(se.flags|=1024),t}function Qi(){var e=hn!==0;return hn=0,e}function Xi(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Vi(e){if(xn){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}xn=!1}sl=0,He=we=se=null,ma=!1,as=hn=0,xa=null}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?se.memoizedState=He=e:He=He.next=e,He}function Be(){if(we===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=He===null?se.memoizedState:He.next;if(t!==null)He=t,we=e;else{if(e===null)throw se.alternate===null?Error(o(467)):Error(o(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},He===null?se.memoizedState=He=e:He=He.next=e}return He}var gn;gn=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ss(e){var t=as;return as+=1,xa===null&&(xa=[]),e=Au(xa,e,t),t=se,(He===null?t.memoizedState:He.next)===null&&(t=t.alternate,K.H=t===null||t.memoizedState===null?kl:nl),e}function yn(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ss(e);if(e.$$typeof===q)return We(e)}throw Error(o(438,String(e)))}function Li(e){var t=null,l=se.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=se.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=gn(),se.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=X;return t.index++,l}function qt(e,t){return typeof t=="function"?t(e):t}function pn(e){var t=Be();return Zi(t,we,e)}function Zi(e,t,l){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=l;var n=e.baseQueue,i=a.pending;if(i!==null){if(n!==null){var c=n.next;n.next=i.next,i.next=c}t.baseQueue=n=i,a.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var r=c=null,u=null,m=t,_=!1;do{var R=m.lane&-536870913;if(R!==m.lane?(he&R)===R:(sl&R)===R){var p=m.revertLane;if(p===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),R===da&&(_=!0);else if((sl&p)===p){m=m.next,p===da&&(_=!0);continue}else R={lane:0,revertLane:m.revertLane,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null},u===null?(r=u=R,c=i):u=u.next=R,se.lanes|=p,xl|=p;R=m.action,Ol&&l(i,R),i=m.hasEagerState?m.eagerState:l(i,R)}else p={lane:R,revertLane:m.revertLane,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null},u===null?(r=u=p,c=i):u=u.next=p,se.lanes|=R,xl|=R;m=m.next}while(m!==null&&m!==t);if(u===null?c=i:u.next=r,!it(i,e.memoizedState)&&(Ve=!0,_&&(l=fa,l!==null)))throw l;e.memoizedState=i,e.baseState=c,e.baseQueue=u,a.lastRenderedState=i}return n===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Ki(e){var t=Be(),l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var a=l.dispatch,n=l.pending,i=t.memoizedState;if(n!==null){l.pending=null;var c=n=n.next;do i=e(i,c.action),c=c.next;while(c!==n);it(i,t.memoizedState)||(Ve=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),l.lastRenderedState=i}return[i,a]}function Bu(e,t,l){var a=se,n=Be(),i=ve;if(i){if(l===void 0)throw Error(o(407));l=l()}else l=t();var c=!it((we||n).memoizedState,l);if(c&&(n.memoizedState=l,Ve=!0),n=n.queue,Fi(Gu.bind(null,a,n,e),[e]),n.getSnapshot!==t||c||He!==null&&He.memoizedState.tag&1){if(a.flags|=2048,ha(9,Yu.bind(null,a,n,l,t),{destroy:void 0},null),Ae===null)throw Error(o(349));i||(sl&60)!==0||qu(a,t,l)}return l}function qu(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=se.updateQueue,t===null?(t=gn(),se.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function Yu(e,t,l,a){t.value=l,t.getSnapshot=a,Qu(t)&&Xu(e)}function Gu(e,t,l){return l(function(){Qu(t)&&Xu(e)})}function Qu(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!it(e,l)}catch{return!0}}function Xu(e){var t=tl(e,2);t!==null&&Ie(t,e,2)}function Ji(e){var t=at();if(typeof e=="function"){var l=e;if(e=l(),Ol){Pt(!0);try{l()}finally{Pt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qt,lastRenderedState:e},t}function Vu(e,t,l,a){return e.baseState=l,Zi(e,we,typeof a=="function"?a:qt)}function R0(e,t,l,a,n){if(jn(e))throw Error(o(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){i.listeners.push(c)}};K.T!==null?l(!0):i.isTransition=!1,a(i),l=t.pending,l===null?(i.next=t.pending=i,Lu(t,i)):(i.next=l.next,t.pending=l.next=i)}}function Lu(e,t){var l=t.action,a=t.payload,n=e.state;if(t.isTransition){var i=K.T,c={};K.T=c;try{var r=l(n,a),u=K.S;u!==null&&u(c,r),Zu(e,t,r)}catch(m){$i(e,t,m)}finally{K.T=i}}else try{i=l(n,a),Zu(e,t,i)}catch(m){$i(e,t,m)}}function Zu(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Ku(e,t,a)},function(a){return $i(e,t,a)}):Ku(e,t,l)}function Ku(e,t,l){t.status="fulfilled",t.value=l,Ju(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,Lu(e,l)))}function $i(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,Ju(t),t=t.next;while(t!==a)}e.action=null}function Ju(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function $u(e,t){return t}function Fu(e,t){if(ve){var l=Ae.formState;if(l!==null){e:{var a=se;if(ve){if(Ke){t:{for(var n=Ke,i=Et;n.nodeType!==8;){if(!i){n=null;break t}if(n=At(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){Ke=At(n.nextSibling),a=n.data==="F!";break e}}El(a)}a=!1}a&&(t=l[0])}}return l=at(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$u,lastRenderedState:t},l.queue=a,l=ho.bind(null,se,a),a.dispatch=l,a=Ji(!1),i=tc.bind(null,se,!1,a.queue),a=at(),n={state:t,dispatch:null,action:e,pending:null},a.queue=n,l=R0.bind(null,se,n,i,l),n.dispatch=l,a.memoizedState=e,[t,l,!1]}function Wu(e){var t=Be();return Pu(t,we,e)}function Pu(e,t,l){t=Zi(e,t,$u)[0],e=pn(qt)[0],t=typeof t=="object"&&t!==null&&typeof t.then=="function"?ss(t):t;var a=Be(),n=a.queue,i=n.dispatch;return l!==a.memoizedState&&(se.flags|=2048,ha(9,U0.bind(null,n,l),{destroy:void 0},null)),[t,i,e]}function U0(e,t){e.action=t}function Iu(e){var t=Be(),l=we;if(l!==null)return Pu(t,l,e);Be(),t=t.memoizedState,l=Be();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function ha(e,t,l,a){return e={tag:e,create:t,inst:l,deps:a,next:null},t=se.updateQueue,t===null&&(t=gn(),se.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function eo(){return Be().memoizedState}function bn(e,t,l,a){var n=at();se.flags|=e,n.memoizedState=ha(1|t,l,{destroy:void 0},a===void 0?null:a)}function vn(e,t,l,a){var n=Be();a=a===void 0?null:a;var i=n.memoizedState.inst;we!==null&&a!==null&&Yi(a,we.memoizedState.deps)?n.memoizedState=ha(t,l,i,a):(se.flags|=e,n.memoizedState=ha(1|t,l,i,a))}function to(e,t){bn(8390656,8,e,t)}function Fi(e,t){vn(2048,8,e,t)}function lo(e,t){return vn(4,2,e,t)}function ao(e,t){return vn(4,4,e,t)}function so(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function no(e,t,l){l=l!=null?l.concat([e]):null,vn(4,4,so.bind(null,t,e),l)}function Wi(){}function io(e,t){var l=Be();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&Yi(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function co(e,t){var l=Be();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&Yi(t,a[1]))return a[0];if(a=e(),Ol){Pt(!0);try{e()}finally{Pt(!1)}}return l.memoizedState=[a,t],a}function Pi(e,t,l){return l===void 0||(sl&1073741824)!==0?e.memoizedState=t:(e.memoizedState=l,e=od(),se.lanes|=e,xl|=e,l)}function ro(e,t,l,a){return it(l,t)?l:oa.current!==null?(e=Pi(e,l,a),it(e,t)||(Ve=!0),e):(sl&42)===0?(Ve=!0,e.memoizedState=l):(e=od(),se.lanes|=e,xl|=e,t)}function uo(e,t,l,a,n){var i=I.p;I.p=i!==0&&8>i?i:8;var c=K.T,r={};K.T=r,tc(e,!1,t,l);try{var u=n(),m=K.S;if(m!==null&&m(r,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var _=O0(u,a);ns(e,t,_,ot(e))}else ns(e,t,a,ot(e))}catch(R){ns(e,t,{then:function(){},status:"rejected",reason:R},ot())}finally{I.p=i,K.T=c}}function H0(){}function Ii(e,t,l,a){if(e.tag!==5)throw Error(o(476));var n=oo(e).queue;uo(e,n,t,Qe,l===null?H0:function(){return fo(e),l(a)})}function oo(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Qe,baseState:Qe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qt,lastRenderedState:Qe},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qt,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function fo(e){var t=oo(e).next.queue;ns(e,t,{},ot())}function ec(){return We(_s)}function mo(){return Be().memoizedState}function xo(){return Be().memoizedState}function B0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=ot();e=rl(l);var a=ul(t,e,l);a!==null&&(Ie(a,t,l),rs(a,t,l)),t={cache:Hi()},e.payload=t;return}t=t.return}}function q0(e,t,l){var a=ot();l={lane:a,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},jn(e)?go(t,l):(l=zi(e,t,l,a),l!==null&&(Ie(l,e,a),yo(l,t,a)))}function ho(e,t,l){var a=ot();ns(e,t,l,a)}function ns(e,t,l,a){var n={lane:a,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(jn(e))go(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var c=t.lastRenderedState,r=i(c,l);if(n.hasEagerState=!0,n.eagerState=r,it(r,c))return an(e,t,n,0),Ae===null&&ln(),!1}catch{}finally{}if(l=zi(e,t,n,a),l!==null)return Ie(l,e,a),yo(l,t,a),!0}return!1}function tc(e,t,l,a){if(a={lane:2,revertLane:Vc(),action:a,hasEagerState:!1,eagerState:null,next:null},jn(e)){if(t)throw Error(o(479))}else t=zi(e,l,a,2),t!==null&&Ie(t,e,2)}function jn(e){var t=e.alternate;return e===se||t!==null&&t===se}function go(e,t){ma=xn=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function yo(e,t,l){if((l&4194176)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Tr(e,l)}}var Dt={readContext:We,use:yn,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useLayoutEffect:Re,useInsertionEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useSyncExternalStore:Re,useId:Re};Dt.useCacheRefresh=Re,Dt.useMemoCache=Re,Dt.useHostTransitionStatus=Re,Dt.useFormState=Re,Dt.useActionState=Re,Dt.useOptimistic=Re;var kl={readContext:We,use:yn,useCallback:function(e,t){return at().memoizedState=[e,t===void 0?null:t],e},useContext:We,useEffect:to,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,bn(4194308,4,so.bind(null,t,e),l)},useLayoutEffect:function(e,t){return bn(4194308,4,e,t)},useInsertionEffect:function(e,t){bn(4,2,e,t)},useMemo:function(e,t){var l=at();t=t===void 0?null:t;var a=e();if(Ol){Pt(!0);try{e()}finally{Pt(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=at();if(l!==void 0){var n=l(t);if(Ol){Pt(!0);try{l(t)}finally{Pt(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=q0.bind(null,se,e),[a.memoizedState,e]},useRef:function(e){var t=at();return e={current:e},t.memoizedState=e},useState:function(e){e=Ji(e);var t=e.queue,l=ho.bind(null,se,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Wi,useDeferredValue:function(e,t){var l=at();return Pi(l,e,t)},useTransition:function(){var e=Ji(!1);return e=uo.bind(null,se,e.queue,!0,!1),at().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=se,n=at();if(ve){if(l===void 0)throw Error(o(407));l=l()}else{if(l=t(),Ae===null)throw Error(o(349));(he&60)!==0||qu(a,t,l)}n.memoizedState=l;var i={value:l,getSnapshot:t};return n.queue=i,to(Gu.bind(null,a,i,e),[e]),a.flags|=2048,ha(9,Yu.bind(null,a,i,l,t),{destroy:void 0},null),l},useId:function(){var e=at(),t=Ae.identifierPrefix;if(ve){var l=Ht,a=Ut;l=(a&~(1<<32-nt(a)-1)).toString(32)+l,t=":"+t+"R"+l,l=hn++,0<l&&(t+="H"+l.toString(32)),t+=":"}else l=k0++,t=":"+t+"r"+l.toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return at().memoizedState=B0.bind(null,se)}};kl.useMemoCache=Li,kl.useHostTransitionStatus=ec,kl.useFormState=Fu,kl.useActionState=Fu,kl.useOptimistic=function(e){var t=at();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=tc.bind(null,se,!0,l),l.dispatch=t,[e,t]};var nl={readContext:We,use:yn,useCallback:io,useContext:We,useEffect:Fi,useImperativeHandle:no,useInsertionEffect:lo,useLayoutEffect:ao,useMemo:co,useReducer:pn,useRef:eo,useState:function(){return pn(qt)},useDebugValue:Wi,useDeferredValue:function(e,t){var l=Be();return ro(l,we.memoizedState,e,t)},useTransition:function(){var e=pn(qt)[0],t=Be().memoizedState;return[typeof e=="boolean"?e:ss(e),t]},useSyncExternalStore:Bu,useId:mo};nl.useCacheRefresh=xo,nl.useMemoCache=Li,nl.useHostTransitionStatus=ec,nl.useFormState=Wu,nl.useActionState=Wu,nl.useOptimistic=function(e,t){var l=Be();return Vu(l,we,e,t)};var Cl={readContext:We,use:yn,useCallback:io,useContext:We,useEffect:Fi,useImperativeHandle:no,useInsertionEffect:lo,useLayoutEffect:ao,useMemo:co,useReducer:Ki,useRef:eo,useState:function(){return Ki(qt)},useDebugValue:Wi,useDeferredValue:function(e,t){var l=Be();return we===null?Pi(l,e,t):ro(l,we.memoizedState,e,t)},useTransition:function(){var e=Ki(qt)[0],t=Be().memoizedState;return[typeof e=="boolean"?e:ss(e),t]},useSyncExternalStore:Bu,useId:mo};Cl.useCacheRefresh=xo,Cl.useMemoCache=Li,Cl.useHostTransitionStatus=ec,Cl.useFormState=Iu,Cl.useActionState=Iu,Cl.useOptimistic=function(e,t){var l=Be();return we!==null?Vu(l,we,e,t):(l.baseState=e,[e,l.queue.dispatch])};function lc(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:ce({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var ac={isMounted:function(e){return(e=e._reactInternals)?F(e)===e:!1},enqueueSetState:function(e,t,l){e=e._reactInternals;var a=ot(),n=rl(a);n.payload=t,l!=null&&(n.callback=l),t=ul(e,n,a),t!==null&&(Ie(t,e,a),rs(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=ot(),n=rl(a);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=ul(e,n,a),t!==null&&(Ie(t,e,a),rs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=ot(),a=rl(l);a.tag=2,t!=null&&(a.callback=t),t=ul(e,a,l),t!==null&&(Ie(t,e,l),rs(t,e,l))}};function po(e,t,l,a,n,i,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,c):t.prototype&&t.prototype.isPureReactComponent?!Za(l,a)||!Za(n,i):!0}function bo(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&ac.enqueueReplaceState(t,t.state,null)}function Rl(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=ce({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}var Nn=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function vo(e){Nn(e)}function jo(e){console.error(e)}function No(e){Nn(e)}function wn(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function wo(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function sc(e,t,l){return l=rl(l),l.tag=3,l.payload={element:null},l.callback=function(){wn(e,t)},l}function So(e){return e=rl(e),e.tag=3,e}function _o(e,t,l,a){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var i=a.value;e.payload=function(){return n(i)},e.callback=function(){wo(t,l,a)}}var c=l.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(e.callback=function(){wo(t,l,a),typeof n!="function"&&(hl===null?hl=new Set([this]):hl.add(this));var r=a.stack;this.componentDidCatch(a.value,{componentStack:r!==null?r:""})})}function Y0(e,t,l,a,n){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&cs(t,l,n,!0),l=yt.current,l!==null){switch(l.tag){case 13:return zt===null?qc():l.alternate===null&&ke===0&&(ke=3),l.flags&=-257,l.flags|=65536,l.lanes=n,a===Ci?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),Gc(e,a,n)),!1;case 22:return l.flags|=65536,a===Ci?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),Gc(e,a,n)),!1}throw Error(o(435,l.tag))}return Gc(e,a,n),qc(),!1}if(ve)return t=yt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==ki&&(e=Error(o(422),{cause:a}),Fa(xt(e,l)))):(a!==ki&&(t=Error(o(423),{cause:a}),Fa(xt(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,a=xt(a,l),n=sc(e.stateNode,a,n),bc(e,n),ke!==4&&(ke=2)),!1;var i=Error(o(520),{cause:a});if(i=xt(i,l),gs===null?gs=[i]:gs.push(i),ke!==4&&(ke=2),t===null)return!0;a=xt(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=sc(l.stateNode,a,e),bc(l,e),!1;case 1:if(t=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(hl===null||!hl.has(i))))return l.flags|=65536,n&=-n,l.lanes|=n,n=So(n),_o(n,e,l,a),bc(l,n),!1}l=l.return}while(l!==null);return!1}var Ao=Error(o(461)),Ve=!1;function Je(e,t,l,a){t.child=e===null?zu(t,null,l,a):zl(t,e.child,l,a)}function To(e,t,l,a,n){l=l.render;var i=t.ref;if("ref"in a){var c={};for(var r in a)r!=="ref"&&(c[r]=a[r])}else c=a;return Hl(t),a=Gi(e,t,l,c,i,n),r=Qi(),e!==null&&!Ve?(Xi(e,t,n),Yt(e,t,n)):(ve&&r&&Di(t),t.flags|=1,Je(e,t,a,n),t.child)}function Mo(e,t,l,a,n){if(e===null){var i=l.type;return typeof i=="function"&&!Tc(i)&&i.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=i,Eo(e,t,i,a,n)):(e=Mn(l.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!mc(e,n)){var c=i.memoizedProps;if(l=l.compare,l=l!==null?l:Za,l(c,a)&&e.ref===t.ref)return Yt(e,t,n)}return t.flags|=1,e=ml(i,a),e.ref=t.ref,e.return=t,t.child=e}function Eo(e,t,l,a,n){if(e!==null){var i=e.memoizedProps;if(Za(i,a)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=a=i,mc(e,n))(e.flags&131072)!==0&&(Ve=!0);else return t.lanes=e.lanes,Yt(e,t,n)}return nc(e,t,l,a,n)}function zo(e,t,l){var a=t.pendingProps,n=a.children,i=(t.stateNode._pendingVisibility&2)!==0,c=e!==null?e.memoizedState:null;if(is(e,t),a.mode==="hidden"||i){if((t.flags&128)!==0){if(a=c!==null?c.baseLanes|l:l,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;t.childLanes=i&~a}else t.childLanes=0,t.child=null;return Do(e,t,a,l)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&mn(t,c!==null?c.cachePool:null),c!==null?Du(t,c):Ri(),Ou(t);else return t.lanes=t.childLanes=536870912,Do(e,t,c!==null?c.baseLanes|l:l,l)}else c!==null?(mn(t,c.cachePool),Du(t,c),al(),t.memoizedState=null):(e!==null&&mn(t,null),Ri(),al());return Je(e,t,n,l),t.child}function Do(e,t,l,a){var n=qi();return n=n===null?null:{parent:Ge._currentValue,pool:n},t.memoizedState={baseLanes:l,cachePool:n},e!==null&&mn(t,null),Ri(),Ou(t),e!==null&&cs(e,t,a,!0),null}function is(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(t.flags|=2097664)}}function nc(e,t,l,a,n){return Hl(t),l=Gi(e,t,l,a,void 0,n),a=Qi(),e!==null&&!Ve?(Xi(e,t,n),Yt(e,t,n)):(ve&&a&&Di(t),t.flags|=1,Je(e,t,l,n),t.child)}function Oo(e,t,l,a,n,i){return Hl(t),t.updateQueue=null,l=Hu(t,a,l,n),Uu(e),a=Qi(),e!==null&&!Ve?(Xi(e,t,i),Yt(e,t,i)):(ve&&a&&Di(t),t.flags|=1,Je(e,t,l,i),t.child)}function ko(e,t,l,a,n){if(Hl(t),t.stateNode===null){var i=ia,c=l.contextType;typeof c=="object"&&c!==null&&(i=We(c)),i=new l(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ac,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},yc(t),c=l.contextType,i.context=typeof c=="object"&&c!==null?We(c):ia,i.state=t.memoizedState,c=l.getDerivedStateFromProps,typeof c=="function"&&(lc(t,l,c,a),i.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(c=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),c!==i.state&&ac.enqueueReplaceState(i,i.state,null),os(t,a,i,n),us(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var r=t.memoizedProps,u=Rl(l,r);i.props=u;var m=i.context,_=l.contextType;c=ia,typeof _=="object"&&_!==null&&(c=We(_));var R=l.getDerivedStateFromProps;_=typeof R=="function"||typeof i.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,_||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r||m!==c)&&bo(t,i,a,c),cl=!1;var p=t.memoizedState;i.state=p,os(t,a,i,n),us(),m=t.memoizedState,r||p!==m||cl?(typeof R=="function"&&(lc(t,l,R,a),m=t.memoizedState),(u=cl||po(t,l,u,a,p,m,c))?(_||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=m),i.props=a,i.state=m,i.context=c,a=u):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,pc(e,t),c=t.memoizedProps,_=Rl(l,c),i.props=_,R=t.pendingProps,p=i.context,m=l.contextType,u=ia,typeof m=="object"&&m!==null&&(u=We(m)),r=l.getDerivedStateFromProps,(m=typeof r=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==R||p!==u)&&bo(t,i,a,u),cl=!1,p=t.memoizedState,i.state=p,os(t,a,i,n),us();var S=t.memoizedState;c!==R||p!==S||cl||e!==null&&e.dependencies!==null&&Sn(e.dependencies)?(typeof r=="function"&&(lc(t,l,r,a),S=t.memoizedState),(_=cl||po(t,l,_,a,p,S,u)||e!==null&&e.dependencies!==null&&Sn(e.dependencies))?(m||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,S,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,S,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=S),i.props=a,i.state=S,i.context=u,a=_):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,is(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=zl(t,e.child,null,n),t.child=zl(t,null,l,n)):Je(e,t,l,n),t.memoizedState=i.state,e=t.child):e=Yt(e,t,n),e}function Co(e,t,l,a){return $a(),t.flags|=256,Je(e,t,l,a),t.child}var ic={dehydrated:null,treeContext:null,retryLane:0};function cc(e){return{baseLanes:e,cachePool:Ru()}}function rc(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=jt),e}function Ro(e,t,l){var a=t.pendingProps,n=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),c&&(n=!0,t.flags&=-129),c=(t.flags&32)!==0,t.flags&=-33,e===null){if(ve){if(n?ll(t):al(),ve){var r=Ke,u;if(u=r){e:{for(u=r,r=Et;u.nodeType!==8;){if(!r){r=null;break e}if(u=At(u.nextSibling),u===null){r=null;break e}}r=u}r!==null?(t.memoizedState={dehydrated:r,treeContext:Tl!==null?{id:Ut,overflow:Ht}:null,retryLane:536870912},u=vt(18,null,null,0),u.stateNode=r,u.return=t,t.child=u,Pe=t,Ke=null,u=!0):u=!1}u||El(t)}if(r=t.memoizedState,r!==null&&(r=r.dehydrated,r!==null))return r.data==="$!"?t.lanes=16:t.lanes=536870912,null;Bt(t)}return r=a.children,a=a.fallback,n?(al(),n=t.mode,r=oc({mode:"hidden",children:r},n),a=ql(a,n,l,null),r.return=t,a.return=t,r.sibling=a,t.child=r,n=t.child,n.memoizedState=cc(l),n.childLanes=rc(e,c,l),t.memoizedState=ic,a):(ll(t),uc(t,r))}if(u=e.memoizedState,u!==null&&(r=u.dehydrated,r!==null)){if(i)t.flags&256?(ll(t),t.flags&=-257,t=dc(e,t,l)):t.memoizedState!==null?(al(),t.child=e.child,t.flags|=128,t=null):(al(),n=a.fallback,r=t.mode,a=oc({mode:"visible",children:a.children},r),n=ql(n,r,l,null),n.flags|=2,a.return=t,n.return=t,a.sibling=n,t.child=a,zl(t,e.child,null,l),a=t.child,a.memoizedState=cc(l),a.childLanes=rc(e,c,l),t.memoizedState=ic,t=n);else if(ll(t),r.data==="$!"){if(c=r.nextSibling&&r.nextSibling.dataset,c)var m=c.dgst;c=m,a=Error(o(419)),a.stack="",a.digest=c,Fa({value:a,source:null,stack:null}),t=dc(e,t,l)}else if(Ve||cs(e,t,l,!1),c=(l&e.childLanes)!==0,Ve||c){if(c=Ae,c!==null){if(a=l&-l,(a&42)!==0)a=1;else switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=64;break;case 268435456:a=134217728;break;default:a=0}if(a=(a&(c.suspendedLanes|l))!==0?0:a,a!==0&&a!==u.retryLane)throw u.retryLane=a,tl(e,a),Ie(c,e,a),Ao}r.data==="$?"||qc(),t=dc(e,t,l)}else r.data==="$?"?(t.flags|=128,t.child=e.child,t=tm.bind(null,e),r._reactRetry=t,t=null):(e=u.treeContext,Ke=At(r.nextSibling),Pe=t,ve=!0,St=null,Et=!1,e!==null&&(ht[gt++]=Ut,ht[gt++]=Ht,ht[gt++]=Tl,Ut=e.id,Ht=e.overflow,Tl=t),t=uc(t,a.children),t.flags|=4096);return t}return n?(al(),n=a.fallback,r=t.mode,u=e.child,m=u.sibling,a=ml(u,{mode:"hidden",children:a.children}),a.subtreeFlags=u.subtreeFlags&31457280,m!==null?n=ml(m,n):(n=ql(n,r,l,null),n.flags|=2),n.return=t,a.return=t,a.sibling=n,t.child=a,a=n,n=t.child,r=e.child.memoizedState,r===null?r=cc(l):(u=r.cachePool,u!==null?(m=Ge._currentValue,u=u.parent!==m?{parent:m,pool:m}:u):u=Ru(),r={baseLanes:r.baseLanes|l,cachePool:u}),n.memoizedState=r,n.childLanes=rc(e,c,l),t.memoizedState=ic,a):(ll(t),l=e.child,e=l.sibling,l=ml(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(c=t.deletions,c===null?(t.deletions=[e],t.flags|=16):c.push(e)),t.child=l,t.memoizedState=null,l)}function uc(e,t){return t=oc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function oc(e,t){return cd(e,t,0,null)}function dc(e,t,l){return zl(t,e.child,null,l),e=uc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Uo(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),hc(e.return,t,l)}function fc(e,t,l,a,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:n}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=l,i.tailMode=n)}function Ho(e,t,l){var a=t.pendingProps,n=a.revealOrder,i=a.tail;if(Je(e,t,a.children,l),a=Ye.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uo(e,l,t);else if(e.tag===19)Uo(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(xe(Ye,a),n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&fn(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),fc(t,!1,n,l,i);break;case"backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&fn(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}fc(t,!0,l,null,i);break;case"together":fc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yt(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),xl|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(cs(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,l=ml(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=ml(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function mc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Sn(e)))}function G0(e,t,l){switch(t.tag){case 3:qs(t,t.stateNode.containerInfo),il(t,Ge,e.memoizedState.cache),$a();break;case 27:case 5:ai(t);break;case 4:qs(t,t.stateNode.containerInfo);break;case 10:il(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ll(t),t.flags|=128,null):(l&t.child.childLanes)!==0?Ro(e,t,l):(ll(t),e=Yt(e,t,l),e!==null?e.sibling:null);ll(t);break;case 19:var n=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(cs(e,t,l,!1),a=(l&t.childLanes)!==0),n){if(a)return Ho(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),xe(Ye,Ye.current),a)break;return null;case 22:case 23:return t.lanes=0,zo(e,t,l);case 24:il(t,Ge,e.memoizedState.cache)}return Yt(e,t,l)}function Bo(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ve=!0;else{if(!mc(e,l)&&(t.flags&128)===0)return Ve=!1,G0(e,t,l);Ve=(e.flags&131072)!==0}else Ve=!1,ve&&(t.flags&1048576)!==0&&ju(t,cn,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,n=a._init;if(a=n(a._payload),t.type=a,typeof a=="function")Tc(a)?(e=Rl(a,e),t.tag=1,t=ko(null,t,a,e,l)):(t.tag=0,t=nc(null,t,a,e,l));else{if(a!=null){if(n=a.$$typeof,n===Q){t.tag=11,t=To(null,t,a,e,l);break e}else if(n===N){t.tag=14,t=Mo(null,t,a,e,l);break e}}throw t=Me(a)||a,Error(o(306,t,""))}}return t;case 0:return nc(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,n=Rl(a,t.pendingProps),ko(e,t,a,n,l);case 3:e:{if(qs(t,t.stateNode.containerInfo),e===null)throw Error(o(387));var i=t.pendingProps;n=t.memoizedState,a=n.element,pc(e,t),os(t,i,null,l);var c=t.memoizedState;if(i=c.cache,il(t,Ge,i),i!==n.cache&&gc(t,[Ge],l,!0),us(),i=c.element,n.isDehydrated)if(n={element:i,isDehydrated:!1,cache:c.cache},t.updateQueue.baseState=n,t.memoizedState=n,t.flags&256){t=Co(e,t,i,l);break e}else if(i!==a){a=xt(Error(o(424)),t),Fa(a),t=Co(e,t,i,l);break e}else for(Ke=At(t.stateNode.containerInfo.firstChild),Pe=t,ve=!0,St=null,Et=!0,l=zu(t,null,i,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if($a(),i===a){t=Yt(e,t,l);break e}Je(e,t,i,l)}t=t.child}return t;case 26:return is(e,t),e===null?(l=Gd(t.type,null,t.pendingProps,null))?t.memoizedState=l:ve||(l=t.type,e=t.pendingProps,a=Yn(Wt.current).createElement(l),a[Fe]=t,a[tt]=e,$e(a,l,e),Xe(a),t.stateNode=a):t.memoizedState=Gd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ai(t),e===null&&ve&&(a=t.stateNode=Bd(t.type,t.pendingProps,Wt.current),Pe=t,Et=!0,Ke=At(a.firstChild)),a=t.pendingProps.children,e!==null||ve?Je(e,t,a,l):t.child=zl(t,null,a,l),is(e,t),t.child;case 5:return e===null&&ve&&((n=a=Ke)&&(a=ym(a,t.type,t.pendingProps,Et),a!==null?(t.stateNode=a,Pe=t,Ke=At(a.firstChild),Et=!1,n=!0):n=!1),n||El(t)),ai(t),n=t.type,i=t.pendingProps,c=e!==null?e.memoizedProps:null,a=i.children,Ic(n,i)?a=null:c!==null&&Ic(n,c)&&(t.flags|=32),t.memoizedState!==null&&(n=Gi(e,t,C0,null,null,l),_s._currentValue=n),is(e,t),Je(e,t,a,l),t.child;case 6:return e===null&&ve&&((e=l=Ke)&&(l=pm(l,t.pendingProps,Et),l!==null?(t.stateNode=l,Pe=t,Ke=null,e=!0):e=!1),e||El(t)),null;case 13:return Ro(e,t,l);case 4:return qs(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=zl(t,null,a,l):Je(e,t,a,l),t.child;case 11:return To(e,t,t.type,t.pendingProps,l);case 7:return Je(e,t,t.pendingProps,l),t.child;case 8:return Je(e,t,t.pendingProps.children,l),t.child;case 12:return Je(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,il(t,t.type,a.value),Je(e,t,a.children,l),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,Hl(t),n=We(n),a=a(n),t.flags|=1,Je(e,t,a,l),t.child;case 14:return Mo(e,t,t.type,t.pendingProps,l);case 15:return Eo(e,t,t.type,t.pendingProps,l);case 19:return Ho(e,t,l);case 22:return zo(e,t,l);case 24:return Hl(t),a=We(Ge),e===null?(n=qi(),n===null&&(n=Ae,i=Hi(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=l),n=i),t.memoizedState={parent:a,cache:n},yc(t),il(t,Ge,n)):((e.lanes&l)!==0&&(pc(e,t),os(t,null,null,l),us()),n=e.memoizedState,i=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),il(t,Ge,a)):(a=i.cache,il(t,Ge,a),a!==n.cache&&gc(t,[Ge],l,!0))),Je(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}var xc=be(null),Ul=null,Gt=null;function il(e,t,l){xe(xc,t._currentValue),t._currentValue=l}function Qt(e){e._currentValue=xc.current,ne(xc)}function hc(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function gc(e,t,l,a){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var c=n.child;i=i.firstContext;e:for(;i!==null;){var r=i;i=n;for(var u=0;u<t.length;u++)if(r.context===t[u]){i.lanes|=l,r=i.alternate,r!==null&&(r.lanes|=l),hc(i.return,l,e),a||(c=null);break e}i=r.next}}else if(n.tag===18){if(c=n.return,c===null)throw Error(o(341));c.lanes|=l,i=c.alternate,i!==null&&(i.lanes|=l),hc(c,l,e),c=null}else c=n.child;if(c!==null)c.return=n;else for(c=n;c!==null;){if(c===e){c=null;break}if(n=c.sibling,n!==null){n.return=c.return,c=n;break}c=c.return}n=c}}function cs(e,t,l,a){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var c=n.alternate;if(c===null)throw Error(o(387));if(c=c.memoizedProps,c!==null){var r=n.type;it(n.pendingProps.value,c.value)||(e!==null?e.push(r):e=[r])}}else if(n===Bs.current){if(c=n.alternate,c===null)throw Error(o(387));c.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(_s):e=[_s])}n=n.return}e!==null&&gc(t,e,l,a),t.flags|=262144}function Sn(e){for(e=e.firstContext;e!==null;){if(!it(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Hl(e){Ul=e,Gt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function We(e){return qo(Ul,e)}function _n(e,t){return Ul===null&&Hl(e),qo(e,t)}function qo(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},Gt===null){if(e===null)throw Error(o(308));Gt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Gt=Gt.next=t;return l}var cl=!1;function yc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ul(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ze&2)!==0){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=sn(e),bu(e,null,l),t}return an(e,a,t,l),sn(e)}function rs(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194176)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Tr(e,l)}}function bc(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var n=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var c={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?n=i=c:i=i.next=c,l=l.next}while(l!==null);i===null?n=i=t:i=i.next=t}else n=i=t;l={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var vc=!1;function us(){if(vc){var e=fa;if(e!==null)throw e}}function os(e,t,l,a){vc=!1;var n=e.updateQueue;cl=!1;var i=n.firstBaseUpdate,c=n.lastBaseUpdate,r=n.shared.pending;if(r!==null){n.shared.pending=null;var u=r,m=u.next;u.next=null,c===null?i=m:c.next=m,c=u;var _=e.alternate;_!==null&&(_=_.updateQueue,r=_.lastBaseUpdate,r!==c&&(r===null?_.firstBaseUpdate=m:r.next=m,_.lastBaseUpdate=u))}if(i!==null){var R=n.baseState;c=0,_=m=u=null,r=i;do{var p=r.lane&-536870913,S=p!==r.lane;if(S?(he&p)===p:(a&p)===p){p!==0&&p===da&&(vc=!0),_!==null&&(_=_.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var L=e,ae=r;p=t;var Ce=l;switch(ae.tag){case 1:if(L=ae.payload,typeof L=="function"){R=L.call(Ce,R,p);break e}R=L;break e;case 3:L.flags=L.flags&-65537|128;case 0:if(L=ae.payload,p=typeof L=="function"?L.call(Ce,R,p):L,p==null)break e;R=ce({},R,p);break e;case 2:cl=!0}}p=r.callback,p!==null&&(e.flags|=64,S&&(e.flags|=8192),S=n.callbacks,S===null?n.callbacks=[p]:S.push(p))}else S={lane:p,tag:r.tag,payload:r.payload,callback:r.callback,next:null},_===null?(m=_=S,u=R):_=_.next=S,c|=p;if(r=r.next,r===null){if(r=n.shared.pending,r===null)break;S=r,r=S.next,S.next=null,n.lastBaseUpdate=S,n.shared.pending=null}}while(!0);_===null&&(u=R),n.baseState=u,n.firstBaseUpdate=m,n.lastBaseUpdate=_,i===null&&(n.shared.lanes=0),xl|=c,e.lanes=c,e.memoizedState=R}}function Yo(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Go(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Yo(l[e],t)}function ds(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var n=a.next;l=n;do{if((l.tag&e)===e){a=void 0;var i=l.create,c=l.inst;a=i(),c.destroy=a}l=l.next}while(l!==n)}}catch(r){_e(t,t.return,r)}}function ol(e,t,l){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){var c=a.inst,r=c.destroy;if(r!==void 0){c.destroy=void 0,n=t;var u=l;try{r()}catch(m){_e(n,u,m)}}}a=a.next}while(a!==i)}}catch(m){_e(t,t.return,m)}}function Qo(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{Go(t,l)}catch(a){_e(e,e.return,a)}}}function Xo(e,t,l){l.props=Rl(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){_e(e,t,a)}}function Bl(e,t){try{var l=e.ref;if(l!==null){var a=e.stateNode;switch(e.tag){case 26:case 27:case 5:var n=a;break;default:n=a}typeof l=="function"?e.refCleanup=l(n):l.current=n}}catch(i){_e(e,t,i)}}function ct(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(n){_e(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){_e(e,t,n)}else l.current=null}function Vo(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(n){_e(e,e.return,n)}}function Lo(e,t,l){try{var a=e.stateNode;fm(a,e.type,l,t),a[tt]=t}catch(n){_e(e,e.return,n)}}function Zo(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function jc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nc(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.nodeType===8?l.parentNode.insertBefore(e,t):l.insertBefore(e,t):(l.nodeType===8?(t=l.parentNode,t.insertBefore(e,l)):(t=l,t.appendChild(e)),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=qn));else if(a!==4&&a!==27&&(e=e.child,e!==null))for(Nc(e,t,l),e=e.sibling;e!==null;)Nc(e,t,l),e=e.sibling}function An(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&a!==27&&(e=e.child,e!==null))for(An(e,t,l),e=e.sibling;e!==null;)An(e,t,l),e=e.sibling}var Xt=!1,Oe=!1,wc=!1,Ko=typeof WeakSet=="function"?WeakSet:Set,Le=null,Jo=!1;function Q0(e,t){if(e=e.containerInfo,Wc=Zn,e=ou(e),_i(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var c=0,r=-1,u=-1,m=0,_=0,R=e,p=null;t:for(;;){for(var S;R!==l||n!==0&&R.nodeType!==3||(r=c+n),R!==i||a!==0&&R.nodeType!==3||(u=c+a),R.nodeType===3&&(c+=R.nodeValue.length),(S=R.firstChild)!==null;)p=R,R=S;for(;;){if(R===e)break t;if(p===l&&++m===n&&(r=c),p===i&&++_===a&&(u=c),(S=R.nextSibling)!==null)break;R=p,p=R.parentNode}R=S}l=r===-1||u===-1?null:{start:r,end:u}}else l=null}l=l||{start:0,end:0}}else l=null;for(Pc={focusedElem:e,selectionRange:l},Zn=!1,Le=t;Le!==null;)if(t=Le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Le=e;else for(;Le!==null;){switch(t=Le,i=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,l=t,n=i.memoizedProps,i=i.memoizedState,a=l.stateNode;try{var L=Rl(l.type,n,l.elementType===l.type);e=a.getSnapshotBeforeUpdate(L,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(ae){_e(l,l.return,ae)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)lr(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":lr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Le=e;break}Le=t.return}return L=Jo,Jo=!1,L}function $o(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:Lt(e,l),a&4&&ds(5,l);break;case 1:if(Lt(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(r){_e(l,l.return,r)}else{var n=Rl(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){_e(l,l.return,r)}}a&64&&Qo(l),a&512&&Bl(l,l.return);break;case 3:if(Lt(e,l),a&64&&(a=l.updateQueue,a!==null)){if(e=null,l.child!==null)switch(l.child.tag){case 27:case 5:e=l.child.stateNode;break;case 1:e=l.child.stateNode}try{Go(a,e)}catch(r){_e(l,l.return,r)}}break;case 26:Lt(e,l),a&512&&Bl(l,l.return);break;case 27:case 5:Lt(e,l),t===null&&a&4&&Vo(l),a&512&&Bl(l,l.return);break;case 12:Lt(e,l);break;case 13:Lt(e,l),a&4&&Po(e,l);break;case 22:if(n=l.memoizedState!==null||Xt,!n){t=t!==null&&t.memoizedState!==null||Oe;var i=Xt,c=Oe;Xt=n,(Oe=t)&&!c?dl(e,l,(l.subtreeFlags&8772)!==0):Lt(e,l),Xt=i,Oe=c}a&512&&(l.memoizedProps.mode==="manual"?Bl(l,l.return):ct(l,l.return));break;default:Lt(e,l)}}function Fo(e){var t=e.alternate;t!==null&&(e.alternate=null,Fo(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ui(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,rt=!1;function Vt(e,t,l){for(l=l.child;l!==null;)Wo(e,t,l),l=l.sibling}function Wo(e,t,l){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(Ca,l)}catch{}switch(l.tag){case 26:Oe||ct(l,t),Vt(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Oe||ct(l,t);var a=qe,n=rt;for(qe=l.stateNode,Vt(e,t,l),l=l.stateNode,t=l.attributes;t.length;)l.removeAttributeNode(t[0]);ui(l),qe=a,rt=n;break;case 5:Oe||ct(l,t);case 6:n=qe;var i=rt;if(qe=null,Vt(e,t,l),qe=n,rt=i,qe!==null)if(rt)try{e=qe,a=l.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)}catch(c){_e(l,t,c)}else try{qe.removeChild(l.stateNode)}catch(c){_e(l,t,c)}break;case 18:qe!==null&&(rt?(t=qe,l=l.stateNode,t.nodeType===8?tr(t.parentNode,l):t.nodeType===1&&tr(t,l),Es(t)):tr(qe,l.stateNode));break;case 4:a=qe,n=rt,qe=l.stateNode.containerInfo,rt=!0,Vt(e,t,l),qe=a,rt=n;break;case 0:case 11:case 14:case 15:Oe||ol(2,l,t),Oe||ol(4,l,t),Vt(e,t,l);break;case 1:Oe||(ct(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&Xo(l,t,a)),Vt(e,t,l);break;case 21:Vt(e,t,l);break;case 22:Oe||ct(l,t),Oe=(a=Oe)||l.memoizedState!==null,Vt(e,t,l),Oe=a;break;default:Vt(e,t,l)}}function Po(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Es(e)}catch(l){_e(t,t.return,l)}}function X0(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ko),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ko),t;default:throw Error(o(435,e.tag))}}function Sc(e,t){var l=X0(e);t.forEach(function(a){var n=lm.bind(null,e,a);l.has(a)||(l.add(a),a.then(n,n))})}function pt(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var n=l[a],i=e,c=t,r=c;e:for(;r!==null;){switch(r.tag){case 27:case 5:qe=r.stateNode,rt=!1;break e;case 3:qe=r.stateNode.containerInfo,rt=!0;break e;case 4:qe=r.stateNode.containerInfo,rt=!0;break e}r=r.return}if(qe===null)throw Error(o(160));Wo(i,c,n),qe=null,rt=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Io(t,e),t=t.sibling}var _t=null;function Io(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(t,e),bt(e),a&4&&(ol(3,e,e.return),ds(3,e),ol(5,e,e.return));break;case 1:pt(t,e),bt(e),a&512&&(Oe||l===null||ct(l,l.return)),a&64&&Xt&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var n=_t;if(pt(t,e),bt(e),a&512&&(Oe||l===null||ct(l,l.return)),a&4){var i=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":i=n.getElementsByTagName("title")[0],(!i||i[Ha]||i[Fe]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(a),n.head.insertBefore(i,n.querySelector("head > title"))),$e(i,a,l),i[Fe]=e,Xe(i),a=i;break e;case"link":var c=Vd("link","href",n).get(a+(l.href||""));if(c){for(var r=0;r<c.length;r++)if(i=c[r],i.getAttribute("href")===(l.href==null?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){c.splice(r,1);break t}}i=n.createElement(a),$e(i,a,l),n.head.appendChild(i);break;case"meta":if(c=Vd("meta","content",n).get(a+(l.content||""))){for(r=0;r<c.length;r++)if(i=c[r],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){c.splice(r,1);break t}}i=n.createElement(a),$e(i,a,l),n.head.appendChild(i);break;default:throw Error(o(468,a))}i[Fe]=e,Xe(i),a=i}e.stateNode=a}else Ld(n,e.type,e.stateNode);else e.stateNode=Xd(n,a,e.memoizedProps);else i!==a?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,a===null?Ld(n,e.type,e.stateNode):Xd(n,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Lo(e,e.memoizedProps,l.memoizedProps)}break;case 27:if(a&4&&e.alternate===null){n=e.stateNode,i=e.memoizedProps;try{for(var u=n.firstChild;u;){var m=u.nextSibling,_=u.nodeName;u[Ha]||_==="HEAD"||_==="BODY"||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=m}for(var R=e.type,p=n.attributes;p.length;)n.removeAttributeNode(p[0]);$e(n,R,i),n[Fe]=e,n[tt]=i}catch(L){_e(e,e.return,L)}}case 5:if(pt(t,e),bt(e),a&512&&(Oe||l===null||ct(l,l.return)),e.flags&32){n=e.stateNode;try{Il(n,"")}catch(L){_e(e,e.return,L)}}a&4&&e.stateNode!=null&&(n=e.memoizedProps,Lo(e,n,l!==null?l.memoizedProps:n)),a&1024&&(wc=!0);break;case 6:if(pt(t,e),bt(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(L){_e(e,e.return,L)}}break;case 3:if(Xn=null,n=_t,_t=Gn(t.containerInfo),pt(t,e),_t=n,bt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Es(t.containerInfo)}catch(L){_e(e,e.return,L)}wc&&(wc=!1,ed(e));break;case 4:a=_t,_t=Gn(e.stateNode.containerInfo),pt(t,e),bt(e),_t=a;break;case 12:pt(t,e),bt(e);break;case 13:pt(t,e),bt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(kc=Mt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Sc(e,a)));break;case 22:if(a&512&&(Oe||l===null||ct(l,l.return)),u=e.memoizedState!==null,m=l!==null&&l.memoizedState!==null,_=Xt,R=Oe,Xt=_||u,Oe=R||m,pt(t,e),Oe=R,Xt=_,bt(e),t=e.stateNode,t._current=e,t._visibility&=-3,t._visibility|=t._pendingVisibility&2,a&8192&&(t._visibility=u?t._visibility&-2:t._visibility|1,u&&(t=Xt||Oe,l===null||m||t||ga(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(l=null,t=e;;){if(t.tag===5||t.tag===26||t.tag===27){if(l===null){m=l=t;try{if(n=m.stateNode,u)i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{c=m.stateNode,r=m.memoizedProps.style;var S=r!=null&&r.hasOwnProperty("display")?r.display:null;c.style.display=S==null||typeof S=="boolean"?"":(""+S).trim()}}catch(L){_e(m,m.return,L)}}}else if(t.tag===6){if(l===null){m=t;try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(L){_e(m,m.return,L)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,Sc(e,l))));break;case 19:pt(t,e),bt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Sc(e,a)));break;case 21:break;default:pt(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{if(e.tag!==27){e:{for(var l=e.return;l!==null;){if(Zo(l)){var a=l;break e}l=l.return}throw Error(o(160))}switch(a.tag){case 27:var n=a.stateNode,i=jc(e);An(e,i,n);break;case 5:var c=a.stateNode;a.flags&32&&(Il(c,""),a.flags&=-33);var r=jc(e);An(e,r,c);break;case 3:case 4:var u=a.stateNode.containerInfo,m=jc(e);Nc(e,m,u);break;default:throw Error(o(161))}}}catch(_){_e(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ed(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ed(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Lt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$o(e,t.alternate,t),t=t.sibling}function ga(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),ga(t);break;case 1:ct(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&Xo(t,t.return,l),ga(t);break;case 26:case 27:case 5:ct(t,t.return),ga(t);break;case 22:ct(t,t.return),t.memoizedState===null&&ga(t);break;default:ga(t)}e=e.sibling}}function dl(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,n=e,i=t,c=i.flags;switch(i.tag){case 0:case 11:case 15:dl(n,i,l),ds(4,i);break;case 1:if(dl(n,i,l),a=i,n=a.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(m){_e(a,a.return,m)}if(a=i,n=a.updateQueue,n!==null){var r=a.stateNode;try{var u=n.shared.hiddenCallbacks;if(u!==null)for(n.shared.hiddenCallbacks=null,n=0;n<u.length;n++)Yo(u[n],r)}catch(m){_e(a,a.return,m)}}l&&c&64&&Qo(i),Bl(i,i.return);break;case 26:case 27:case 5:dl(n,i,l),l&&a===null&&c&4&&Vo(i),Bl(i,i.return);break;case 12:dl(n,i,l);break;case 13:dl(n,i,l),l&&c&4&&Po(n,i);break;case 22:i.memoizedState===null&&dl(n,i,l),Bl(i,i.return);break;default:dl(n,i,l)}t=t.sibling}}function _c(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&ts(l))}function Ac(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ts(e))}function fl(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)td(e,t,l,a),t=t.sibling}function td(e,t,l,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:fl(e,t,l,a),n&2048&&ds(9,t);break;case 3:fl(e,t,l,a),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ts(e)));break;case 12:if(n&2048){fl(e,t,l,a),e=t.stateNode;try{var i=t.memoizedProps,c=i.id,r=i.onPostCommit;typeof r=="function"&&r(c,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){_e(t,t.return,u)}}else fl(e,t,l,a);break;case 23:break;case 22:i=t.stateNode,t.memoizedState!==null?i._visibility&4?fl(e,t,l,a):fs(e,t):i._visibility&4?fl(e,t,l,a):(i._visibility|=4,ya(e,t,l,a,(t.subtreeFlags&10256)!==0)),n&2048&&_c(t.alternate,t);break;case 24:fl(e,t,l,a),n&2048&&Ac(t.alternate,t);break;default:fl(e,t,l,a)}}function ya(e,t,l,a,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var i=e,c=t,r=l,u=a,m=c.flags;switch(c.tag){case 0:case 11:case 15:ya(i,c,r,u,n),ds(8,c);break;case 23:break;case 22:var _=c.stateNode;c.memoizedState!==null?_._visibility&4?ya(i,c,r,u,n):fs(i,c):(_._visibility|=4,ya(i,c,r,u,n)),n&&m&2048&&_c(c.alternate,c);break;case 24:ya(i,c,r,u,n),n&&m&2048&&Ac(c.alternate,c);break;default:ya(i,c,r,u,n)}t=t.sibling}}function fs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,n=a.flags;switch(a.tag){case 22:fs(l,a),n&2048&&_c(a.alternate,a);break;case 24:fs(l,a),n&2048&&Ac(a.alternate,a);break;default:fs(l,a)}t=t.sibling}}var ms=8192;function pa(e){if(e.subtreeFlags&ms)for(e=e.child;e!==null;)ld(e),e=e.sibling}function ld(e){switch(e.tag){case 26:pa(e),e.flags&ms&&e.memoizedState!==null&&Dm(_t,e.memoizedState,e.memoizedProps);break;case 5:pa(e);break;case 3:case 4:var t=_t;_t=Gn(e.stateNode.containerInfo),pa(e),_t=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ms,ms=16777216,pa(e),ms=t):pa(e));break;default:pa(e)}}function ad(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function xs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Le=a,nd(a,e)}ad(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sd(e),e=e.sibling}function sd(e){switch(e.tag){case 0:case 11:case 15:xs(e),e.flags&2048&&ol(9,e,e.return);break;case 3:xs(e);break;case 12:xs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&4&&(e.return===null||e.return.tag!==13)?(t._visibility&=-5,Tn(e)):xs(e);break;default:xs(e)}}function Tn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Le=a,nd(a,e)}ad(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ol(8,t,t.return),Tn(t);break;case 22:l=t.stateNode,l._visibility&4&&(l._visibility&=-5,Tn(t));break;default:Tn(t)}e=e.sibling}}function nd(e,t){for(;Le!==null;){var l=Le;switch(l.tag){case 0:case 11:case 15:ol(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ts(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,Le=a;else e:for(l=e;Le!==null;){a=Le;var n=a.sibling,i=a.return;if(Fo(a),a===l){Le=null;break e}if(n!==null){n.return=i,Le=n;break e}Le=i}}}function V0(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,l,a){return new V0(e,t,l,a)}function Tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ml(e,t){var l=e.alternate;return l===null?(l=vt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&31457280,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function id(e,t){e.flags&=31457282;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Mn(e,t,l,a,n,i){var c=0;if(a=e,typeof e=="function")Tc(e)&&(c=1);else if(typeof e=="string")c=Em(e,l,et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case j:return ql(l.children,n,i,t);case k:c=8,n|=24;break;case M:return e=vt(12,l,t,n|2),e.elementType=M,e.lanes=i,e;case Z:return e=vt(13,l,t,n),e.elementType=Z,e.lanes=i,e;case ee:return e=vt(19,l,t,n),e.elementType=ee,e.lanes=i,e;case Y:return cd(l,n,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:case q:c=10;break e;case h:c=9;break e;case Q:c=11;break e;case N:c=14;break e;case B:c=16,a=null;break e}c=29,l=Error(o(130,e===null?"null":typeof e,"")),a=null}return t=vt(c,l,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function ql(e,t,l,a){return e=vt(7,e,a,t),e.lanes=l,e}function cd(e,t,l,a){e=vt(22,e,a,t),e.elementType=Y,e.lanes=l;var n={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var i=n._current;if(i===null)throw Error(o(456));if((n._pendingVisibility&2)===0){var c=tl(i,2);c!==null&&(n._pendingVisibility|=2,Ie(c,i,2))}},attach:function(){var i=n._current;if(i===null)throw Error(o(456));if((n._pendingVisibility&2)!==0){var c=tl(i,2);c!==null&&(n._pendingVisibility&=-3,Ie(c,i,2))}}};return e.stateNode=n,e}function Mc(e,t,l){return e=vt(6,e,null,t),e.lanes=l,e}function Ec(e,t,l){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zt(e){e.flags|=4}function rd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Zd(t)){if(t=yt.current,t!==null&&((he&4194176)===he?zt!==null:(he&62914560)!==he&&(he&536870912)===0||t!==zt))throw Pa=Ci,Su;e.flags|=8192}}function En(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?_r():536870912,e.lanes|=t,va|=t)}function hs(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ee(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags&31457280,a|=n.flags&31457280,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function L0(e,t,l){var a=t.pendingProps;switch(Oi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(t),null;case 1:return Ee(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Qt(Ge),Kl(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ja(t)?Zt(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,St!==null&&(Hc(St),St=null))),Ee(t),null;case 26:return l=t.memoizedState,e===null?(Zt(t),l!==null?(Ee(t),rd(t,l)):(Ee(t),t.flags&=-16777217)):l?l!==e.memoizedState?(Zt(t),Ee(t),rd(t,l)):(Ee(t),t.flags&=-16777217):(e.memoizedProps!==a&&Zt(t),Ee(t),t.flags&=-16777217),null;case 27:Ys(t),l=Wt.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Zt(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Ee(t),null}e=et.current,Ja(t)?Nu(t):(e=Bd(n,a,l),t.stateNode=e,Zt(t))}return Ee(t),null;case 5:if(Ys(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Zt(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Ee(t),null}if(e=et.current,Ja(t))Nu(t);else{switch(n=Yn(Wt.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?n.createElement("select",{is:a.is}):n.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?n.createElement(l,{is:a.is}):n.createElement(l)}}e[Fe]=t,e[tt]=a;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch($e(e,l,a),l){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zt(t)}}return Ee(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Zt(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(e=Wt.current,Ja(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,n=Pe,n!==null)switch(n.tag){case 27:case 5:a=n.memoizedProps}e[Fe]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||Od(e.nodeValue,l)),e||El(t)}else e=Yn(e).createTextNode(a),e[Fe]=t,t.stateNode=e}return Ee(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Ja(t),a!==null&&a.dehydrated!==null){if(e===null){if(!n)throw Error(o(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));n[Fe]=t}else $a(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ee(t),n=!1}else St!==null&&(Hc(St),St=null),n=!0;if(!n)return t.flags&256?(Bt(t),t):(Bt(t),null)}if(Bt(t),(t.flags&128)!==0)return t.lanes=l,t;if(l=a!==null,e=e!==null&&e.memoizedState!==null,l){a=t.child,n=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(n=a.alternate.memoizedState.cachePool.pool);var i=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==n&&(a.flags|=2048)}return l!==e&&l&&(t.child.flags|=8192),En(t,t.updateQueue),Ee(t),null;case 4:return Kl(),e===null&&Jc(t.stateNode.containerInfo),Ee(t),null;case 10:return Qt(t.type),Ee(t),null;case 19:if(ne(Ye),n=t.memoizedState,n===null)return Ee(t),null;if(a=(t.flags&128)!==0,i=n.rendering,i===null)if(a)hs(n,!1);else{if(ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=fn(e),i!==null){for(t.flags|=128,hs(n,!1),e=i.updateQueue,t.updateQueue=e,En(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)id(l,e),l=l.sibling;return xe(Ye,Ye.current&1|2),t.child}e=e.sibling}n.tail!==null&&Mt()>zn&&(t.flags|=128,a=!0,hs(n,!1),t.lanes=4194304)}else{if(!a)if(e=fn(i),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,En(t,e),hs(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!ve)return Ee(t),null}else 2*Mt()-n.renderingStartTime>zn&&l!==536870912&&(t.flags|=128,a=!0,hs(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=Mt(),t.sibling=null,e=Ye.current,xe(Ye,a?e&1|2:e&1),t):(Ee(t),null);case 22:case 23:return Bt(t),Ui(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Ee(t),t.subtreeFlags&6&&(t.flags|=8192)):Ee(t),l=t.updateQueue,l!==null&&En(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&ne(Dl),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Qt(Ge),Ee(t),null;case 25:return null}throw Error(o(156,t.tag))}function Z0(e,t){switch(Oi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qt(Ge),Kl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ys(t),null;case 13:if(Bt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));$a()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(Ye),null;case 4:return Kl(),null;case 10:return Qt(t.type),null;case 22:case 23:return Bt(t),Ui(),e!==null&&ne(Dl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Qt(Ge),null;case 25:return null;default:return null}}function ud(e,t){switch(Oi(t),t.tag){case 3:Qt(Ge),Kl();break;case 26:case 27:case 5:Ys(t);break;case 4:Kl();break;case 13:Bt(t);break;case 19:ne(Ye);break;case 10:Qt(t.type);break;case 22:case 23:Bt(t),Ui(),e!==null&&ne(Dl);break;case 24:Qt(Ge)}}var K0={getCacheForType:function(e){var t=We(Ge),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l}},J0=typeof WeakMap=="function"?WeakMap:Map,ze=0,Ae=null,re=null,he=0,Te=0,ut=null,Kt=!1,ba=!1,zc=!1,Jt=0,ke=0,xl=0,Yl=0,Dc=0,jt=0,va=0,gs=null,Ot=null,Oc=!1,kc=0,zn=1/0,Dn=null,hl=null,On=!1,Gl=null,ys=0,Cc=0,Rc=null,ps=0,Uc=null;function ot(){if((ze&2)!==0&&he!==0)return he&-he;if(K.T!==null){var e=da;return e!==0?e:Vc()}return Er()}function od(){jt===0&&(jt=(he&536870912)===0||ve?Sr():536870912);var e=yt.current;return e!==null&&(e.flags|=32),jt}function Ie(e,t,l){(e===Ae&&Te===2||e.cancelPendingCommit!==null)&&(ja(e,0),$t(e,he,jt,!1)),Ua(e,l),((ze&2)===0||e!==Ae)&&(e===Ae&&((ze&2)===0&&(Yl|=l),ke===4&&$t(e,he,jt,!1)),kt(e))}function dd(e,t,l){if((ze&6)!==0)throw Error(o(327));var a=!l&&(t&60)===0&&(t&e.expiredLanes)===0||Ra(e,t),n=a?W0(e,t):Yc(e,t,!0),i=a;do{if(n===0){ba&&!a&&$t(e,t,0,!1);break}else if(n===6)$t(e,t,0,!Kt);else{if(l=e.current.alternate,i&&!$0(l)){n=Yc(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var c=0;else c=e.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){t=c;e:{var r=e;n=gs;var u=r.current.memoizedState.isDehydrated;if(u&&(ja(r,c).flags|=256),c=Yc(r,c,!1),c!==2){if(zc&&!u){r.errorRecoveryDisabledLanes|=i,Yl|=i,n=4;break e}i=Ot,Ot=n,i!==null&&Hc(i)}n=c}if(i=!1,n!==2)continue}}if(n===1){ja(e,0),$t(e,t,0,!0);break}e:{switch(a=e,n){case 0:case 1:throw Error(o(345));case 4:if((t&4194176)===t){$t(a,t,jt,!Kt);break e}break;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(o(329))}if(a.finishedWork=l,a.finishedLanes=t,(t&62914560)===t&&(i=kc+300-Mt(),10<i)){if($t(a,t,jt,!Kt),Vs(a,0)!==0)break e;a.timeoutHandle=Rd(fd.bind(null,a,l,Ot,Dn,Oc,t,jt,Yl,va,Kt,2,-0,0),i);break e}fd(a,l,Ot,Dn,Oc,t,jt,Yl,va,Kt,0,-0,0)}}break}while(!0);kt(e)}function Hc(e){Ot===null?Ot=e:Ot.push.apply(Ot,e)}function fd(e,t,l,a,n,i,c,r,u,m,_,R,p){var S=t.subtreeFlags;if((S&8192||(S&16785408)===16785408)&&(Ss={stylesheets:null,count:0,unsuspend:zm},ld(t),t=Om(),t!==null)){e.cancelPendingCommit=t(bd.bind(null,e,l,a,n,c,r,u,1,R,p)),$t(e,i,c,!m);return}bd(e,l,a,n,c,r,u,_,R,p)}function $0(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var n=l[a],i=n.getSnapshot;n=n.value;try{if(!it(i(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $t(e,t,l,a){t&=~Dc,t&=~Yl,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var i=31-nt(n),c=1<<i;a[i]=-1,n&=~c}l!==0&&Ar(e,l,t)}function kn(){return(ze&6)===0?(bs(0),!1):!0}function Bc(){if(re!==null){if(Te===0)var e=re.return;else e=re,Gt=Ul=null,Vi(e),ua=null,Ia=0,e=re;for(;e!==null;)ud(e.alternate,e),e=e.return;re=null}}function ja(e,t){e.finishedWork=null,e.finishedLanes=0;var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,xm(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Bc(),Ae=e,re=l=ml(e.current,null),he=t,Te=0,ut=null,Kt=!1,ba=Ra(e,t),zc=!1,va=jt=Dc=Yl=xl=ke=0,Ot=gs=null,Oc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var n=31-nt(a),i=1<<n;t|=e[n],a&=~i}return Jt=t,ln(),l}function md(e,t){se=null,K.H=Dt,t===Wa?(t=Tu(),Te=3):t===Su?(t=Tu(),Te=4):Te=t===Ao?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ut=t,re===null&&(ke=1,wn(e,xt(t,e.current)))}function xd(){var e=K.H;return K.H=Dt,e===null?Dt:e}function hd(){var e=K.A;return K.A=K0,e}function qc(){ke=4,Kt||(he&4194176)!==he&&yt.current!==null||(ba=!0),(xl&134217727)===0&&(Yl&134217727)===0||Ae===null||$t(Ae,he,jt,!1)}function Yc(e,t,l){var a=ze;ze|=2;var n=xd(),i=hd();(Ae!==e||he!==t)&&(Dn=null,ja(e,t)),t=!1;var c=ke;e:do try{if(Te!==0&&re!==null){var r=re,u=ut;switch(Te){case 8:Bc(),c=6;break e;case 3:case 2:case 6:yt.current===null&&(t=!0);var m=Te;if(Te=0,ut=null,Na(e,r,u,m),l&&ba){c=0;break e}break;default:m=Te,Te=0,ut=null,Na(e,r,u,m)}}F0(),c=ke;break}catch(_){md(e,_)}while(!0);return t&&e.shellSuspendCounter++,Gt=Ul=null,ze=a,K.H=n,K.A=i,re===null&&(Ae=null,he=0,ln()),c}function F0(){for(;re!==null;)gd(re)}function W0(e,t){var l=ze;ze|=2;var a=xd(),n=hd();Ae!==e||he!==t?(Dn=null,zn=Mt()+500,ja(e,t)):ba=Ra(e,t);e:do try{if(Te!==0&&re!==null){t=re;var i=ut;t:switch(Te){case 1:Te=0,ut=null,Na(e,t,i,1);break;case 2:if(_u(i)){Te=0,ut=null,yd(t);break}t=function(){Te===2&&Ae===e&&(Te=7),kt(e)},i.then(t,t);break e;case 3:Te=7;break e;case 4:Te=5;break e;case 7:_u(i)?(Te=0,ut=null,yd(t)):(Te=0,ut=null,Na(e,t,i,7));break;case 5:var c=null;switch(re.tag){case 26:c=re.memoizedState;case 5:case 27:var r=re;if(!c||Zd(c)){Te=0,ut=null;var u=r.sibling;if(u!==null)re=u;else{var m=r.return;m!==null?(re=m,Cn(m)):re=null}break t}}Te=0,ut=null,Na(e,t,i,5);break;case 6:Te=0,ut=null,Na(e,t,i,6);break;case 8:Bc(),ke=6;break e;default:throw Error(o(462))}}P0();break}catch(_){md(e,_)}while(!0);return Gt=Ul=null,K.H=a,K.A=n,ze=l,re!==null?0:(Ae=null,he=0,ln(),ke)}function P0(){for(;re!==null&&!vf();)gd(re)}function gd(e){var t=Bo(e.alternate,e,Jt);e.memoizedProps=e.pendingProps,t===null?Cn(e):re=t}function yd(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=Oo(l,t,t.pendingProps,t.type,void 0,he);break;case 11:t=Oo(l,t,t.pendingProps,t.type.render,t.ref,he);break;case 5:Vi(t);default:ud(l,t),t=re=id(t,Jt),t=Bo(l,t,Jt)}e.memoizedProps=e.pendingProps,t===null?Cn(e):re=t}function Na(e,t,l,a){Gt=Ul=null,Vi(t),ua=null,Ia=0;var n=t.return;try{if(Y0(e,n,t,l,he)){ke=1,wn(e,xt(l,e.current)),re=null;return}}catch(i){if(n!==null)throw re=n,i;ke=1,wn(e,xt(l,e.current)),re=null;return}t.flags&32768?(ve||a===1?e=!0:ba||(he&536870912)!==0?e=!1:(Kt=e=!0,(a===2||a===3||a===6)&&(a=yt.current,a!==null&&a.tag===13&&(a.flags|=16384))),pd(t,e)):Cn(t)}function Cn(e){var t=e;do{if((t.flags&32768)!==0){pd(t,Kt);return}e=t.return;var l=L0(t.alternate,t,Jt);if(l!==null){re=l;return}if(t=t.sibling,t!==null){re=t;return}re=t=e}while(t!==null);ke===0&&(ke=5)}function pd(e,t){do{var l=Z0(e.alternate,e);if(l!==null){l.flags&=32767,re=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){re=e;return}re=e=l}while(e!==null);ke=6,re=null}function bd(e,t,l,a,n,i,c,r,u,m){var _=K.T,R=I.p;try{I.p=2,K.T=null,I0(e,t,l,a,R,n,i,c,r,u,m)}finally{K.T=_,I.p=R}}function I0(e,t,l,a,n,i,c,r){do wa();while(Gl!==null);if((ze&6)!==0)throw Error(o(327));var u=e.finishedWork;if(a=e.finishedLanes,u===null)return null;if(e.finishedWork=null,e.finishedLanes=0,u===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var m=u.lanes|u.childLanes;if(m|=Ei,Df(e,a,m,i,c,r),e===Ae&&(re=Ae=null,he=0),(u.subtreeFlags&10256)===0&&(u.flags&10256)===0||On||(On=!0,Cc=m,Rc=l,am(Gs,function(){return wa(),null})),l=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||l?(l=K.T,K.T=null,i=I.p,I.p=2,c=ze,ze|=4,Q0(e,u),Io(u,e),w0(Pc,e.containerInfo),Zn=!!Wc,Pc=Wc=null,e.current=u,$o(e,u.alternate,u),jf(),ze=c,I.p=i,K.T=l):e.current=u,On?(On=!1,Gl=e,ys=a):vd(e,m),m=e.pendingLanes,m===0&&(hl=null),Af(u.stateNode),kt(e),t!==null)for(n=e.onRecoverableError,u=0;u<t.length;u++)m=t[u],n(m.value,{componentStack:m.stack});return(ys&3)!==0&&wa(),m=e.pendingLanes,(a&4194218)!==0&&(m&42)!==0?e===Uc?ps++:(ps=0,Uc=e):ps=0,bs(0),null}function vd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ts(t)))}function wa(){if(Gl!==null){var e=Gl,t=Cc;Cc=0;var l=Mr(ys),a=K.T,n=I.p;try{if(I.p=32>l?32:l,K.T=null,Gl===null)var i=!1;else{l=Rc,Rc=null;var c=Gl,r=ys;if(Gl=null,ys=0,(ze&6)!==0)throw Error(o(331));var u=ze;if(ze|=4,sd(c.current),td(c,c.current,r,l),ze=u,bs(0,!1),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(Ca,c)}catch{}i=!0}return i}finally{I.p=n,K.T=a,vd(e,t)}}return!1}function jd(e,t,l){t=xt(l,t),t=sc(e.stateNode,t,2),e=ul(e,t,2),e!==null&&(Ua(e,2),kt(e))}function _e(e,t,l){if(e.tag===3)jd(e,e,l);else for(;t!==null;){if(t.tag===3){jd(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(hl===null||!hl.has(a))){e=xt(l,e),l=So(2),a=ul(t,l,2),a!==null&&(_o(l,a,t,e),Ua(a,2),kt(a));break}}t=t.return}}function Gc(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new J0;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(l)||(zc=!0,n.add(l),e=em.bind(null,e,t,l),t.then(e,e))}function em(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ae===e&&(he&l)===l&&(ke===4||ke===3&&(he&62914560)===he&&300>Mt()-kc?(ze&2)===0&&ja(e,0):Dc|=l,va===he&&(va=0)),kt(e)}function Nd(e,t){t===0&&(t=_r()),e=tl(e,t),e!==null&&(Ua(e,t),kt(e))}function tm(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),Nd(e,l)}function lm(e,t){var l=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(t),Nd(e,l)}function am(e,t){return ni(e,t)}var Rn=null,Sa=null,Qc=!1,Un=!1,Xc=!1,Ql=0;function kt(e){e!==Sa&&e.next===null&&(Sa===null?Rn=Sa=e:Sa=Sa.next=e),Un=!0,Qc||(Qc=!0,nm(sm))}function bs(e,t){if(!Xc&&Un){Xc=!0;do for(var l=!1,a=Rn;a!==null;){if(e!==0){var n=a.pendingLanes;if(n===0)var i=0;else{var c=a.suspendedLanes,r=a.pingedLanes;i=(1<<31-nt(42|e)+1)-1,i&=n&~(c&~r),i=i&201326677?i&201326677|1:i?i|2:0}i!==0&&(l=!0,_d(a,i))}else i=he,i=Vs(a,a===Ae?i:0),(i&3)===0||Ra(a,i)||(l=!0,_d(a,i));a=a.next}while(l);Xc=!1}}function sm(){Un=Qc=!1;var e=0;Ql!==0&&(mm()&&(e=Ql),Ql=0);for(var t=Mt(),l=null,a=Rn;a!==null;){var n=a.next,i=wd(a,t);i===0?(a.next=null,l===null?Rn=n:l.next=n,n===null&&(Sa=l)):(l=a,(e!==0||(i&3)!==0)&&(Un=!0)),a=n}bs(e)}function wd(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var c=31-nt(i),r=1<<c,u=n[c];u===-1?((r&l)===0||(r&a)!==0)&&(n[c]=zf(r,t)):u<=t&&(e.expiredLanes|=r),i&=~r}if(t=Ae,l=he,l=Vs(e,e===t?l:0),a=e.callbackNode,l===0||e===t&&Te===2||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ii(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Ra(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&ii(a),Mr(l)){case 2:case 8:l=Nr;break;case 32:l=Gs;break;case 268435456:l=wr;break;default:l=Gs}return a=Sd.bind(null,e),l=ni(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&ii(a),e.callbackPriority=2,e.callbackNode=null,2}function Sd(e,t){var l=e.callbackNode;if(wa()&&e.callbackNode!==l)return null;var a=he;return a=Vs(e,e===Ae?a:0),a===0?null:(dd(e,a,t),wd(e,Mt()),e.callbackNode!=null&&e.callbackNode===l?Sd.bind(null,e):null)}function _d(e,t){if(wa())return null;dd(e,t,!0)}function nm(e){hm(function(){(ze&6)!==0?ni(jr,e):e()})}function Vc(){return Ql===0&&(Ql=Sr()),Ql}function Ad(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$s(""+e)}function Td(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function im(e,t,l,a,n){if(t==="submit"&&l&&l.stateNode===n){var i=Ad((n[tt]||null).action),c=a.submitter;c&&(t=(t=c[tt]||null)?Ad(t.formAction):c.getAttribute("formAction"),t!==null&&(i=t,c=null));var r=new Is("action","action",null,a,n);e.push({event:r,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Ql!==0){var u=c?Td(n,c):new FormData(n);Ii(l,{pending:!0,data:u,method:n.method,action:i},null,u)}}else typeof i=="function"&&(r.preventDefault(),u=c?Td(n,c):new FormData(n),Ii(l,{pending:!0,data:u,method:n.method,action:i},i,u))},currentTarget:n}]})}}for(var Lc=0;Lc<pu.length;Lc++){var Zc=pu[Lc],cm=Zc.toLowerCase(),rm=Zc[0].toUpperCase()+Zc.slice(1);wt(cm,"on"+rm)}wt(mu,"onAnimationEnd"),wt(xu,"onAnimationIteration"),wt(hu,"onAnimationStart"),wt("dblclick","onDoubleClick"),wt("focusin","onFocus"),wt("focusout","onBlur"),wt(_0,"onTransitionRun"),wt(A0,"onTransitionStart"),wt(T0,"onTransitionCancel"),wt(gu,"onTransitionEnd"),Wl("onMouseEnter",["mouseout","mouseover"]),Wl("onMouseLeave",["mouseout","mouseover"]),Wl("onPointerEnter",["pointerout","pointerover"]),Wl("onPointerLeave",["pointerout","pointerover"]),wl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wl("onBeforeInput",["compositionend","keypress","textInput","paste"]),wl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),um=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vs));function Md(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var c=a.length-1;0<=c;c--){var r=a[c],u=r.instance,m=r.currentTarget;if(r=r.listener,u!==i&&n.isPropagationStopped())break e;i=r,n.currentTarget=m;try{i(n)}catch(_){Nn(_)}n.currentTarget=null,i=u}else for(c=0;c<a.length;c++){if(r=a[c],u=r.instance,m=r.currentTarget,r=r.listener,u!==i&&n.isPropagationStopped())break e;i=r,n.currentTarget=m;try{i(n)}catch(_){Nn(_)}n.currentTarget=null,i=u}}}}function fe(e,t){var l=t[ri];l===void 0&&(l=t[ri]=new Set);var a=e+"__bubble";l.has(a)||(Ed(t,e,2,!1),l.add(a))}function Kc(e,t,l){var a=0;t&&(a|=4),Ed(l,e,a,t)}var Hn="_reactListening"+Math.random().toString(36).slice(2);function Jc(e){if(!e[Hn]){e[Hn]=!0,Dr.forEach(function(l){l!=="selectionchange"&&(um.has(l)||Kc(l,!1,e),Kc(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hn]||(t[Hn]=!0,Kc("selectionchange",!1,t))}}function Ed(e,t,l,a){switch(Pd(t)){case 2:var n=Rm;break;case 8:n=Um;break;default:n=cr}l=n.bind(null,t,l,e),n=void 0,!gi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function $c(e,t,l,a,n){var i=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var c=a.tag;if(c===3||c===4){var r=a.stateNode.containerInfo;if(r===n||r.nodeType===8&&r.parentNode===n)break;if(c===4)for(c=a.return;c!==null;){var u=c.tag;if((u===3||u===4)&&(u=c.stateNode.containerInfo,u===n||u.nodeType===8&&u.parentNode===n))return;c=c.return}for(;r!==null;){if(c=Nl(r),c===null)return;if(u=c.tag,u===5||u===6||u===26||u===27){a=i=c;continue e}r=r.parentNode}}a=a.return}Xr(function(){var m=i,_=xi(l),R=[];e:{var p=yu.get(e);if(p!==void 0){var S=Is,L=e;switch(e){case"keypress":if(Ws(l)===0)break e;case"keydown":case"keyup":S=l0;break;case"focusin":L="focus",S=vi;break;case"focusout":L="blur",S=vi;break;case"beforeblur":case"afterblur":S=vi;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Zr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=Vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=n0;break;case mu:case xu:case hu:S=Kf;break;case gu:S=c0;break;case"scroll":case"scrollend":S=Qf;break;case"wheel":S=u0;break;case"copy":case"cut":case"paste":S=$f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Jr;break;case"toggle":case"beforetoggle":S=d0}var ae=(t&4)!==0,Ce=!ae&&(e==="scroll"||e==="scrollend"),x=ae?p!==null?p+"Capture":null:p;ae=[];for(var f=m,g;f!==null;){var E=f;if(g=E.stateNode,E=E.tag,E!==5&&E!==26&&E!==27||g===null||x===null||(E=qa(f,x),E!=null&&ae.push(js(f,E,g))),Ce)break;f=f.return}0<ae.length&&(p=new S(p,L,null,l,_),R.push({event:p,listeners:ae}))}}if((t&7)===0){e:{if(p=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",p&&l!==mi&&(L=l.relatedTarget||l.fromElement)&&(Nl(L)||L[Jl]))break e;if((S||p)&&(p=_.window===_?_:(p=_.ownerDocument)?p.defaultView||p.parentWindow:window,S?(L=l.relatedTarget||l.toElement,S=m,L=L?Nl(L):null,L!==null&&(Ce=F(L),ae=L.tag,L!==Ce||ae!==5&&ae!==27&&ae!==6)&&(L=null)):(S=null,L=m),S!==L)){if(ae=Zr,E="onMouseLeave",x="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(ae=Jr,E="onPointerLeave",x="onPointerEnter",f="pointer"),Ce=S==null?p:Ba(S),g=L==null?p:Ba(L),p=new ae(E,f+"leave",S,l,_),p.target=Ce,p.relatedTarget=g,E=null,Nl(_)===m&&(ae=new ae(x,f+"enter",L,l,_),ae.target=g,ae.relatedTarget=Ce,E=ae),Ce=E,S&&L)t:{for(ae=S,x=L,f=0,g=ae;g;g=_a(g))f++;for(g=0,E=x;E;E=_a(E))g++;for(;0<f-g;)ae=_a(ae),f--;for(;0<g-f;)x=_a(x),g--;for(;f--;){if(ae===x||x!==null&&ae===x.alternate)break t;ae=_a(ae),x=_a(x)}ae=null}else ae=null;S!==null&&zd(R,p,S,ae,!1),L!==null&&Ce!==null&&zd(R,Ce,L,ae,!0)}}e:{if(p=m?Ba(m):window,S=p.nodeName&&p.nodeName.toLowerCase(),S==="select"||S==="input"&&p.type==="file")var V=lu;else if(eu(p))if(au)V=j0;else{V=b0;var ie=p0}else S=p.nodeName,!S||S.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?m&&fi(m.elementType)&&(V=lu):V=v0;if(V&&(V=V(e,m))){tu(R,V,l,_);break e}ie&&ie(e,p,m),e==="focusout"&&m&&p.type==="number"&&m.memoizedProps.value!=null&&di(p,"number",p.value)}switch(ie=m?Ba(m):window,e){case"focusin":(eu(ie)||ie.contentEditable==="true")&&(aa=ie,Ai=m,Ka=null);break;case"focusout":Ka=Ai=aa=null;break;case"mousedown":Ti=!0;break;case"contextmenu":case"mouseup":case"dragend":Ti=!1,du(R,l,_);break;case"selectionchange":if(S0)break;case"keydown":case"keyup":du(R,l,_)}var J;if(Ni)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else la?Pr(e,l)&&(P="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(P="onCompositionStart");P&&($r&&l.locale!=="ko"&&(la||P!=="onCompositionStart"?P==="onCompositionEnd"&&la&&(J=Vr()):(el=_,yi="value"in el?el.value:el.textContent,la=!0)),ie=Bn(m,P),0<ie.length&&(P=new Kr(P,e,null,l,_),R.push({event:P,listeners:ie}),J?P.data=J:(J=Ir(l),J!==null&&(P.data=J)))),(J=m0?x0(e,l):h0(e,l))&&(P=Bn(m,"onBeforeInput"),0<P.length&&(ie=new Kr("onBeforeInput","beforeinput",null,l,_),R.push({event:ie,listeners:P}),ie.data=J)),im(R,e,m,l,_)}Md(R,t)})}function js(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Bn(e,t){for(var l=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=qa(e,l),n!=null&&a.unshift(js(e,n,i)),n=qa(e,t),n!=null&&a.push(js(e,n,i))),e=e.return}return a}function _a(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zd(e,t,l,a,n){for(var i=t._reactName,c=[];l!==null&&l!==a;){var r=l,u=r.alternate,m=r.stateNode;if(r=r.tag,u!==null&&u===a)break;r!==5&&r!==26&&r!==27||m===null||(u=m,n?(m=qa(l,i),m!=null&&c.unshift(js(l,m,u))):n||(m=qa(l,i),m!=null&&c.push(js(l,m,u)))),l=l.return}c.length!==0&&e.push({event:t,listeners:c})}var om=/\r\n?/g,dm=/\u0000|\uFFFD/g;function Dd(e){return(typeof e=="string"?e:""+e).replace(om,`
`).replace(dm,"")}function Od(e,t){return t=Dd(t),Dd(e)===t}function qn(){}function Se(e,t,l,a,n,i){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Il(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Il(e,""+a);break;case"className":Zs(e,"class",a);break;case"tabIndex":Zs(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Zs(e,l,a);break;case"style":Gr(e,a,i);break;case"data":if(t!=="object"){Zs(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=$s(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(t!=="input"&&Se(e,t,"name",n.name,n,null),Se(e,t,"formEncType",n.formEncType,n,null),Se(e,t,"formMethod",n.formMethod,n,null),Se(e,t,"formTarget",n.formTarget,n,null)):(Se(e,t,"encType",n.encType,n,null),Se(e,t,"method",n.method,n,null),Se(e,t,"target",n.target,n,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=$s(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=qn);break;case"onScroll":a!=null&&fe("scroll",e);break;case"onScrollEnd":a!=null&&fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=$s(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":fe("beforetoggle",e),fe("toggle",e),Ls(e,"popover",a);break;case"xlinkActuate":Rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Rt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Rt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Rt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Rt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Ls(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Yf.get(l)||l,Ls(e,l,a))}}function Fc(e,t,l,a,n,i){switch(l){case"style":Gr(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof a=="string"?Il(e,a):(typeof a=="number"||typeof a=="bigint")&&Il(e,""+a);break;case"onScroll":a!=null&&fe("scroll",e);break;case"onScrollEnd":a!=null&&fe("scrollend",e);break;case"onClick":a!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Or.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),i=e[tt]||null,i=i!=null?i[l]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof a=="function")){typeof i!="function"&&i!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,n);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Ls(e,l,a)}}}function $e(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",e),fe("load",e);var a=!1,n=!1,i;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];if(c!=null)switch(i){case"src":a=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Se(e,t,i,c,l,null)}}n&&Se(e,t,"srcSet",l.srcSet,l,null),a&&Se(e,t,"src",l.src,l,null);return;case"input":fe("invalid",e);var r=i=c=n=null,u=null,m=null;for(a in l)if(l.hasOwnProperty(a)){var _=l[a];if(_!=null)switch(a){case"name":n=_;break;case"type":c=_;break;case"checked":u=_;break;case"defaultChecked":m=_;break;case"value":i=_;break;case"defaultValue":r=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(o(137,t));break;default:Se(e,t,a,_,l,null)}}Hr(e,i,r,u,m,c,n,!1),Ks(e);return;case"select":fe("invalid",e),a=c=i=null;for(n in l)if(l.hasOwnProperty(n)&&(r=l[n],r!=null))switch(n){case"value":i=r;break;case"defaultValue":c=r;break;case"multiple":a=r;default:Se(e,t,n,r,l,null)}t=i,l=c,e.multiple=!!a,t!=null?Pl(e,!!a,t,!1):l!=null&&Pl(e,!!a,l,!0);return;case"textarea":fe("invalid",e),i=n=a=null;for(c in l)if(l.hasOwnProperty(c)&&(r=l[c],r!=null))switch(c){case"value":a=r;break;case"defaultValue":n=r;break;case"children":i=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(o(91));break;default:Se(e,t,c,r,l,null)}qr(e,a,n,i),Ks(e);return;case"option":for(u in l)if(l.hasOwnProperty(u)&&(a=l[u],a!=null))switch(u){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Se(e,t,u,a,l,null)}return;case"dialog":fe("cancel",e),fe("close",e);break;case"iframe":case"object":fe("load",e);break;case"video":case"audio":for(a=0;a<vs.length;a++)fe(vs[a],e);break;case"image":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"embed":case"source":case"link":fe("error",e),fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(m in l)if(l.hasOwnProperty(m)&&(a=l[m],a!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Se(e,t,m,a,l,null)}return;default:if(fi(t)){for(_ in l)l.hasOwnProperty(_)&&(a=l[_],a!==void 0&&Fc(e,t,_,a,l,void 0));return}}for(r in l)l.hasOwnProperty(r)&&(a=l[r],a!=null&&Se(e,t,r,a,l,null))}function fm(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,c=null,r=null,u=null,m=null,_=null;for(S in l){var R=l[S];if(l.hasOwnProperty(S)&&R!=null)switch(S){case"checked":break;case"value":break;case"defaultValue":u=R;default:a.hasOwnProperty(S)||Se(e,t,S,null,a,R)}}for(var p in a){var S=a[p];if(R=l[p],a.hasOwnProperty(p)&&(S!=null||R!=null))switch(p){case"type":i=S;break;case"name":n=S;break;case"checked":m=S;break;case"defaultChecked":_=S;break;case"value":c=S;break;case"defaultValue":r=S;break;case"children":case"dangerouslySetInnerHTML":if(S!=null)throw Error(o(137,t));break;default:S!==R&&Se(e,t,p,S,a,R)}}oi(e,c,r,u,m,_,i,n);return;case"select":S=c=r=p=null;for(i in l)if(u=l[i],l.hasOwnProperty(i)&&u!=null)switch(i){case"value":break;case"multiple":S=u;default:a.hasOwnProperty(i)||Se(e,t,i,null,a,u)}for(n in a)if(i=a[n],u=l[n],a.hasOwnProperty(n)&&(i!=null||u!=null))switch(n){case"value":p=i;break;case"defaultValue":r=i;break;case"multiple":c=i;default:i!==u&&Se(e,t,n,i,a,u)}t=r,l=c,a=S,p!=null?Pl(e,!!l,p,!1):!!a!=!!l&&(t!=null?Pl(e,!!l,t,!0):Pl(e,!!l,l?[]:"",!1));return;case"textarea":S=p=null;for(r in l)if(n=l[r],l.hasOwnProperty(r)&&n!=null&&!a.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:Se(e,t,r,null,a,n)}for(c in a)if(n=a[c],i=l[c],a.hasOwnProperty(c)&&(n!=null||i!=null))switch(c){case"value":p=n;break;case"defaultValue":S=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(o(91));break;default:n!==i&&Se(e,t,c,n,a,i)}Br(e,p,S);return;case"option":for(var L in l)if(p=l[L],l.hasOwnProperty(L)&&p!=null&&!a.hasOwnProperty(L))switch(L){case"selected":e.selected=!1;break;default:Se(e,t,L,null,a,p)}for(u in a)if(p=a[u],S=l[u],a.hasOwnProperty(u)&&p!==S&&(p!=null||S!=null))switch(u){case"selected":e.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Se(e,t,u,p,a,S)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in l)p=l[ae],l.hasOwnProperty(ae)&&p!=null&&!a.hasOwnProperty(ae)&&Se(e,t,ae,null,a,p);for(m in a)if(p=a[m],S=l[m],a.hasOwnProperty(m)&&p!==S&&(p!=null||S!=null))switch(m){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(o(137,t));break;default:Se(e,t,m,p,a,S)}return;default:if(fi(t)){for(var Ce in l)p=l[Ce],l.hasOwnProperty(Ce)&&p!==void 0&&!a.hasOwnProperty(Ce)&&Fc(e,t,Ce,void 0,a,p);for(_ in a)p=a[_],S=l[_],!a.hasOwnProperty(_)||p===S||p===void 0&&S===void 0||Fc(e,t,_,p,a,S);return}}for(var x in l)p=l[x],l.hasOwnProperty(x)&&p!=null&&!a.hasOwnProperty(x)&&Se(e,t,x,null,a,p);for(R in a)p=a[R],S=l[R],!a.hasOwnProperty(R)||p===S||p==null&&S==null||Se(e,t,R,p,a,S)}var Wc=null,Pc=null;function Yn(e){return e.nodeType===9?e:e.ownerDocument}function kd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ic(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var er=null;function mm(){var e=window.event;return e&&e.type==="popstate"?e===er?!1:(er=e,!0):(er=null,!1)}var Rd=typeof setTimeout=="function"?setTimeout:void 0,xm=typeof clearTimeout=="function"?clearTimeout:void 0,Ud=typeof Promise=="function"?Promise:void 0,hm=typeof queueMicrotask=="function"?queueMicrotask:typeof Ud<"u"?function(e){return Ud.resolve(null).then(e).catch(gm)}:Rd;function gm(e){setTimeout(function(){throw e})}function tr(e,t){var l=t,a=0;do{var n=l.nextSibling;if(e.removeChild(l),n&&n.nodeType===8)if(l=n.data,l==="/$"){if(a===0){e.removeChild(n),Es(t);return}a--}else l!=="$"&&l!=="$?"&&l!=="$!"||a++;l=n}while(l);Es(t)}function lr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":lr(l),ui(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function ym(e,t,l,a){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Ha])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=At(e.nextSibling),e===null)break}return null}function pm(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=At(e.nextSibling),e===null))return null;return e}function At(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}function Hd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(t===0)return e;t--}else l==="/$"&&t++}e=e.previousSibling}return null}function Bd(e,t,l){switch(t=Yn(l),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}var Nt=new Map,qd=new Set;function Gn(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Ft=I.d;I.d={f:bm,r:vm,D:jm,C:Nm,L:wm,m:Sm,X:Am,S:_m,M:Tm};function bm(){var e=Ft.f(),t=kn();return e||t}function vm(e){var t=$l(e);t!==null&&t.tag===5&&t.type==="form"?fo(t):Ft.r(e)}var Aa=typeof document>"u"?null:document;function Yd(e,t,l){var a=Aa;if(a&&typeof t=="string"&&t){var n=ft(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),qd.has(n)||(qd.add(n),e={rel:e,crossOrigin:l,href:t},a.querySelector(n)===null&&(t=a.createElement("link"),$e(t,"link",e),Xe(t),a.head.appendChild(t)))}}function jm(e){Ft.D(e),Yd("dns-prefetch",e,null)}function Nm(e,t){Ft.C(e,t),Yd("preconnect",e,t)}function wm(e,t,l){Ft.L(e,t,l);var a=Aa;if(a&&e&&t){var n='link[rel="preload"][as="'+ft(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+ft(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+ft(l.imageSizes)+'"]')):n+='[href="'+ft(e)+'"]';var i=n;switch(t){case"style":i=Ta(e);break;case"script":i=Ma(e)}Nt.has(i)||(e=ce({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Nt.set(i,e),a.querySelector(n)!==null||t==="style"&&a.querySelector(Ns(i))||t==="script"&&a.querySelector(ws(i))||(t=a.createElement("link"),$e(t,"link",e),Xe(t),a.head.appendChild(t)))}}function Sm(e,t){Ft.m(e,t);var l=Aa;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+ft(a)+'"][href="'+ft(e)+'"]',i=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ma(e)}if(!Nt.has(i)&&(e=ce({rel:"modulepreload",href:e},t),Nt.set(i,e),l.querySelector(n)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ws(i)))return}a=l.createElement("link"),$e(a,"link",e),Xe(a),l.head.appendChild(a)}}}function _m(e,t,l){Ft.S(e,t,l);var a=Aa;if(a&&e){var n=Fl(a).hoistableStyles,i=Ta(e);t=t||"default";var c=n.get(i);if(!c){var r={loading:0,preload:null};if(c=a.querySelector(Ns(i)))r.loading=5;else{e=ce({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Nt.get(i))&&ar(e,l);var u=c=a.createElement("link");Xe(u),$e(u,"link",e),u._p=new Promise(function(m,_){u.onload=m,u.onerror=_}),u.addEventListener("load",function(){r.loading|=1}),u.addEventListener("error",function(){r.loading|=2}),r.loading|=4,Qn(c,t,a)}c={type:"stylesheet",instance:c,count:1,state:r},n.set(i,c)}}}function Am(e,t){Ft.X(e,t);var l=Aa;if(l&&e){var a=Fl(l).hoistableScripts,n=Ma(e),i=a.get(n);i||(i=l.querySelector(ws(n)),i||(e=ce({src:e,async:!0},t),(t=Nt.get(n))&&sr(e,t),i=l.createElement("script"),Xe(i),$e(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function Tm(e,t){Ft.M(e,t);var l=Aa;if(l&&e){var a=Fl(l).hoistableScripts,n=Ma(e),i=a.get(n);i||(i=l.querySelector(ws(n)),i||(e=ce({src:e,async:!0,type:"module"},t),(t=Nt.get(n))&&sr(e,t),i=l.createElement("script"),Xe(i),$e(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function Gd(e,t,l,a){var n=(n=Wt.current)?Gn(n):null;if(!n)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Ta(l.href),l=Fl(n).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Ta(l.href);var i=Fl(n).hoistableStyles,c=i.get(e);if(c||(n=n.ownerDocument||n,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,c),(i=n.querySelector(Ns(e)))&&!i._p&&(c.instance=i,c.state.loading=5),Nt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Nt.set(e,l),i||Mm(n,e,l,c.state))),t&&a===null)throw Error(o(528,""));return c}if(t&&a!==null)throw Error(o(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ma(l),l=Fl(n).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Ta(e){return'href="'+ft(e)+'"'}function Ns(e){return'link[rel="stylesheet"]['+e+"]"}function Qd(e){return ce({},e,{"data-precedence":e.precedence,precedence:null})}function Mm(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),$e(t,"link",l),Xe(t),e.head.appendChild(t))}function Ma(e){return'[src="'+ft(e)+'"]'}function ws(e){return"script[async]"+e}function Xd(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+ft(l.href)+'"]');if(a)return t.instance=a,Xe(a),a;var n=ce({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Xe(a),$e(a,"style",n),Qn(a,l.precedence,e),t.instance=a;case"stylesheet":n=Ta(l.href);var i=e.querySelector(Ns(n));if(i)return t.state.loading|=4,t.instance=i,Xe(i),i;a=Qd(l),(n=Nt.get(n))&&ar(a,n),i=(e.ownerDocument||e).createElement("link"),Xe(i);var c=i;return c._p=new Promise(function(r,u){c.onload=r,c.onerror=u}),$e(i,"link",a),t.state.loading|=4,Qn(i,l.precedence,e),t.instance=i;case"script":return i=Ma(l.src),(n=e.querySelector(ws(i)))?(t.instance=n,Xe(n),n):(a=l,(n=Nt.get(i))&&(a=ce({},l),sr(a,n)),e=e.ownerDocument||e,n=e.createElement("script"),Xe(n),$e(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Qn(a,l.precedence,e));return t.instance}function Qn(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,i=n,c=0;c<a.length;c++){var r=a[c];if(r.dataset.precedence===t)i=r;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function ar(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function sr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Xn=null;function Vd(e,t,l){if(Xn===null){var a=new Map,n=Xn=new Map;n.set(l,a)}else n=Xn,a=n.get(l),a||(a=new Map,n.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var i=l[n];if(!(i[Ha]||i[Fe]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var c=i.getAttribute(t)||"";c=e+c;var r=a.get(c);r?r.push(i):a.set(c,[i])}}return a}function Ld(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function Em(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Zd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ss=null;function zm(){}function Dm(e,t,l){if(Ss===null)throw Error(o(475));var a=Ss;if(t.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var n=Ta(l.href),i=e.querySelector(Ns(n));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Vn.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=i,Xe(i);return}i=e.ownerDocument||e,l=Qd(l),(n=Nt.get(n))&&ar(l,n),i=i.createElement("link"),Xe(i);var c=i;c._p=new Promise(function(r,u){c.onload=r,c.onerror=u}),$e(i,"link",l),t.instance=i}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=Vn.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function Om(){if(Ss===null)throw Error(o(475));var e=Ss;return e.stylesheets&&e.count===0&&nr(e,e.stylesheets),0<e.count?function(t){var l=setTimeout(function(){if(e.stylesheets&&nr(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(l)}}:null}function Vn(){if(this.count--,this.count===0){if(this.stylesheets)nr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ln=null;function nr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ln=new Map,t.forEach(km,e),Ln=null,Vn.call(e))}function km(e,t){if(!(t.state.loading&4)){var l=Ln.get(e);if(l)var a=l.get(null);else{l=new Map,Ln.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var c=n[i];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(l.set(c.dataset.precedence,c),a=c)}a&&l.set(null,a)}n=t.instance,c=n.getAttribute("data-precedence"),i=l.get(c)||a,i===a&&l.set(null,n),l.set(c,n),this.count++,a=Vn.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var _s={$$typeof:q,Provider:null,Consumer:null,_currentValue:Qe,_currentValue2:Qe,_threadCount:0};function Cm(e,t,l,a,n,i,c,r){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=r,this.incompleteTransitions=new Map}function Kd(e,t,l,a,n,i,c,r,u,m,_,R){return e=new Cm(e,t,l,c,r,u,m,R),t=1,i===!0&&(t|=24),i=vt(3,null,null,t),e.current=i,i.stateNode=e,t=Hi(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:l,cache:t},yc(i),e}function Jd(e){return e?(e=ia,e):ia}function $d(e,t,l,a,n,i){n=Jd(n),a.context===null?a.context=n:a.pendingContext=n,a=rl(t),a.payload={element:l},i=i===void 0?null:i,i!==null&&(a.callback=i),l=ul(e,a,t),l!==null&&(Ie(l,e,t),rs(l,e,t))}function Fd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function ir(e,t){Fd(e,t),(e=e.alternate)&&Fd(e,t)}function Wd(e){if(e.tag===13){var t=tl(e,67108864);t!==null&&Ie(t,e,67108864),ir(e,67108864)}}var Zn=!0;function Rm(e,t,l,a){var n=K.T;K.T=null;var i=I.p;try{I.p=2,cr(e,t,l,a)}finally{I.p=i,K.T=n}}function Um(e,t,l,a){var n=K.T;K.T=null;var i=I.p;try{I.p=8,cr(e,t,l,a)}finally{I.p=i,K.T=n}}function cr(e,t,l,a){if(Zn){var n=rr(a);if(n===null)$c(e,t,a,Kn,l),Id(e,a);else if(Bm(n,e,t,l,a))a.stopPropagation();else if(Id(e,a),t&4&&-1<Hm.indexOf(e)){for(;n!==null;){var i=$l(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var c=jl(i.pendingLanes);if(c!==0){var r=i;for(r.pendingLanes|=2,r.entangledLanes|=2;c;){var u=1<<31-nt(c);r.entanglements[1]|=u,c&=~u}kt(i),(ze&6)===0&&(zn=Mt()+500,bs(0))}}break;case 13:r=tl(i,2),r!==null&&Ie(r,i,2),kn(),ir(i,2)}if(i=rr(a),i===null&&$c(e,t,a,Kn,l),i===n)break;n=i}n!==null&&a.stopPropagation()}else $c(e,t,a,null,l)}}function rr(e){return e=xi(e),ur(e)}var Kn=null;function ur(e){if(Kn=null,e=Nl(e),e!==null){var t=F(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=pe(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Kn=e,null}function Pd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nf()){case jr:return 2;case Nr:return 8;case Gs:case wf:return 32;case wr:return 268435456;default:return 32}default:return 32}}var or=!1,gl=null,yl=null,pl=null,As=new Map,Ts=new Map,bl=[],Hm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Id(e,t){switch(e){case"focusin":case"focusout":gl=null;break;case"dragenter":case"dragleave":yl=null;break;case"mouseover":case"mouseout":pl=null;break;case"pointerover":case"pointerout":As.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ts.delete(t.pointerId)}}function Ms(e,t,l,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=$l(t),t!==null&&Wd(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Bm(e,t,l,a,n){switch(t){case"focusin":return gl=Ms(gl,e,t,l,a,n),!0;case"dragenter":return yl=Ms(yl,e,t,l,a,n),!0;case"mouseover":return pl=Ms(pl,e,t,l,a,n),!0;case"pointerover":var i=n.pointerId;return As.set(i,Ms(As.get(i)||null,e,t,l,a,n)),!0;case"gotpointercapture":return i=n.pointerId,Ts.set(i,Ms(Ts.get(i)||null,e,t,l,a,n)),!0}return!1}function ef(e){var t=Nl(e.target);if(t!==null){var l=F(t);if(l!==null){if(t=l.tag,t===13){if(t=pe(l),t!==null){e.blockedOn=t,Of(e.priority,function(){if(l.tag===13){var a=ot(),n=tl(l,a);n!==null&&Ie(n,l,a),ir(l,a)}});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=rr(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);mi=a,l.target.dispatchEvent(a),mi=null}else return t=$l(l),t!==null&&Wd(t),e.blockedOn=l,!1;t.shift()}return!0}function tf(e,t,l){Jn(e)&&l.delete(t)}function qm(){or=!1,gl!==null&&Jn(gl)&&(gl=null),yl!==null&&Jn(yl)&&(yl=null),pl!==null&&Jn(pl)&&(pl=null),As.forEach(tf),Ts.forEach(tf)}function $n(e,t){e.blockedOn===t&&(e.blockedOn=null,or||(or=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,qm)))}var Fn=null;function lf(e){Fn!==e&&(Fn=e,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){Fn===e&&(Fn=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],n=e[t+2];if(typeof a!="function"){if(ur(a||l)===null)continue;break}var i=$l(l);i!==null&&(e.splice(t,3),t-=3,Ii(i,{pending:!0,data:n,method:l.method,action:a},a,n))}}))}function Es(e){function t(u){return $n(u,e)}gl!==null&&$n(gl,e),yl!==null&&$n(yl,e),pl!==null&&$n(pl,e),As.forEach(t),Ts.forEach(t);for(var l=0;l<bl.length;l++){var a=bl[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<bl.length&&(l=bl[0],l.blockedOn===null);)ef(l),l.blockedOn===null&&bl.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var n=l[a],i=l[a+1],c=n[tt]||null;if(typeof i=="function")c||lf(l);else if(c){var r=null;if(i&&i.hasAttribute("formAction")){if(n=i,c=i[tt]||null)r=c.formAction;else if(ur(n)!==null)continue}else r=c.action;typeof r=="function"?l[a+1]=r:(l.splice(a,3),a-=3),lf(l)}}}function dr(e){this._internalRoot=e}Wn.prototype.render=dr.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var l=t.current,a=ot();$d(l,a,e,t,null,null)},Wn.prototype.unmount=dr.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e.tag===0&&wa(),$d(e.current,2,null,e,null,null),kn(),t[Jl]=null}};function Wn(e){this._internalRoot=e}Wn.prototype.unstable_scheduleHydration=function(e){if(e){var t=Er();e={blockedOn:null,target:e,priority:t};for(var l=0;l<bl.length&&t!==0&&t<bl[l].priority;l++);bl.splice(l,0,e),l===0&&ef(e)}};var af=w.version;if(af!=="19.0.0")throw Error(o(527,af,"19.0.0"));I.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=T(t),e=e!==null?te(e):null,e=e===null?null:e.stateNode,e};var Ym={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:K,findFiberByHostInstance:Nl,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pn.isDisabled&&Pn.supportsFiber)try{Ca=Pn.inject(Ym),st=Pn}catch{}}return Ds.createRoot=function(e,t){if(!v(e))throw Error(o(299));var l=!1,a="",n=vo,i=jo,c=No,r=null;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(r=t.unstable_transitionCallbacks)),t=Kd(e,1,!1,null,null,l,a,n,i,c,r,null),e[Jl]=t.current,Jc(e.nodeType===8?e.parentNode:e),new dr(t)},Ds.hydrateRoot=function(e,t,l){if(!v(e))throw Error(o(299));var a=!1,n="",i=vo,c=jo,r=No,u=null,m=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(c=l.onCaughtError),l.onRecoverableError!==void 0&&(r=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(u=l.unstable_transitionCallbacks),l.formState!==void 0&&(m=l.formState)),t=Kd(e,1,!0,t,l??null,a,n,i,c,r,u,m),t.context=Jd(null),l=t.current,a=ot(),n=rl(a),n.callback=null,ul(l,n,a),t.current.lanes=a,Ua(t,a),kt(t),e[Jl]=t.current,Jc(e),new Wn(t)},Ds.version="19.0.0",Ds}var of;function Pm(){if(of)return mr.exports;of=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(w){console.error(w)}}return d(),mr.exports=Wm(),mr.exports}var Im=Pm();const gr="https://api-maria-pos.onrender.com",Ea=d=>`${gr.endsWith("/")?gr.slice(0,-1):gr}${d}`,gf=U.createContext(void 0),ex=({children:d})=>{const[w,A]=U.useState(null),[o,v]=U.useState(!0);U.useEffect(()=>{const j=localStorage.getItem("pos_user");j&&A(JSON.parse(j)),v(!1)},[]);const H=async(j,k)=>{v(!0);try{console.log("Attempting login to:",Ea("/api/login"));const M=await fetch(Ea("/api/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:j,password:k})});if(console.log("Login response status:",M.status),!M.ok){const q=await M.json();return console.error("Login failed:",q.message),{success:!1,message:q.message||"Invalid credentials"}}const{user:C,token:h}=await M.json();return console.log("Login successful:",C.username),A(C),localStorage.setItem("pos_user",JSON.stringify(C)),localStorage.setItem("pos_token",h),{success:!0}}catch(M){return console.error("Login API call failed:",M),{success:!1,message:"Could not connect to the server. Make sure the backend is running on port 3001."}}finally{v(!1)}},D=async(j,k)=>{try{const M=await fetch(Ea("/api/validate-pin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({employeeId:j,pin:k})});return M.ok?await M.json():null}catch(M){return console.error("Validate PIN API call failed:",M),null}},b=()=>{A(null),localStorage.removeItem("pos_user"),localStorage.removeItem("pos_token")};return s.jsx(gf.Provider,{value:{user:w,login:H,logout:b,isLoading:o,validateStaffPin:D},children:!o&&d})},Zl=()=>{const d=U.useContext(gf);if(d===void 0)throw new Error("useAuth must be used within an AuthProvider");return d},yf=U.createContext(void 0),tx=({children:d})=>{const[w,A]=U.useState(null),o=j=>{const k=j.items.reduce((q,Q)=>q+Q.total_price,0),M=k*.16,C=j.order_type==="dine_in"?k*.1:0,h=k+M+C-j.discount_amount;return{...j,subtotal:k,tax_amount:M,service_charge:C,total_amount:h}},v=(j,k=1)=>{const M={id:Date.now(),product_id:j.id,product:j,quantity:k,unit_price:j.price,total_price:j.price*k};if(!w)A(o({order_type:"dine_in",items:[M],subtotal:0,tax_amount:0,service_charge:0,discount_amount:0,total_amount:0,location:"",delivery_address:null}));else{const C=w.items.findIndex(h=>h.product_id===j.id);if(C>=0){const h=[...w.items];h[C].quantity+=k,h[C].total_price=h[C].unit_price*h[C].quantity;const q={...w,items:h};A(o(q))}else{const h={...w,items:[...w.items,M]};A(o(h))}}},H=j=>{if(!w)return;const k=w.items.filter(C=>C.id!==j),M={...w,items:k};k.length===0?A(null):A(o(M))},D=(j,k)=>{if(!w||k<=0)return;const M=w.items.map(h=>h.id===j?{...h,quantity:k,total_price:h.unit_price*k}:h),C={...w,items:M};A(o(C))},b=()=>{A(null)};return s.jsx(yf.Provider,{value:{currentOrder:w,setCurrentOrder:A,addItemToOrder:v,removeItemFromOrder:H,updateItemQuantity:D,clearOrder:b,calculateOrderTotals:o},children:d})},In=()=>{const d=U.useContext(yf);if(d===void 0)throw new Error("usePOS must be used within a POSProvider");return d};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=d=>d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ax=d=>d.replace(/^([A-Z])|[\s-_]+(\w)/g,(w,A,o)=>o?o.toUpperCase():A.toLowerCase()),df=d=>{const w=ax(d);return w.charAt(0).toUpperCase()+w.slice(1)},pf=(...d)=>d.filter((w,A,o)=>!!w&&w.trim()!==""&&o.indexOf(w)===A).join(" ").trim(),sx=d=>{for(const w in d)if(w.startsWith("aria-")||w==="role"||w==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=U.forwardRef(({color:d="currentColor",size:w=24,strokeWidth:A=2,absoluteStrokeWidth:o,className:v="",children:H,iconNode:D,...b},j)=>U.createElement("svg",{ref:j,...nx,width:w,height:w,stroke:d,strokeWidth:o?Number(A)*24/Number(w):A,className:pf("lucide",v),...!H&&!sx(b)&&{"aria-hidden":"true"},...b},[...D.map(([k,M])=>U.createElement(k,M)),...Array.isArray(H)?H:[H]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(d,w)=>{const A=U.forwardRef(({className:o,...v},H)=>U.createElement(ix,{ref:H,iconNode:w,className:pf(`lucide-${lx(df(d))}`,`lucide-${d}`,o),...v}));return A.displayName=df(d),A};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],rx=oe("arrow-left",cx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],ox=oe("banknote",ux);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],Hs=oe("bed",dx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],br=oe("building",fx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vr=oe("calendar",mx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],hx=oe("chart-column",xx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],ff=oe("chef-hat",gx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],px=oe("circle-alert",yx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],bf=oe("circle-check-big",bx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ei=oe("clock",vx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Nx=oe("credit-card",jx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],za=oe("dollar-sign",wx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],_x=oe("download",Sx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ks=oe("file-text",Ax);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Mx=oe("house",Tx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ll=oe("loader-circle",Ex);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Dx=oe("lock",zx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],kx=oe("log-out",Ox);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Rx=oe("map-pin",Cx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=[["path",{d:"M5 12h14",key:"1ays0h"}]],Hx=oe("minus",Ux);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Rs=oe("package",Bx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],Us=oe("pen-line",qx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Gx=oe("percent",Yx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Xx=oe("phone",Qx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Oa=oe("plus",Vx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Zx=oe("receipt",Lx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Jx=oe("save",Kx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pr=oe("settings",$x);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Wx=oe("smartphone",Fx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],mf=oe("sparkles",Px);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Da=oe("trash-2",Ix);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],th=oe("trending-up",eh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Vl=oe("triangle-alert",lh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Tt=oe("user",ah);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Cs=oe("users",sh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],ti=oe("utensils-crossed",nh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],xf=oe("wrench",ih);function ch({onQuickPOSAccess:d}){const[w,A]=U.useState(""),[o,v]=U.useState(""),[H,D]=U.useState(""),{login:b,isLoading:j}=Zl(),k=async M=>{if(M.preventDefault(),D(""),!w||!o){D("Please enter both username and password");return}console.log("Submitting login form...");const C=await b(w,o);C.success?console.log("Login successful, redirecting..."):(D(C.message||"An unknown error occurred."),console.error("Login failed with message:",C.message))};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-yellow-50 to-orange-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-yellow-400 to-amber-500 rounded-2xl mb-4 shadow-lg",children:s.jsxs("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-black rounded-lg flex items-center justify-center relative",children:[s.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-yellow-400 rounded-sm"}),s.jsx("div",{className:"absolute top-1 right-1 w-1.5 h-1.5 sm:w-2 sm:h-2 bg-white rounded-sm"})]})}),s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:"Maria Havens"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Point of Sale System"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 sm:p-8 border border-gray-100",children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-center text-gray-800 mb-6",children:"Staff Login"}),s.jsxs("form",{onSubmit:k,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),s.jsxs("div",{className:"relative",children:[s.jsx(Tt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",id:"username",value:w,onChange:M=>A(M.target.value),className:"w-full pl-10 pr-4 py-2.5 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent outline-none transition-all text-base",placeholder:"Enter your username",autoComplete:"username",disabled:j})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Dx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"password",id:"password",value:o,onChange:M=>v(M.target.value),className:"w-full pl-10 pr-4 py-2.5 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent outline-none transition-all text-base",placeholder:"Enter your password",autoComplete:"current-password",disabled:j})]})]}),H&&s.jsxs("div",{className:"flex items-center gap-2 text-red-600 bg-red-50 p-3 rounded-lg",children:[s.jsx(px,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:H})]}),s.jsx("button",{type:"submit",disabled:j||!w||!o,className:"w-full bg-gradient-to-r from-yellow-400 to-amber-500 text-white py-2.5 sm:py-3 px-4 rounded-lg font-semibold hover:from-yellow-500 hover:to-amber-600 focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2 text-base",children:j?s.jsxs(s.Fragment,{children:[s.jsx(Ll,{className:"w-5 h-5 animate-spin"}),"Logging in..."]}):"Login"})]}),d&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),s.jsxs("button",{onClick:d,disabled:j,className:"w-full mt-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white py-2.5 sm:py-3 px-4 rounded-lg font-semibold hover:from-blue-600 hover:to-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2 text-base",children:[s.jsx(ti,{className:"w-5 h-5"}),"Quick POS Access"]}),s.jsx("p",{className:"text-xs text-center text-gray-500 mt-2",children:"Direct access for waiters - PIN required for orders"})]})]})]})})}function li(){const{user:d,logout:w}=Zl(),A=o=>({admin:"Administrator",manager:"Manager",cashier:"Cashier",waiter:"Waiter",kitchen_staff:"Kitchen Staff",delivery:"Delivery",receptionist:"Receptionist",housekeeping:"Housekeeping"})[o]||o;return s.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 px-4 py-3 sm:px-6 sm:py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2 sm:gap-4",children:s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-yellow-400 to-amber-500 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-black rounded-sm flex items-center justify-center relative",children:[s.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-yellow-400 rounded-sm"}),s.jsx("div",{className:"absolute top-0 right-0 w-0.5 h-0.5 sm:w-1 sm:h-1 bg-white rounded-sm"})]})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:"Maria Havens POS"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 hidden sm:block",children:"Hotel & Restaurant System"})]})]})}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[s.jsxs("div",{className:"hidden md:flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(ei,{className:"w-4 h-4"}),new Date().toLocaleTimeString("en-KE",{hour:"2-digit",minute:"2-digit",hour12:!0})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 bg-gray-50 rounded-lg px-2 py-1 sm:px-4 sm:py-2",children:[s.jsx(Tt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600"}),s.jsxs("div",{className:"text-xs sm:text-sm min-w-0",children:[s.jsx("div",{className:"font-medium text-gray-900 truncate",children:d?.name}),s.jsx("div",{className:"text-gray-500 hidden sm:block truncate",children:A(d?.role||"")})]})]}),s.jsxs("button",{onClick:w,className:"flex items-center gap-1 sm:gap-2 text-gray-600 hover:text-red-600 transition-colors p-1 sm:p-2 rounded-lg hover:bg-red-50",title:"Logout",children:[s.jsx(kx,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsx("span",{className:"hidden sm:inline text-sm",children:"Logout"})]})]})]})})}const ue=d=>`KES ${d.toLocaleString("en-KE",{minimumFractionDigits:0,maximumFractionDigits:0})}`;function rh({isQuickAccess:d=!1}){const{currentOrder:w,removeItemFromOrder:A,updateItemQuantity:o,clearOrder:v}=In(),{user:H,validateStaffPin:D}=Zl(),[b,j]=U.useState(!1),[k,M]=U.useState(!1),[C,h]=U.useState(""),[q,Q]=U.useState(""),[Z,ee]=U.useState(""),[N,B]=U.useState(""),[Y,X]=U.useState(!1),[le,de]=U.useState(!1),[ge,Me]=U.useState(null);if(!w||w.items.length===0)return s.jsxs("div",{className:"w-full lg:w-80 bg-white border-t lg:border-t-0 lg:border-l border-gray-200 p-4 lg:p-6 flex flex-col items-center justify-center text-gray-500",children:[s.jsx(Zx,{className:"w-12 h-12 lg:w-16 lg:h-16 mb-4 text-gray-300"}),s.jsx("p",{className:"text-base lg:text-lg font-medium",children:"No active order"}),s.jsx("p",{className:"text-sm text-center",children:"Add items to start creating an order"})]});const K=z=>{h(z),j(!1),M(!0)},ce=async()=>{if(!q||!Z){B("Please enter both Employee ID and PIN");return}X(!0),B("");try{const z=await D(q,Z);if(z&&w){const $={...w,order_number:`ORD-${Date.now()}`,staff_id:z.id,payment_method:C,payment_status:"paid",status:"pending",created_at:new Date().toISOString(),completed_at:new Date().toISOString()},F=localStorage.getItem("pos_token")||localStorage.getItem("token");console.log("Submitting order with token:",F?"Token exists":"No token found"),console.log("Order data:",$);const pe=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`},body:JSON.stringify($)});if(console.log("Response status:",pe.status),!pe.ok){const T=await pe.json().catch(()=>({message:"Failed to submit order"}));throw console.error("Order submission error:",T),new Error(T.message||"Failed to submit order.")}const Ne=await pe.json();console.log("Order submitted successfully:",Ne),Me({...$,staff_name:z.name}),de(!0),v(),Ue()}else B("Invalid Employee ID or PIN")}catch(z){console.error("Order submission error:",z),B(`Verification or order submission failed: ${z.message}`)}finally{X(!1)}},Ue=()=>{M(!1),Q(""),ee(""),B(""),h("")},O=z=>{Z.length<4&&ee($=>$+z)},W=()=>{ee(""),B("")},ye=()=>{ee(z=>z.slice(0,-1)),B("")},De=()=>{window.print()};return b?s.jsxs("div",{className:"w-80 bg-white border-l border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Payment"}),s.jsx("button",{onClick:()=>j(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[s.jsx("span",{children:"Total Amount:"}),s.jsx("span",{className:"text-green-600",children:ue(w.total_amount)})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>K("Cash"),className:"w-full flex items-center gap-3 p-4 bg-green-50 hover:bg-green-100 rounded-lg border border-green-200 transition-colors",children:[s.jsx(ox,{className:"w-6 h-6 text-green-600"}),s.jsx("span",{className:"font-medium text-green-700",children:"Cash Payment"})]}),s.jsxs("button",{onClick:()=>K("Card"),className:"w-full flex items-center gap-3 p-4 bg-blue-50 hover:bg-blue-100 rounded-lg border border-blue-200 transition-colors",children:[s.jsx(Nx,{className:"w-6 h-6 text-blue-600"}),s.jsx("span",{className:"font-medium text-blue-700",children:"Card Payment"})]}),s.jsxs("button",{onClick:()=>K("Mobile Money"),className:"w-full flex items-center gap-3 p-4 bg-orange-50 hover:bg-orange-100 rounded-lg border border-orange-200 transition-colors",children:[s.jsx(Wx,{className:"w-6 h-6 text-orange-600"}),s.jsx("span",{className:"font-medium text-orange-700",children:"M-Pesa / Airtel Money"})]}),(H?.role==="receptionist"||H?.role==="manager"||H?.role==="admin")&&s.jsxs("button",{onClick:()=>K("Room Charge"),className:"w-full flex items-center gap-3 p-4 bg-purple-50 hover:bg-purple-100 rounded-lg border border-purple-200 transition-colors",children:[s.jsx(br,{className:"w-6 h-6 text-purple-600"}),s.jsx("span",{className:"font-medium text-purple-700",children:"Post to Room"})]})]})]}):k?s.jsxs("div",{className:"w-full lg:w-80 bg-white border-t lg:border-t-0 lg:border-l border-gray-200 p-4 lg:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold",children:d?"Waiter Verification":"Staff Verification"}),s.jsx("button",{onClick:Ue,className:"text-gray-500 hover:text-gray-700",children:""})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:d?`Please verify your identity to complete the payment of ${ue(w?.total_amount||0)} via ${C}`:`Please verify your identity to complete the payment of ${ue(w?.total_amount||0)} via ${C}`}),d&&s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 mb-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Tt,{className:"w-4 h-4 text-yellow-600 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium text-yellow-800",children:"Quick POS Mode"}),s.jsx("div",{className:"text-yellow-700",children:"Enter your waiter credentials to process this order"})]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employee ID"}),s.jsx("input",{type:"text",value:q,onChange:z=>{Q(z.target.value.toUpperCase()),B("")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent outline-none",placeholder:"Enter Employee ID",autoFocus:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PIN (4 digits)"}),s.jsx("input",{type:"password",value:Z,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-center text-lg tracking-widest mb-4",placeholder:"",maxLength:4}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[[1,2,3,4,5,6,7,8,9].map(z=>s.jsx("button",{type:"button",onClick:()=>O(z.toString()),className:"h-12 bg-gray-100 hover:bg-gray-200 rounded-md font-semibold transition-colors text-lg",disabled:Z.length>=4,children:z},z)),s.jsx("button",{type:"button",onClick:W,className:"h-12 bg-red-100 hover:bg-red-200 text-red-600 rounded-md text-sm font-semibold transition-colors",children:"Clear"}),s.jsx("button",{type:"button",onClick:()=>O("0"),className:"h-12 bg-gray-100 hover:bg-gray-200 rounded-md font-semibold transition-colors text-lg",disabled:Z.length>=4,children:"0"}),s.jsx("button",{type:"button",onClick:ye,className:"h-12 bg-gray-100 hover:bg-gray-200 rounded-md font-semibold transition-colors text-lg",children:""})]})]}),N&&s.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md border border-red-200",children:N}),s.jsx("button",{onClick:ce,disabled:Y||!q||Z.length!==4,className:"w-full bg-gradient-to-r from-yellow-400 to-amber-500 hover:from-yellow-500 hover:to-amber-600 text-white py-3 px-4 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Y?s.jsxs(s.Fragment,{children:[s.jsx(Ll,{className:"w-4 h-4 animate-spin"}),"Verifying..."]}):"Complete Payment"})]})]}):le&&ge?s.jsxs("div",{className:"w-full lg:w-80 bg-white border-t lg:border-t-0 lg:border-l border-gray-200 p-4 lg:p-6",children:[s.jsxs("div",{className:"print:w-full print:max-w-none print:p-4",children:[s.jsxs("div",{className:"text-center mb-6 print:mb-4",children:[s.jsx("div",{className:"flex justify-center mb-2",children:s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-400 to-amber-500 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"w-8 h-8 bg-black rounded-md flex items-center justify-center relative",children:[s.jsx("div",{className:"w-4 h-4 bg-yellow-400 rounded-sm"}),s.jsx("div",{className:"absolute top-0 right-0 w-1 h-1 bg-white rounded-sm"})]})})}),s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Maria Havens"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Hotel & Restaurant"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"P.O. Box 123, Nairobi, Kenya"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Tel: +254 700 123 456"})]}),s.jsxs("div",{className:"border-t border-b border-gray-200 py-4 mb-4 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Receipt #:"}),s.jsx("span",{className:"font-semibold",children:ge.order_number})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Date:"}),s.jsx("span",{children:new Date(ge.completed_at).toLocaleString("en-KE")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Served by:"}),s.jsx("span",{children:ge.staff_name})]}),ge.location&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Location:"}),s.jsx("span",{children:ge.location})]})]}),s.jsx("div",{className:"mb-4",children:ge.items.map((z,$)=>s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{children:z.product?.name||"Item"}),s.jsxs("div",{className:"text-gray-500 text-xs",children:[z.quantity,"  ",ue(z.unit_price)]})]}),s.jsx("div",{className:"font-semibold",children:ue(z.total_price)})]},$))}),s.jsxs("div",{className:"border-t border-gray-200 pt-4 text-sm space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal:"}),s.jsx("span",{children:ue(ge.subtotal)})]}),ge.service_charge>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Service Charge (10%):"}),s.jsx("span",{children:ue(ge.service_charge)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"VAT (16%):"}),s.jsx("span",{children:ue(ge.tax_amount)})]}),s.jsxs("div",{className:"flex justify-between font-bold text-lg border-t border-gray-200 pt-2",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{children:ue(ge.total_amount)})]}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mt-2",children:[s.jsx("span",{children:"Payment Method:"}),s.jsx("span",{className:"capitalize",children:ge.payment_method})]})]}),s.jsxs("div",{className:"text-center mt-6 text-xs text-gray-500",children:[s.jsx("p",{children:"Thank you for dining with us!"}),s.jsx("p",{className:"mt-1",children:"Visit us again soon"})]})]}),s.jsxs("div",{className:"flex gap-2 mt-6 print:hidden",children:[s.jsx("button",{onClick:De,className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg font-medium transition-colors",children:"Print Receipt"}),s.jsx("button",{onClick:()=>{de(!1),Me(null)},className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-4 rounded-lg font-medium transition-colors",children:"Close"})]})]}):s.jsxs("div",{className:"w-80 bg-white border-l border-gray-200 p-6 flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Current Order"}),s.jsxs("span",{className:"text-sm text-gray-500",children:["Order by: ",H?.name]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsx("div",{className:"space-y-3",children:w.items.map(z=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:z.product.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[ue(z.unit_price)," each"]})]}),s.jsx("button",{onClick:()=>A(z.id),className:"text-red-500 hover:text-red-700 p-1",children:s.jsx(Da,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>o(z.id,z.quantity-1),className:"w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center",disabled:z.quantity<=1,children:s.jsx(Hx,{className:"w-4 h-4"})}),s.jsx("span",{className:"w-8 text-center font-medium",children:z.quantity}),s.jsx("button",{onClick:()=>o(z.id,z.quantity+1),className:"w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center",children:s.jsx(Oa,{className:"w-4 h-4"})})]}),s.jsx("span",{className:"font-semibold",children:ue(z.total_price)})]})]},z.id))})}),s.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal:"}),s.jsx("span",{children:ue(w.subtotal)})]}),w.service_charge>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Service Charge (10%):"}),s.jsx("span",{children:ue(w.service_charge)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"VAT (16%):"}),s.jsx("span",{children:ue(w.tax_amount)})]}),w.discount_amount>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsx("span",{children:"Discount:"}),s.jsxs("span",{children:["-",ue(w.discount_amount)]})]}),s.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-gray-200 pt-2",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{children:ue(w.total_amount)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[s.jsx("button",{onClick:v,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium text-gray-700 transition-colors",children:"Clear Order"}),s.jsx("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-gradient-to-r from-yellow-400 to-amber-500 hover:from-yellow-500 hover:to-amber-600 text-white rounded-lg font-medium transition-colors",children:"Pay Now"})]})]})]})}function uh(){const{addItemToOrder:d}=In(),[w,A]=U.useState(null),[o,v]=U.useState([]),[H,D]=U.useState([]);U.useEffect(()=>{const k=async()=>{try{const C=await fetch(Ea("/api/products"));if(!C.ok)throw new Error("Failed to fetch products");const h=await C.json();v(h)}catch(C){console.error("Failed to fetch products:",C)}},M=async()=>{try{const C=await fetch(Ea("/api/categories"));if(!C.ok)throw new Error("Failed to fetch categories");const h=await C.json();D(h)}catch(C){console.error("Failed to fetch categories:",C)}};k(),M()},[]);const b=w?o.filter(k=>k.category_id===w&&k.is_available):o.filter(k=>k.is_available),j=k=>{switch(k){case 1:return"";case 2:return"";case 3:return"";case 4:return"";default:return""}};return s.jsxs("div",{className:"flex-1 p-3 sm:p-4 lg:p-6",children:[s.jsxs("div",{className:"flex gap-1 sm:gap-2 mb-4 sm:mb-6 overflow-x-auto pb-2",children:[s.jsx("button",{onClick:()=>A(null),className:`px-3 py-1.5 sm:px-4 sm:py-2 rounded-lg text-sm sm:text-base font-medium whitespace-nowrap transition-colors ${w===null?"bg-yellow-400 text-yellow-900":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:"All Items"}),H.filter(k=>k.is_active).map(k=>s.jsx("button",{onClick:()=>A(k.id),className:`px-3 py-1.5 sm:px-4 sm:py-2 rounded-lg text-sm sm:text-base font-medium whitespace-nowrap transition-colors ${w===k.id?"bg-yellow-400 text-yellow-900":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:k.name},k.id))]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 sm:gap-4",children:b.map(k=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"aspect-square bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center overflow-hidden",children:k.image_url?s.jsx("img",{src:k.image_url,alt:k.name,className:"w-full h-full object-cover",onError:M=>{M.currentTarget.style.display="none",M.currentTarget.parentElement.innerHTML=`<div class='text-4xl'>${j(k.category_id)}</div>`}}):s.jsx("div",{className:"text-4xl",children:j(k.category_id)})}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2",children:k.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:k.description}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(ei,{className:"w-4 h-4 text-gray-400"}),s.jsxs("span",{className:"text-sm text-gray-500",children:[k.preparation_time," min"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-lg font-bold text-gray-900",children:ue(k.price??0)}),s.jsx("button",{onClick:()=>d(k),className:"w-8 h-8 bg-gradient-to-r from-yellow-400 to-amber-500 hover:from-yellow-500 hover:to-amber-600 rounded-full flex items-center justify-center text-white transition-colors",children:s.jsx(Oa,{className:"w-4 h-4"})})]})]})]},k.id))}),b.length===0&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500 text-lg",children:"No items available in this category"})})]})}function oh(){const{currentOrder:d,setCurrentOrder:w}=In(),[A,o]=U.useState([]);U.useEffect(()=>{(async()=>{try{const b=await fetch("/api/tables");if(!b.ok)throw new Error("Failed to fetch tables");const j=await b.json();o(j)}catch(b){console.error("Error fetching tables:",b)}})()},[]);const v=D=>{switch(D){case"available":return"bg-green-100 border-green-300 text-green-800";case"occupied":return"bg-red-100 border-red-300 text-red-800";case"reserved":return"bg-yellow-100 border-yellow-300 text-yellow-800";case"cleaning":return"bg-gray-100 border-gray-300 text-gray-800";default:return"bg-gray-100 border-gray-300 text-gray-800"}},H=D=>{D.status==="available"&&(d&&w({...d,order_type:"dine_in",table_id:D.id}),alert(`Table ${D.table_number} selected for current order`))};return s.jsxs("div",{className:"flex-1 p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Restaurant Floor Plan"}),s.jsx("p",{className:"text-gray-600",children:"Select an available table to assign to your order"})]}),s.jsxs("div",{className:"flex gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 bg-green-100 border border-green-300 rounded"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Available"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 bg-red-100 border border-red-300 rounded"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Occupied"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 bg-yellow-100 border border-yellow-300 rounded"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Reserved"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 bg-gray-100 border border-gray-300 rounded"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Cleaning"})]})]}),s.jsx("div",{className:"grid grid-cols-4 lg:grid-cols-6 gap-4",children:A.map(D=>s.jsxs("div",{onClick:()=>H(D),className:`
              relative p-4 rounded-lg border-2 cursor-pointer transition-all hover:shadow-md
              ${v(D.status)}
              ${D.status==="available"?"hover:scale-105":"cursor-not-allowed opacity-75"}
              ${d?.table_id===D.id?"ring-2 ring-blue-500":""}
            `,children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-2 bg-white rounded-lg flex items-center justify-center shadow-sm",children:s.jsx(Cs,{className:"w-6 h-6 text-gray-600"})}),s.jsx("div",{className:"font-bold text-lg",children:D.table_number}),s.jsxs("div",{className:"text-sm opacity-75",children:[D.capacity," seats"]}),s.jsx("div",{className:"text-xs mt-1 font-medium capitalize",children:D.status.replace("_"," ")})]}),d?.table_id===D.id&&s.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:""})]},D.id))}),s.jsxs("div",{className:"mt-8 grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:A.filter(D=>D.status==="available").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Available Tables"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:A.filter(D=>D.status==="occupied").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Occupied Tables"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:A.filter(D=>D.status==="reserved").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Reserved Tables"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:A.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Tables"})]})]})]})}function dh(){const{currentOrder:d,setCurrentOrder:w}=In(),[A,o]=U.useState([]);U.useEffect(()=>{(async()=>{try{const j=await fetch("/api/rooms");if(!j.ok)throw new Error("Failed to fetch rooms");const k=await j.json();o(k)}catch(j){console.error("Error fetching rooms:",j)}})()},[]);const v=b=>{switch(b){case"vacant":return"bg-green-100 border-green-300 text-green-800";case"occupied":return"bg-red-100 border-red-300 text-red-800";case"reserved":return"bg-yellow-100 border-yellow-300 text-yellow-800";case"maintenance":return"bg-orange-100 border-orange-300 text-orange-800";case"cleaning":return"bg-gray-100 border-gray-300 text-gray-800";default:return"bg-gray-100 border-gray-300 text-gray-800"}},H=b=>{switch(b){case"Standard":return"bg-blue-100 text-blue-800";case"Deluxe":return"bg-purple-100 text-purple-800";case"Suite":return"bg-amber-100 text-amber-800";default:return"bg-gray-100 text-gray-800"}},D=b=>{(b.status==="occupied"||b.status==="reserved")&&(d&&w({...d,order_type:"room_service",room_id:b.id}),alert(`Room ${b.room_number} selected for room service order`))};return s.jsxs("div",{className:"flex-1 p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Hotel Rooms"}),s.jsx("p",{className:"text-gray-600",children:"Select an occupied room to provide room service"})]}),s.jsx("div",{className:"flex gap-4 mb-6",children:[{color:"bg-green-100 border-green-300",label:"Vacant"},{color:"bg-red-100 border-red-300",label:"Occupied"},{color:"bg-yellow-100 border-yellow-300",label:"Reserved"},{color:"bg-orange-100 border-orange-300",label:"Maintenance"},{color:"bg-gray-100 border-gray-300",label:"Cleaning"}].map((b,j)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-4 h-4 rounded border ${b.color}`}),s.jsx("span",{className:"text-sm text-gray-600",children:b.label})]},j))}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:A.map(b=>s.jsxs("div",{onClick:()=>D(b),className:`
              relative p-4 rounded-lg border-2 cursor-pointer transition-all hover:shadow-md
              ${v(b.status)}
              ${b.status==="occupied"||b.status==="reserved"?"hover:scale-105":"cursor-not-allowed opacity-75"}
              ${d?.room_id===b.id?"ring-2 ring-blue-500":""}
            `,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hs,{className:"w-5 h-5"}),s.jsx("span",{className:"font-bold text-lg",children:b.room_number})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${H(b.room_type)}`,children:b.room_type})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-medium capitalize",children:b.status.replace("_"," ")}),b.guest_name&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Tt,{className:"w-4 h-4"}),s.jsx("span",{children:b.guest_name})]}),b.check_in_date&&b.check_out_date&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(vr,{className:"w-4 h-4"}),s.jsxs("span",{children:[new Date(b.check_in_date).toLocaleDateString()," -"," ",new Date(b.check_out_date).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(za,{className:"w-4 h-4"}),s.jsxs("span",{children:[ue(b.rate),"/night"]})]})]}),d?.room_id===b.id&&s.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:""})]},b.id))}),s.jsxs("div",{className:"mt-8 grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:A.filter(b=>b.status==="vacant").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Vacant Rooms"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:A.filter(b=>b.status==="occupied").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Occupied Rooms"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:A.filter(b=>b.status==="reserved").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Reserved Rooms"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:A.filter(b=>b.status==="maintenance").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Maintenance"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-600",children:A.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Rooms"})]})]})]})}function fh({onBackToLogin:d}){const[w,A]=U.useState(null),[o,v]=U.useState(!1),H=[{id:1,employee_id:"EMP002",name:"Mary Waiter",pin:"5678"},{id:2,employee_id:"EMP009",name:"John Server",pin:"1122"},{id:3,employee_id:"EMP010",name:"Alice Service",pin:"3344"},{id:4,employee_id:"EMP011",name:"Bob Wait",pin:"5566"}],D=b=>{A(b),v(!1)};return s.jsxs("header",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:d,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",title:"Back to Login",children:s.jsx(rx,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-400 to-amber-500 rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"w-6 h-6 bg-black rounded-sm flex items-center justify-center relative",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-sm"}),s.jsx("div",{className:"absolute top-0 right-0 w-1 h-1 bg-white rounded-sm"})]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Maria Havens POS"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Quick Access Mode"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(ei,{className:"w-4 h-4"}),new Date().toLocaleTimeString("en-KE",{hour:"2-digit",minute:"2-digit",hour12:!0})]}),s.jsx("div",{className:"flex items-center gap-3",children:w?s.jsxs("div",{onClick:()=>v(!0),className:"flex items-center gap-3 bg-green-50 rounded-lg px-4 py-2 cursor-pointer hover:bg-green-100 transition-colors",children:[s.jsx(Tt,{className:"w-5 h-5 text-green-600"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium text-green-900",children:w.name}),s.jsx("div",{className:"text-green-600",children:"Active Waiter"})]})]}):s.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-3 bg-yellow-50 rounded-lg px-4 py-2 hover:bg-yellow-100 transition-colors",children:[s.jsx(Tt,{className:"w-5 h-5 text-yellow-600"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium text-yellow-900",children:"Select Waiter"}),s.jsx("div",{className:"text-yellow-600",children:"Required for orders"})]})]})})]})]}),o&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-md mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Select Waiter"}),s.jsx("button",{onClick:()=>v(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),s.jsx("div",{className:"space-y-3",children:H.map(b=>s.jsxs("button",{onClick:()=>D(b),className:`w-full flex items-center gap-3 p-3 rounded-lg border-2 transition-colors ${w?.id===b.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[s.jsx(Tt,{className:"w-6 h-6 text-gray-600"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium text-gray-900",children:b.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",b.employee_id]})]}),w?.id===b.id&&s.jsx("div",{className:"ml-auto w-6 h-6 bg-green-500 text-white rounded-full flex items-center justify-center text-xs font-bold",children:""})]},b.id))}),s.jsx("div",{className:"mt-6 flex gap-3",children:s.jsx("button",{onClick:()=>v(!1),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 px-4 rounded-lg font-medium transition-colors",children:"Cancel"})})]})})]})}function mh(){const[d,w]=U.useState([]),[A,o]=U.useState(!0),v=async()=>{o(!0);const b=localStorage.getItem("pos_token");try{const j=await fetch("/api/deliveries",{headers:{Authorization:`Bearer ${b}`}});if(j.ok){const k=await j.json();w(k)}}catch(j){console.error("Failed to fetch deliveries:",j)}finally{o(!1)}};U.useEffect(()=>{v();const b=setInterval(v,3e4);return()=>clearInterval(b)},[]);const H=async(b,j)=>{const k=localStorage.getItem("pos_token");try{(await fetch(`/api/deliveries/${b}/status`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify({status:j})})).ok?v():alert("Failed to update status")}catch(M){console.error("Failed to update status:",M)}},D={unassigned:d.filter(b=>b.delivery_status==="unassigned"),assigned:d.filter(b=>b.delivery_status==="assigned"),out_for_delivery:d.filter(b=>b.delivery_status==="out_for_delivery")};return A&&d.length===0?s.jsx("div",{className:"p-6 text-center",children:"Loading delivery orders..."}):s.jsxs("div",{className:"flex-1 p-6 overflow-x-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Delivery Management"}),s.jsx("p",{className:"text-gray-600",children:"Track and manage all outgoing delivery orders."})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 min-w-[1200px]",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold text-gray-800 mb-4",children:["New Orders (",D.unassigned.length,")"]}),s.jsx("div",{className:"space-y-4",children:D.unassigned.map(b=>s.jsx(yr,{order:b,onUpdateStatus:H},b.id))})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold text-gray-800 mb-4",children:["Preparing / Assigned (",D.assigned.length,")"]}),s.jsx("div",{className:"space-y-4",children:D.assigned.map(b=>s.jsx(yr,{order:b,onUpdateStatus:H},b.id))})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold text-gray-800 mb-4",children:["Out for Delivery (",D.out_for_delivery.length,")"]}),s.jsx("div",{className:"space-y-4",children:D.out_for_delivery.map(b=>s.jsx(yr,{order:b,onUpdateStatus:H},b.id))})]})]}),d.length===0&&!A&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Rs,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No Active Deliveries"}),s.jsx("p",{className:"text-gray-600",children:"New delivery orders will appear here automatically."})]})]})}const yr=({order:d,onUpdateStatus:w})=>s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900",children:d.order_number}),s.jsx("span",{className:"text-xs text-gray-500",children:new Date(d.created_at).toLocaleTimeString()})]}),s.jsx("span",{className:"font-bold text-lg text-green-600",children:ue(d.total_amount)})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-700 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Tt,{size:14})," ",d.customer_name]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xx,{size:14})," ",d.customer_phone]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rx,{size:14})," ",d.delivery_address]})]}),s.jsxs("div",{className:"border-t border-gray-100 pt-2 mb-3",children:[s.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Items:"}),s.jsx("p",{className:"text-xs text-gray-600 truncate",children:d.items.map(A=>`${A.quantity}x ${A.product_name}`).join(", ")})]}),s.jsxs("div",{className:"flex gap-2",children:[d.delivery_status==="unassigned"&&s.jsx("button",{onClick:()=>w(d.id,"assigned"),className:"flex-1 bg-blue-500 text-white py-1.5 rounded-md text-sm",children:"Assign Driver"}),d.delivery_status==="assigned"&&s.jsx("button",{onClick:()=>w(d.id,"out_for_delivery"),className:"flex-1 bg-yellow-500 text-white py-1.5 rounded-md text-sm",children:"Out for Delivery"}),d.delivery_status==="out_for_delivery"&&s.jsx("button",{onClick:()=>w(d.id,"delivered"),className:"flex-1 bg-green-500 text-white py-1.5 rounded-md text-sm",children:"Mark Delivered"})]})]});function hf({isQuickAccess:d=!1,onBackToLogin:w}){const{user:A}=Zl(),[o,v]=U.useState("menu"),[H,D]=U.useState("dine_in"),b=A?.role==="receptionist"||A?.role==="manager"||A?.role==="admin"||d,j=A?.role==="delivery"||A?.role==="manager"||A?.role==="admin"||d,k=()=>{switch(o){case"tables":return s.jsx(oh,{});case"rooms":return s.jsx(dh,{});case"delivery":return s.jsx(mh,{});default:return s.jsx(uh,{})}};return s.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[d?s.jsx(fh,{onBackToLogin:w}):s.jsx(li,{}),s.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden",children:[s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sm:px-6 sm:py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:[s.jsx("button",{onClick:()=>{D("dine_in"),v("menu")},className:`px-3 py-1.5 sm:px-4 sm:py-2 rounded-lg text-sm sm:text-base font-medium transition-colors ${H==="dine_in"?"bg-yellow-400 text-yellow-900":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:"Dine In"}),s.jsx("button",{onClick:()=>{D("takeaway"),v("menu")},className:`px-3 py-1.5 sm:px-4 sm:py-2 rounded-lg text-sm sm:text-base font-medium transition-colors ${H==="takeaway"?"bg-yellow-400 text-yellow-900":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:"Takeaway"}),j&&s.jsx("button",{onClick:()=>{D("delivery"),v("delivery")},className:`px-4 py-2 rounded-lg font-medium transition-colors ${H==="delivery"?"bg-yellow-400 text-yellow-900":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:"Delivery"}),b&&s.jsx("button",{onClick:()=>{D("room_service"),v("rooms")},className:`px-4 py-2 rounded-lg font-medium transition-colors ${H==="room_service"?"bg-yellow-400 text-yellow-900":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:"Room Service"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>v("menu"),className:`p-2 rounded-lg transition-colors ${o==="menu"?"bg-yellow-400 text-yellow-900":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,title:"Menu",children:s.jsx(ti,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>v("tables"),className:`p-2 rounded-lg transition-colors ${o==="tables"?"bg-yellow-400 text-yellow-900":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,title:"Tables",children:s.jsx(Mx,{className:"w-5 h-5"})}),b&&s.jsx("button",{onClick:()=>v("rooms"),className:`p-2 rounded-lg transition-colors ${o==="rooms"?"bg-yellow-400 text-yellow-900":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,title:"Rooms",children:s.jsx(br,{className:"w-5 h-5"})}),(A?.role==="admin"||A?.role==="manager")&&s.jsx("button",{onClick:()=>alert("Admin settings access - functionality coming soon"),className:"p-2 rounded-lg transition-colors bg-gray-100 hover:bg-gray-200 text-gray-700",title:"Settings",children:s.jsx(pr,{className:"w-5 h-5"})})]})]})}),k()]}),s.jsx(rh,{isQuickAccess:d})]})]})}function xh(){const[d,w]=U.useState([]),[A,o]=U.useState(new Date),v=async()=>{const M=localStorage.getItem("pos_token");try{const C=await fetch(Ea("/api/orders/kitchen"),{headers:{Authorization:`Bearer ${M}`}});if(C.ok){const q=(await C.json()).map(Q=>({...Q,priority:Q.items.length>2?"high":"medium",total_time:Math.max(...Q.items.map(Z=>Z.preparation_time||0))}));w(q)}else console.error("Failed to fetch kitchen orders.")}catch(C){console.error("Error fetching kitchen orders:",C)}};U.useEffect(()=>{v();const M=setInterval(()=>o(new Date),1e3),C=window.location.protocol==="https:"?`wss://${window.location.host}/ws/kitchen`:`ws://${window.location.host}/ws/kitchen`,h=new WebSocket(C);return h.onopen=()=>console.log(" WebSocket connected for KDS"),h.onmessage=q=>{JSON.parse(q.data).type==="new_order"&&(console.log("New order received, refreshing..."),v())},h.onclose=()=>console.log(" WebSocket disconnected for KDS"),()=>{clearInterval(M),h.close()}},[]);const H=(M,C,h)=>{w(q=>q.map(Q=>Q.id===M?{...Q,items:Q.items.map(Z=>Z.id===C?{...Z,status:h}:Z)}:Q))},D=M=>{w(C=>C.filter(h=>h.id!==M)),alert("Order marked as complete and sent to service staff")},b=M=>{const C=new Date(M);return Math.floor((A.getTime()-C.getTime())/1e3/60)},j=M=>{switch(M){case"high":return"bg-red-100 border-red-300 text-red-800";case"medium":return"bg-yellow-100 border-yellow-300 text-yellow-800";case"low":return"bg-green-100 border-green-300 text-green-800";default:return"bg-gray-100 border-gray-300 text-gray-800"}},k=M=>{switch(M){case"ready":return"bg-green-500 text-white";case"preparing":return"bg-yellow-500 text-white";case"pending":return"bg-gray-500 text-white";default:return"bg-gray-500 text-white"}};return s.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[s.jsx(li,{}),s.jsxs("div",{className:"flex-1 p-4 lg:p-6 overflow-y-auto",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ff,{className:"w-6 h-6 sm:w-8 sm:h-8 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-3xl font-bold text-gray-900",children:"Kitchen Display System"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Active orders and preparation status"})]})]}),s.jsx("div",{className:"text-left sm:text-right",children:s.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:A.toLocaleTimeString("en-KE",{hour12:!0})})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 lg:gap-6",children:d.map(M=>{const C=b(M.created_at),h=C>M.total_time,q=M.items.every(Q=>Q.status==="ready");return s.jsxs("div",{className:`bg-white rounded-lg border-2 p-3 sm:p-4 shadow-sm transition-all ${h?"border-red-300 bg-red-50":"border-gray-200"} ${q?"ring-2 ring-green-500":""}`,children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-2",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 truncate",children:M.order_number}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:[M.table_number?`Table ${M.table_number}`:`Room ${M.room_number}`," "," ",M.order_type.replace("_"," ")]})]}),s.jsxs("div",{className:"flex items-center justify-between sm:flex-col sm:text-right gap-2 sm:gap-1",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j(M.priority)}`,children:M.priority.toUpperCase()}),s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(ei,{className:"w-4 h-4"}),s.jsxs("span",{className:h?"text-red-600 font-bold":"text-gray-600",children:[C,"m / ",M.total_time,"m"]})]})]})]}),s.jsx("div",{className:"space-y-2 sm:space-y-3 mb-4",children:M.items.map(Q=>s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-2 sm:p-3 bg-gray-50 rounded-lg gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-gray-900 truncate",children:Q.product_name}),s.jsxs("span",{className:"text-sm text-gray-500 flex-shrink-0",children:["x",Q.quantity]})]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Est. ",Q.preparation_time," minutes"]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[Q.status==="pending"&&s.jsx("button",{onClick:()=>H(M.id,Q.id,"preparing"),className:"px-2 sm:px-3 py-1 bg-yellow-500 hover:bg-yellow-600 text-white text-xs sm:text-sm rounded-md",children:"Start"}),Q.status==="preparing"&&s.jsx("button",{onClick:()=>H(M.id,Q.id,"ready"),className:"px-2 sm:px-3 py-1 bg-green-500 hover:bg-green-600 text-white text-xs sm:text-sm rounded-md",children:"Ready"}),s.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium ${k(Q.status)}`,children:Q.status})]})]},Q.id))}),q&&s.jsxs("button",{onClick:()=>D(M.id),className:"w-full flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg font-medium",children:[s.jsx(bf,{className:"w-5 h-5"}),"Mark Order Complete"]})]},M.id)})}),d.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ff,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No active orders"}),s.jsx("p",{className:"text-gray-600",children:"New orders will appear here automatically"})]})]})]})}const Os="http://localhost:3001";function hh(){const[d,w]=U.useState([]),[A,o]=U.useState(!1),[v,H]=U.useState(null),[D,b]=U.useState({employee_id:"",username:"",name:"",role:"waiter",pin:"",password:"",is_active:!0});U.useEffect(()=>{j()},[]);const j=async()=>{try{const N=localStorage.getItem("pos_token"),B=await fetch(`${Os}/api/staff`,{headers:{Authorization:`Bearer ${N}`}});if(B.ok){const Y=await B.json();w(Y)}else console.error("Failed to fetch staff. Status:",B.status)}catch(N){console.error("Error fetching staff:",N)}},k=[{value:"admin",label:"Administrator"},{value:"manager",label:"Manager"},{value:"cashier",label:"Cashier"},{value:"waiter",label:"Waiter"},{value:"kitchen_staff",label:"Kitchen Staff"},{value:"delivery",label:"Delivery"},{value:"receptionist",label:"Receptionist"},{value:"housekeeping",label:"Housekeeping"}],M=async()=>{try{console.log("Adding staff with data:",D);const N=await fetch(`${Os}/api/staff`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("pos_token")}`},body:JSON.stringify(D)});if(N.ok)console.log("Staff member added successfully"),j(),Z(),o(!1);else{const B=await N.json();console.error("Failed to add staff:",B),alert(`Failed to add staff: ${B.message||"Unknown error"}`)}}catch(N){console.error("Error adding staff:",N),alert("Error adding staff member. Check console for details.")}},C=N=>{H(N),b({employee_id:N.employee_id,username:N.username,name:N.name,role:N.role,pin:N.pin,password:"",is_active:N.is_active}),o(!0)},h=async()=>{if(v)try{const N=D.password?D:{...D,password:void 0},B=await fetch(`${Os}/api/staff/${v.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("pos_token")}`},body:JSON.stringify(N)});if(B.ok)console.log("Staff member updated successfully"),j(),H(null),Z(),o(!1);else{const Y=await B.json();console.error("Failed to update staff:",Y),alert(`Failed to update staff: ${Y.message||"Unknown error"}`)}}catch(N){console.error("Error updating staff:",N),alert("Error updating staff member. Check console for details.")}},q=async N=>{if(confirm("Are you sure you want to delete this staff member?"))try{const B=await fetch(`${Os}/api/staff/${N}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("pos_token")}`}});B.ok?(console.log("Staff member deleted successfully"),j()):(console.error("Failed to delete staff. Status:",B.status),alert("Failed to delete staff member"))}catch(B){console.error("Error deleting staff:",B),alert("Error deleting staff member. Check console for details.")}},Q=async N=>{try{(await fetch(`${Os}/api/staff/${N.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("pos_token")}`},body:JSON.stringify({is_active:!N.is_active})})).ok?j():console.error("Failed to toggle active status")}catch(B){console.error("Error toggling active status:",B)}},Z=()=>{b({employee_id:"",username:"",name:"",role:"waiter",pin:"",password:"",is_active:!0})},ee=N=>({admin:"bg-red-100 text-red-800",manager:"bg-blue-100 text-blue-800",cashier:"bg-green-100 text-green-800",waiter:"bg-yellow-100 text-yellow-800",kitchen_staff:"bg-purple-100 text-purple-800",delivery:"bg-orange-100 text-orange-800",receptionist:"bg-pink-100 text-pink-800",housekeeping:"bg-gray-100 text-gray-800"})[N]||"bg-gray-100 text-gray-800";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Staff Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage employee accounts, roles, and access"})]}),s.jsxs("button",{onClick:()=>{H(null),Z(),o(!0)},className:"flex items-center gap-2 bg-yellow-400 hover:bg-yellow-500 text-yellow-900 px-4 py-2 rounded-lg font-medium transition-colors",children:[s.jsx(Oa,{className:"w-5 h-5"}),"Add Staff Member"]})]}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credentials"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(N=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:s.jsx(Tt,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.name}),s.jsx("div",{className:"text-sm text-gray-500",children:N.employee_id})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ee(N.role)}`,children:k.find(B=>B.value===N.role)?.label||N.role})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[s.jsxs("div",{children:["PIN: ",N.pin]}),s.jsxs("div",{children:["Username: ",N.username]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("button",{onClick:()=>Q(N),className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium cursor-pointer ${N.is_active?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:N.is_active?"Active":"Inactive"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>C(N),className:"text-blue-600 hover:text-blue-900",children:s.jsx(Us,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>q(N.id),className:"text-red-600 hover:text-red-900",children:s.jsx(Da,{className:"w-4 h-4"})})]})})]},N.id))})]})})}),A&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:v?"Edit Staff Member":"Add New Staff Member"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee ID"}),s.jsx("input",{type:"text",value:D.employee_id,onChange:N=>b(B=>({...B,employee_id:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"e.g., EMP001"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),s.jsx("input",{type:"text",value:D.name,onChange:N=>b(B=>({...B,name:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),s.jsx("input",{type:"text",value:D.username,onChange:N=>b(B=>({...B,username:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),s.jsx("select",{value:D.role,onChange:N=>b(B=>({...B,role:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:k.map(N=>s.jsx("option",{value:N.value,children:N.label},N.value))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PIN (4 digits)"}),s.jsx("input",{type:"text",value:D.pin,onChange:N=>b(B=>({...B,pin:N.target.value.slice(0,4)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",maxLength:4,pattern:"[0-9]{4}",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",v&&s.jsx("span",{className:"text-gray-400",children:"(leave blank to keep)"})]}),s.jsx("input",{type:"password",value:D.password,onChange:N=>b(B=>({...B,password:N.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!v})]})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{o(!1),H(null),Z()},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg",children:"Cancel"}),s.jsxs("button",{onClick:v?h:M,disabled:!D.name||!D.username||!D.pin||!v&&!D.password,className:"flex-1 px-4 py-2 bg-yellow-400 hover:bg-yellow-500 text-yellow-900 rounded-lg font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[v?"Update":"Add"," Staff"]})]})]})})]})}function gh(){const[d,w]=U.useState([]),[A,o]=U.useState(!1),[v,H]=U.useState(null),[D,b]=U.useState("all"),[j,k]=U.useState(!1),[M,C]=U.useState(null),[h,q]=U.useState({name:"",unit:"",current_stock:0,minimum_stock:0,cost_per_unit:0,supplier:"",inventory_type:"kitchen"});U.useEffect(()=>{Q()},[]);const Q=async()=>{k(!0),C(null);try{const O=localStorage.getItem("pos_token");if(!O){C("No authentication token found");return}const W=await fetch("http://localhost:3001/api/inventory",{headers:{Authorization:`Bearer ${O}`}});if(W.ok){const ye=await W.json();w(ye)}else{const ye=await W.json().catch(()=>({message:"Failed to fetch inventory"}));C(ye.message||"Failed to fetch inventory"),console.error("Failed to fetch inventory:",ye)}}catch(O){C("Network error. Please check your connection."),console.error("Fetch error:",O)}finally{k(!1)}},Z=[{value:"kitchen",label:"Kitchen",color:"bg-green-100 text-green-800"},{value:"bar",label:"Bar",color:"bg-blue-100 text-blue-800"},{value:"housekeeping",label:"Housekeeping",color:"bg-purple-100 text-purple-800"},{value:"minibar",label:"Minibar",color:"bg-orange-100 text-orange-800"}],ee=D==="all"?d:d.filter(O=>O.inventory_type===D),N=d.filter(O=>O.current_stock<=O.minimum_stock),B=d.reduce((O,W)=>O+W.current_stock*W.cost_per_unit,0),Y=async()=>{if(!h.name||!h.unit||!h.supplier){C("Please fill in all required fields");return}k(!0),C(null);try{const O=localStorage.getItem("pos_token"),W=await fetch("http://localhost:3001/api/inventory",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O}`},body:JSON.stringify(h)});if(W.ok)await Q(),Me(),o(!1);else{const ye=await W.json().catch(()=>({message:"Failed to add item"}));C(ye.message||"Failed to add inventory item"),console.error("Add error:",ye)}}catch(O){C("Network error. Please try again."),console.error("Add error:",O)}finally{k(!1)}},X=O=>{H(O),q({name:O.name,unit:O.unit,current_stock:O.current_stock,minimum_stock:O.minimum_stock,cost_per_unit:O.cost_per_unit,supplier:O.supplier,inventory_type:O.inventory_type}),o(!0),C(null)},le=async()=>{if(v){if(!h.name||!h.unit||!h.supplier){C("Please fill in all required fields");return}k(!0),C(null);try{const O=localStorage.getItem("pos_token"),W=await fetch(`http://localhost:3001/api/inventory/${v.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O}`},body:JSON.stringify(h)});if(W.ok)await Q(),H(null),Me(),o(!1);else{const ye=await W.json().catch(()=>({message:"Failed to update item"}));C(ye.message||"Failed to update inventory item"),console.error("Update error:",ye)}}catch(O){C("Network error. Please try again."),console.error("Update error:",O)}finally{k(!1)}}},de=async O=>{if(confirm("Are you sure you want to delete this inventory item?")){k(!0),C(null);try{const W=localStorage.getItem("pos_token"),ye=await fetch(`http://localhost:3001/api/inventory/${O}`,{method:"DELETE",headers:{Authorization:`Bearer ${W}`}});if(ye.ok)await Q();else{const De=await ye.json().catch(()=>({message:"Failed to delete item"}));C(De.message||"Failed to delete inventory item"),console.error("Delete error:",De)}}catch(W){C("Network error. Please try again."),console.error("Delete error:",W)}finally{k(!1)}}},ge=async(O,W)=>{C(null);try{const ye=localStorage.getItem("pos_token"),De=await fetch(`http://localhost:3001/api/inventory/${O}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ye}`},body:JSON.stringify({current_stock:Math.max(0,W)})});if(De.ok)await Q();else{const z=await De.json().catch(()=>({message:"Failed to update stock"}));C(z.message||"Failed to update stock")}}catch(ye){C("Network error. Please try again."),console.error("Stock update error:",ye)}},Me=()=>{q({name:"",unit:"",current_stock:0,minimum_stock:0,cost_per_unit:0,supplier:"",inventory_type:"kitchen"}),C(null)},K=O=>O.current_stock===0?"text-red-600":O.current_stock<=O.minimum_stock?"text-yellow-600":"text-green-600",ce=O=>Z.find(ye=>ye.value===O)?.color||"bg-gray-100 text-gray-800",Ue=O=>`KES ${O.toLocaleString("en-KE",{minimumFractionDigits:0,maximumFractionDigits:0})}`;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),s.jsx("p",{className:"text-gray-600",children:"Track stock levels and manage suppliers"})]}),s.jsxs("button",{onClick:()=>{H(null),Me(),o(!0)},className:"flex items-center gap-2 bg-yellow-400 hover:bg-yellow-500 text-yellow-900 px-4 py-2 rounded-lg font-medium transition-colors",disabled:j,children:[s.jsx(Oa,{className:"w-5 h-5"}),"Add Item"]})]}),M&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vl,{className:"w-5 h-5 text-red-600"}),s.jsx("p",{className:"text-red-800",children:M})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Items"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:N.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Low Stock Alerts"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:Ue(B)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Inventory Value"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:d.filter(O=>O.inventory_type==="kitchen").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Kitchen Items"})]})]}),s.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs("button",{onClick:()=>b("all"),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${D==="all"?"bg-yellow-400 text-yellow-900":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All Items (",d.length,")"]}),Z.map(O=>s.jsxs("button",{onClick:()=>b(O.value),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${D===O.value?"bg-yellow-400 text-yellow-900":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[O.label," (",d.filter(W=>W.inventory_type===O.value).length,")"]},O.value))]})}),N.length>0&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Vl,{className:"w-5 h-5 text-yellow-600"}),s.jsx("h3",{className:"text-lg font-semibold text-yellow-900",children:"Low Stock Alerts"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:N.map(O=>s.jsxs("div",{className:"bg-white rounded-md p-3 border border-yellow-200",children:[s.jsx("div",{className:"font-medium text-gray-900",children:O.name}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Current: ",s.jsxs("span",{className:"text-red-600 font-semibold",children:[O.current_stock," ",O.unit]}),s.jsx("span",{className:"mx-2",children:""}),"Min: ",O.minimum_stock," ",O.unit]})]},O.id))})]}),j&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-400"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Loading..."})]}),!j&&s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supplier"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ee.map(O=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-blue-600 rounded-lg flex items-center justify-center",children:s.jsx(Rs,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:O.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Per ",O.unit]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ce(O.inventory_type)}`,children:Z.find(W=>W.value===O.inventory_type)?.label})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:`text-sm font-semibold ${K(O)}`,children:[O.current_stock," ",O.unit]}),O.current_stock<=O.minimum_stock&&s.jsx(Vl,{className:"w-4 h-4 text-yellow-500"})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Min: ",O.minimum_stock," ",O.unit]}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx("button",{onClick:()=>ge(O.id,O.current_stock-1),className:"w-6 h-6 bg-red-100 hover:bg-red-200 text-red-600 rounded-full flex items-center justify-center text-xs font-bold",disabled:j,children:"-"}),s.jsx("button",{onClick:()=>ge(O.id,O.current_stock+1),className:"w-6 h-6 bg-green-100 hover:bg-green-200 text-green-600 rounded-full flex items-center justify-center text-xs font-bold",disabled:j,children:"+"})]})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[s.jsx("div",{children:Ue(O.cost_per_unit)}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Total: ",Ue(O.current_stock*O.cost_per_unit)]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O.supplier}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(O.last_updated).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>X(O),className:"text-blue-600 hover:text-blue-900",disabled:j,children:s.jsx(Us,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>de(O.id),className:"text-red-600 hover:text-red-900",disabled:j,children:s.jsx(Da,{className:"w-4 h-4"})})]})})]},O.id))})]})})}),A&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:v?"Edit Inventory Item":"Add New Inventory Item"}),M&&s.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-3",children:s.jsx("p",{className:"text-sm text-red-800",children:M})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Name *"}),s.jsx("input",{type:"text",value:h.name,onChange:O=>q(W=>({...W,name:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0,disabled:j})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit *"}),s.jsx("input",{type:"text",value:h.unit,onChange:O=>q(W=>({...W,unit:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"kg, bottles, pieces",required:!0,disabled:j})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),s.jsx("select",{value:h.inventory_type,onChange:O=>q(W=>({...W,inventory_type:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",disabled:j,children:Z.map(O=>s.jsx("option",{value:O.value,children:O.label},O.value))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Stock"}),s.jsx("input",{type:"number",value:h.current_stock,onChange:O=>q(W=>({...W,current_stock:parseInt(O.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",min:"0",required:!0,disabled:j})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Stock"}),s.jsx("input",{type:"number",value:h.minimum_stock,onChange:O=>q(W=>({...W,minimum_stock:parseInt(O.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",min:"0",required:!0,disabled:j})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost per Unit (KES)"}),s.jsx("input",{type:"number",value:h.cost_per_unit,onChange:O=>q(W=>({...W,cost_per_unit:parseFloat(O.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",min:"0",step:"0.01",required:!0,disabled:j})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier *"}),s.jsx("input",{type:"text",value:h.supplier,onChange:O=>q(W=>({...W,supplier:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0,disabled:j})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{H(null),o(!1),Me()},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",disabled:j,children:"Cancel"}),s.jsxs("button",{onClick:v?le:Y,disabled:!h.name||!h.unit||!h.supplier||j,className:"flex-1 px-4 py-2 bg-yellow-400 hover:bg-yellow-500 text-yellow-900 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[j?"Saving...":v?"Update":"Add"," Item"]})]})]})})]})}function yh(){const[d,w]=U.useState([]),[A,o]=U.useState([]),[v,H]=U.useState("products"),[D,b]=U.useState(!1),[j,k]=U.useState(null),[M,C]=U.useState(null),[h,q]=U.useState({category_id:1,name:"",description:"",price:0,cost:0,preparation_time:0,image_url:""}),[Q,Z]=U.useState(null),[ee,N]=U.useState(""),[B,Y]=U.useState(!1),[X,le]=U.useState({name:"",description:"",display_order:0}),de=()=>localStorage.getItem("pos_token"),ge=async()=>{try{const y=await fetch("/api/products");if(y.ok){const G=await y.json();w(G)}}catch(y){console.error("Failed to fetch products:",y)}},Me=async()=>{try{const y=await fetch("/api/categories");if(y.ok){const G=await y.json();o(G)}}catch(y){console.error("Failed to fetch categories:",y)}};U.useEffect(()=>{ge(),Me()},[]);const K=M?d.filter(y=>y.category_id===M):d,ce=async()=>{if(!h.name.trim()){alert("Product name is required.");return}if(!h.category_id){alert("Please select a category.");return}if(h.price<=0){alert("Price must be greater than 0.");return}Y(!0);try{const y={category_id:parseInt(String(h.category_id)),name:h.name.trim(),description:h.description.trim(),price:parseFloat(String(h.price)),cost:parseFloat(String(h.cost))||0,preparation_time:parseInt(String(h.preparation_time))||0,image_url:h.image_url||"",is_available:!0,is_active:!0};console.log("Sending product payload:",y);const G=await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${de()}`},body:JSON.stringify(y)}),be=await G.text();if(console.log("Response status:",G.status),console.log("Response text:",be),G.ok)await ge(),Ne(),b(!1),alert(" Product added successfully!");else{let ne="Unknown error";try{const xe=JSON.parse(be);ne=xe.message||xe.error||ne}catch{ne=be}console.error("Add product failed:",ne),alert(` Failed to add product: ${ne}`)}}catch(y){console.error("Add product error:",y),alert(`An unexpected error occurred: ${y.message}`)}Y(!1)},Ue=async()=>{if(!X.name.trim()){alert("Category name is required.");return}try{const y={name:X.name.trim(),description:X.description.trim(),is_active:!0,display_order:parseInt(String(X.display_order))||A.length+1};console.log("Sending category payload:",y);const G=await fetch("/api/categories",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${de()}`},body:JSON.stringify(y)}),be=await G.text();if(console.log("Response status:",G.status),console.log("Response text:",be),G.ok)await Me(),T(),b(!1),alert(" Category added successfully!");else{let ne="Unknown error";try{const xe=JSON.parse(be);ne=xe.message||xe.error||ne}catch{ne=be}console.error("Add category failed:",ne),alert(` Failed to add category: ${ne}`)}}catch(y){console.error("Add category error:",y),alert(`An unexpected error occurred: ${y.message}`)}},O=y=>{k(y),q({category_id:y.category_id,name:y.name,description:y.description,price:y.price,cost:y.cost||0,preparation_time:y.preparation_time,image_url:y.image_url||""}),N(y.image_url||""),Z(null),b(!0)},W=y=>{k(y),le({name:y.name,description:y.description,display_order:y.display_order}),b(!0)},ye=async()=>{if(!(!j||!("category_id"in j))){Y(!0);try{let y=h.image_url;Q&&(y=await I(j.id,Q));const G={category_id:parseInt(String(h.category_id)),name:h.name.trim(),description:h.description.trim(),price:parseFloat(String(h.price)),cost:parseFloat(String(h.cost))||0,preparation_time:parseInt(String(h.preparation_time))||0,image_url:y||""},be=await fetch(`/api/products/${j.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${de()}`},body:JSON.stringify(G)});if(be.ok)ge(),k(null),Ne(),b(!1),alert(" Product updated successfully!");else{const ne=await be.text();alert(`Failed to update product: ${ne}`)}}catch(y){alert("Failed to upload image or update product. Please try again."),console.error("Update product error:",y)}Y(!1)}},De=async()=>{if(!j||!("display_order"in j))return;const y={name:X.name.trim(),description:X.description.trim(),display_order:parseInt(String(X.display_order))||0},G=await fetch(`/api/categories/${j.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${de()}`},body:JSON.stringify(y)});if(G.ok)Me(),k(null),T(),b(!1),alert(" Category updated successfully!");else{const be=await G.text();alert(`Failed to update category: ${be}`)}},z=async y=>{if(confirm("Are you sure you want to delete this product?")){const G=await fetch(`/api/products/${y}`,{method:"DELETE",headers:{Authorization:`Bearer ${de()}`}});if(G.ok)ge(),alert(" Product deleted successfully!");else{const be=await G.text();alert(`Failed to delete product: ${be}`)}}},$=async y=>{if(confirm("Are you sure you want to delete this category? All products in this category will need to be reassigned.")){const G=await fetch(`/api/categories/${y}`,{method:"DELETE",headers:{Authorization:`Bearer ${de()}`}});if(G.ok)Me(),ge(),alert(" Category deleted successfully!");else{const be=await G.text();alert(`Failed to delete category: ${be}`)}}},F=async y=>{const G={...y,is_available:!y.is_available};(await fetch(`/api/products/${y.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${de()}`},body:JSON.stringify(G)})).ok?ge():alert("Failed to toggle availability.")},pe=async y=>{const G={...y,is_active:!y.is_active};(await fetch(`/api/categories/${y.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${de()}`},body:JSON.stringify(G)})).ok?Me():alert("Failed to toggle category status.")},Ne=()=>{q({category_id:A.length>0?A[0].id:1,name:"",description:"",price:0,cost:0,preparation_time:0,image_url:""}),Z(null),N("")},T=()=>{le({name:"",description:"",display_order:A.length+1})},te=y=>A.find(G=>G.id===y)?.name||"Unknown",me=(y,G)=>!G||G===0||y===0?0:(y-G)/y*100,I=async(y,G)=>{const be=new FormData;be.append("image",G);const ne=await fetch(`/api/products/${y}/image`,{method:"POST",body:be});if(!ne.ok){const et=await ne.json();throw new Error(et.error||"Upload failed")}return(await ne.json()).url},Qe=y=>{const G=y.target.files?.[0];if(!G)return;if(!["image/jpeg","image/png","image/webp","image/gif"].includes(G.type)){alert("Please select a valid image file (JPEG, PNG, WebP, or GIF)");return}const ne=5*1024*1024;if(G.size>ne){alert("File size too large. Maximum size is 5MB.");return}Z(G);const xe=new FileReader;xe.onload=et=>{N(et.target?.result)},xe.readAsDataURL(G)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Menu Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage products, categories, and pricing"})]}),s.jsxs("button",{onClick:()=>{k(null),Ne(),T(),b(!0)},className:"flex items-center gap-2 bg-yellow-400 hover:bg-yellow-500 text-yellow-900 px-4 py-2 rounded-lg font-medium transition-colors",children:[s.jsx(Oa,{className:"w-5 h-5"}),"Add ",v==="products"?"Product":"Category"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Products"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.filter(y=>y.is_available).length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Available Products"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:A.filter(y=>y.is_active).length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Active Categories"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:d.length>0?ue(d.reduce((y,G)=>y+G.price,0)/d.length):ue(0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Average Price"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"flex",children:[s.jsxs("button",{onClick:()=>H("products"),className:`px-6 py-3 text-sm font-medium ${v==="products"?"text-yellow-600 border-b-2 border-yellow-500":"text-gray-500 hover:text-gray-700"}`,children:["Products (",d.length,")"]}),s.jsxs("button",{onClick:()=>H("categories"),className:`px-6 py-3 text-sm font-medium ${v==="categories"?"text-yellow-600 border-b-2 border-yellow-500":"text-gray-500 hover:text-gray-700"}`,children:["Categories (",A.length,")"]})]})}),s.jsxs("div",{className:"p-6",children:[v==="products"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("button",{onClick:()=>C(null),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${M===null?"bg-yellow-400 text-yellow-900":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Products"}),A.filter(y=>y.is_active).map(y=>s.jsx("button",{onClick:()=>C(y.id),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${M===y.id?"bg-yellow-400 text-yellow-900":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:y.name},y.id))]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pricing"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prep Time"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:K.map(y=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center overflow-hidden",children:y.image_url?s.jsx("img",{src:y.image_url,alt:y.name,className:"w-10 h-10 object-cover rounded-lg",onError:G=>{G.currentTarget.style.display="none",G.currentTarget.parentElement.innerHTML='<div class="w-10 h-10 bg-gradient-to-r from-yellow-500 to-orange-600 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.5 14.33c.39-.44.47-1.09.2-1.61l-3.8-7.13c-.52-.97-1.69-.97-2.21 0l-3.8 7.13c-.27.52-.19 1.17.2 1.61l1.4 1.56c.58.65 1.58.65 2.16 0l1.4-1.56z"></path></svg></div>'}}):s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-yellow-500 to-orange-600 rounded-lg flex items-center justify-center",children:s.jsx(ti,{className:"w-5 h-5 text-white"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.name}),s.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:y.description})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:te(y.category_id)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:[s.jsxs("div",{children:["Price: ",s.jsx("span",{className:"font-semibold",children:ue(y.price)})]}),s.jsxs("div",{children:["Cost: ",ue(y.cost||0)]}),s.jsxs("div",{className:"text-xs text-green-600",children:["Margin: ",me(y.price,y.cost).toFixed(1),"%"]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[y.preparation_time," min"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("button",{onClick:()=>F(y),className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium cursor-pointer ${y.is_available?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:y.is_available?"Available":"Unavailable"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>O(y),className:"text-blue-600 hover:text-blue-900",children:s.jsx(Us,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>z(y.id),className:"text-red-600 hover:text-red-900",children:s.jsx(Da,{className:"w-4 h-4"})})]})})]},y.id))})]})})]}),v==="categories"&&s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Products Count"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Display Order"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(y=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.name}),s.jsx("div",{className:"text-sm text-gray-500",children:y.description})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[d.filter(G=>G.category_id===y.id).length," products"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.display_order}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("button",{onClick:()=>pe(y),className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium cursor-pointer ${y.is_active?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:y.is_active?"Active":"Inactive"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>W(y),className:"text-blue-600 hover:text-blue-900",children:s.jsx(Us,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>$(y.id),className:"text-red-600 hover:text-red-900",children:s.jsx(Da,{className:"w-4 h-4"})})]})})]},y.id))})]})})})]})]}),D&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:j?`Edit ${v==="products"?"Product":"Category"}`:`Add New ${v==="products"?"Product":"Category"}`}),v==="products"?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name"}),s.jsx("input",{type:"text",value:h.name,onChange:y=>q(G=>({...G,name:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:h.description,onChange:y=>q(G=>({...G,description:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),s.jsx("select",{value:h.category_id,onChange:y=>q(G=>({...G,category_id:parseInt(y.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",children:A.filter(y=>y.is_active).map(y=>s.jsx("option",{value:y.id,children:y.name},y.id))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (KES)"}),s.jsx("input",{type:"number",value:h.price,onChange:y=>q(G=>({...G,price:parseFloat(y.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost (KES)"}),s.jsx("input",{type:"number",value:h.cost,onChange:y=>q(G=>({...G,cost:parseFloat(y.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",min:"0",step:"0.01"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preparation Time (minutes)"}),s.jsx("input",{type:"number",value:h.preparation_time,onChange:y=>q(G=>({...G,preparation_time:parseInt(y.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Image"}),s.jsxs("div",{className:"space-y-3",children:[ee&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:ee,alt:"Preview",className:"w-20 h-20 object-cover rounded-lg border border-gray-300"}),s.jsx("button",{type:"button",onClick:()=>{N(""),Z(null),q(y=>({...y,image_url:""}))},className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Remove Image"})]}),s.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp,image/gif",onChange:Qe,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-yellow-50 file:text-yellow-700 hover:file:bg-yellow-100"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Supported formats: JPEG, PNG, WebP, GIF. Maximum size: 5MB."})]})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category Name"}),s.jsx("input",{type:"text",value:X.name,onChange:y=>le(G=>({...G,name:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:X.description,onChange:y=>le(G=>({...G,description:y.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Order"}),s.jsx("input",{type:"number",value:X.display_order,onChange:y=>le(G=>({...G,display_order:parseInt(y.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",min:"0"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{k(null),b(!1),Ne(),T()},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>{v==="products"?j?ye():ce():j?De():Ue()},disabled:B,className:"flex-1 px-4 py-2 bg-yellow-400 hover:bg-yellow-500 disabled:bg-gray-300 disabled:cursor-not-allowed text-yellow-900 disabled:text-gray-500 rounded-lg font-medium transition-colors",children:B?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-yellow-900 border-t-transparent rounded-full animate-spin"}),"Uploading..."]}):`${j?"Update":"Add"} ${v==="products"?"Product":"Category"}`})]})]})})]})}function ph(){const[d,w]=U.useState([]),[A,o]=U.useState(!1),[v,H]=U.useState(null),[D,b]=U.useState(!1),[j,k]=U.useState(null),[M,C]=U.useState(null),[h,q]=U.useState("all"),[Q,Z]=U.useState({room_number:"",room_type:"Standard",rate:5e3,floor:1,max_occupancy:2,amenities:[]}),[ee,N]=U.useState({guest_name:"",check_in_date:"",check_out_date:""}),B=()=>localStorage.getItem("pos_token"),Y=async()=>{try{const T=await fetch("/api/rooms",{headers:{Authorization:`Bearer ${B()}`}});if(T.ok){const me=(await T.json()).map(I=>({...I,rate:I.price_per_night,floor:I.floor||parseInt(I.room_number.toString().charAt(0))||1}));w(me)}else console.error("Failed to fetch rooms")}catch(T){console.error("Error fetching rooms:",T)}};U.useEffect(()=>{Y()},[]);const X=[{value:"Standard",label:"Standard Room",baseRate:5e3},{value:"Deluxe",label:"Deluxe Room",baseRate:7500},{value:"Suite",label:"Suite",baseRate:12e3}],le=["WiFi","AC","TV","Mini Bar","Coffee Maker","Safe","Balcony","King Bed","Queen Bed","Double Bed","Sitting Area"],de=Array.from(new Set(d.map(T=>T.floor))).sort(),ge=d.filter(T=>{const te=M===null||T.floor===M,me=h==="all"||T.status===h;return te&&me}),Me=async()=>{const{max_occupancy:T,amenities:te,rate:me,...I}=Q,Qe={...I,price_per_night:me,status:"vacant"};try{const y=await fetch("/api/rooms",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${B()}`},body:JSON.stringify(Qe)});if(y.ok)Y(),De(),o(!1);else{const G=await y.json();alert(`Failed to add room: ${G.message||"Unknown error"}`)}}catch(y){console.error("Error adding room:",y),alert("Error adding room")}},K=T=>{H(T),Z({room_number:T.room_number,room_type:T.room_type,rate:T.rate,floor:T.floor||1,max_occupancy:T.max_occupancy||2,amenities:T.amenities||[]}),o(!0)},ce=async()=>{if(!v)return;const{max_occupancy:T,amenities:te,rate:me,...I}=Q,Qe={...I,price_per_night:me};try{const y=await fetch(`/api/rooms/${v.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${B()}`},body:JSON.stringify(Qe)});if(y.ok)Y(),H(null),De(),o(!1);else{const G=await y.json();alert(`Failed to update room: ${G.message||"Unknown error"}`)}}catch(y){console.error("Error updating room:",y),alert("Error updating room")}},Ue=async T=>{if(confirm("Are you sure you want to delete this room?"))try{(await fetch(`/api/rooms/${T}`,{method:"DELETE",headers:{Authorization:`Bearer ${B()}`}})).ok?Y():alert("Failed to delete room")}catch(te){console.error("Error deleting room:",te)}},O=async()=>{if(!j)return;const T={status:"occupied",guest_name:ee.guest_name,check_in_date:ee.check_in_date,check_out_date:ee.check_out_date};try{(await fetch(`/api/rooms/${j.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${B()}`},body:JSON.stringify(T)})).ok?(Y(),b(!1),k(null),z()):alert("Failed to check in guest")}catch(te){console.error("Error checking in guest:",te)}},W=async T=>{if(confirm("Confirm check out for this room?")){const te={status:"cleaning",guest_name:null,check_in_date:null,check_out_date:null};try{(await fetch(`/api/rooms/${T}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${B()}`},body:JSON.stringify(te)})).ok?Y():alert("Failed to check out guest")}catch(me){console.error("Error checking out guest:",me)}}},ye=async(T,te)=>{const me={status:te};try{(await fetch(`/api/rooms/${T}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${B()}`},body:JSON.stringify(me)})).ok?Y():alert("Failed to update room status")}catch(I){console.error("Error updating room status:",I)}},De=()=>{Z({room_number:"",room_type:"Standard",rate:5e3,floor:1,max_occupancy:2,amenities:[]})},z=()=>{N({guest_name:"",check_in_date:"",check_out_date:""})},$=T=>({vacant:"bg-green-100 text-green-800",occupied:"bg-blue-100 text-blue-800",reserved:"bg-yellow-100 text-yellow-800",maintenance:"bg-red-100 text-red-800",cleaning:"bg-purple-100 text-purple-800"})[T]||"bg-gray-100 text-gray-800",F=T=>({Standard:"bg-blue-100 text-blue-800",Deluxe:"bg-purple-100 text-purple-800",Suite:"bg-orange-100 text-orange-800"})[T]||"bg-gray-100 text-gray-800",pe=d.filter(T=>T.status==="occupied").reduce((T,te)=>T+te.rate,0),Ne=d.length>0?(d.filter(T=>T.status==="occupied").length/d.length*100).toFixed(1):"0.0";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:["2",s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Room Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage rooms, reservations, and guest information"})]}),s.jsxs("button",{onClick:()=>{H(null),De(),o(!0)},className:"flex items-center gap-2 bg-yellow-400 hover:bg-yellow-500 text-yellow-900 px-4 py-2 rounded-lg font-medium transition-colors",children:[s.jsx(Oa,{className:"w-5 h-5"}),"Add Room"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Rooms"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.filter(T=>T.status==="occupied").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Occupied Rooms"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Ne,"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Occupancy Rate"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:ue(pe)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Daily Revenue"})]})]}),s.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 py-2",children:"Floor:"}),s.jsx("button",{onClick:()=>C(null),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${M===null?"bg-yellow-400 text-yellow-900":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),de.map(T=>s.jsxs("button",{onClick:()=>C(T),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${M===T?"bg-yellow-400 text-yellow-900":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Floor ",T]},T))]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 py-2",children:"Status:"}),["all","vacant","occupied","reserved","maintenance","cleaning"].map(T=>s.jsx("button",{onClick:()=>q(T),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors capitalize ${h===T?"bg-yellow-400 text-yellow-900":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:T},T))]})]})}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Room"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Guest Info"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dates"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rate"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ge.map(T=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:s.jsx(Hs,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Room ",T.room_number]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${F(T.room_type)}`,children:T.room_type}),s.jsxs("span",{className:"text-xs text-gray-500",children:["Floor ",T.floor]})]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T.guest_name?s.jsxs("div",{className:"flex items-center",children:[s.jsx(Tt,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.guest_name}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Max ",T.max_occupancy," guests"]})]})]}):s.jsx("span",{className:"text-sm text-gray-500",children:"No guest"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:T.check_in_date&&T.check_out_date?s.jsxs("div",{className:"flex items-center",children:[s.jsx(vr,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsxs("div",{children:[s.jsxs("div",{children:["Check-in: ",new Date(T.check_in_date).toLocaleDateString()]}),s.jsxs("div",{children:["Check-out: ",new Date(T.check_out_date).toLocaleDateString()]})]})]}):s.jsx("span",{className:"text-gray-500",children:""})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(za,{className:"w-4 h-4 text-gray-400 mr-1"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:ue(T.rate)})]}),s.jsx("div",{className:"text-xs text-gray-500",children:"per night"})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("select",{value:T.status,onChange:te=>ye(T.id,te.target.value),className:`text-xs px-2 py-1 rounded-md border-none ${$(T.status)}`,children:[s.jsx("option",{value:"vacant",children:"Vacant"}),s.jsx("option",{value:"occupied",children:"Occupied"}),s.jsx("option",{value:"reserved",children:"Reserved"}),s.jsx("option",{value:"maintenance",children:"Maintenance"}),s.jsx("option",{value:"cleaning",children:"Cleaning"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[T.status==="vacant"&&s.jsx("button",{onClick:()=>{k(T),b(!0)},className:"text-green-600 hover:text-green-900 text-xs bg-green-100 px-2 py-1 rounded",children:"Check In"}),T.status==="occupied"&&s.jsx("button",{onClick:()=>W(T.id),className:"text-blue-600 hover:text-blue-900 text-xs bg-blue-100 px-2 py-1 rounded",children:"Check Out"}),s.jsx("button",{onClick:()=>K(T),className:"text-blue-600 hover:text-blue-900",children:s.jsx(Us,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Ue(T.id),className:"text-red-600 hover:text-red-900",children:s.jsx(Da,{className:"w-4 h-4"})})]})})]},T.id))})]})})}),(A||v)&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:v?"Edit Room":"Add New Room"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Number"}),s.jsx("input",{type:"text",value:Q.room_number,onChange:T=>Z(te=>({...te,room_number:T.target.value,floor:parseInt(T.target.value.charAt(0))||1})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Floor"}),s.jsx("input",{type:"number",value:Q.floor,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent bg-gray-100",min:"1",max:"10"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Room Type"}),s.jsx("select",{value:Q.room_type,onChange:T=>{const te=X.find(me=>me.value===T.target.value);Z(me=>({...me,room_type:T.target.value,rate:te?.baseRate||5e3,max_occupancy:te?.value==="Suite"?4:te?.value==="Deluxe"?3:2}))},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",children:X.map(T=>s.jsx("option",{value:T.value,children:T.label},T.value))})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rate per Night (KES)"}),s.jsx("input",{type:"number",value:Q.rate,onChange:T=>Z(te=>({...te,rate:parseInt(T.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",min:"0",step:"100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Occupancy"}),s.jsx("input",{type:"number",value:Q.max_occupancy,onChange:T=>Z(te=>({...te,max_occupancy:parseInt(T.target.value)||2})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",min:"1",max:"6"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amenities"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:le.map(T=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:Q.amenities.includes(T),onChange:te=>{te.target.checked?Z(me=>({...me,amenities:[...me.amenities,T]})):Z(me=>({...me,amenities:me.amenities.filter(I=>I!==T)}))},className:"rounded text-yellow-600 focus:ring-yellow-500 mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:T})]},T))})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{H(null),o(!1),De()},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:v?ce:Me,disabled:!Q.room_number,className:"flex-1 px-4 py-2 bg-yellow-400 hover:bg-yellow-500 text-yellow-900 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[v?"Update":"Add"," Room"]})]})]})}),D&&j&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Check In - Room ",j.room_number]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guest Name"}),s.jsx("input",{type:"text",value:ee.guest_name,onChange:T=>N(te=>({...te,guest_name:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-in Date"}),s.jsx("input",{type:"date",value:ee.check_in_date,onChange:T=>N(te=>({...te,check_in_date:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check-out Date"}),s.jsx("input",{type:"date",value:ee.check_out_date,onChange:T=>N(te=>({...te,check_out_date:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent",min:ee.check_in_date,required:!0})]})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{b(!1),k(null),z()},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:O,disabled:!ee.guest_name||!ee.check_in_date||!ee.check_out_date,className:"flex-1 px-4 py-2 bg-yellow-400 hover:bg-yellow-500 text-yellow-900 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Check In Guest"})]})]})})]})}function bh(){const[d,w]=U.useState(null),[A,o]=U.useState(!0),[v,H]=U.useState(null),[D,b]=U.useState("overview"),[j,k]=U.useState({start:new Date(new Date().setDate(1)).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]});U.useEffect(()=>{M()},[D,j.start,j.end]);const M=async()=>{o(!0),H(null);const Y=localStorage.getItem("pos_token"),X=new URLSearchParams({start:j.start,end:j.end}).toString();try{const le=`/api/reports/${D}?${X}`;console.log("Fetching report from:",le);const de=await fetch(le,{headers:{Authorization:`Bearer ${Y}`}});if(!de.ok){const Me=await de.text();throw console.error("Report fetch failed:",de.status,Me),new Error(`Failed to fetch report data: ${de.status}`)}const ge=await de.json();console.log("Report data received:",D,ge),w(ge)}catch(le){const de=le instanceof Error?le.message:"An unknown error occurred.";H(de),console.error("Failed to fetch report data:",le)}finally{o(!1)}},C=[{id:"overview",label:"Overview",icon:th},{id:"sales",label:"Sales Report",icon:za},{id:"inventory",label:"Inventory Report",icon:Rs},{id:"staff",label:"Staff Performance",icon:Cs},{id:"rooms",label:"Room Revenue",icon:Hs}],h=Y=>{alert(`Exporting ${D} report as ${Y.toUpperCase()}... (Not yet implemented)`)},q=()=>{const Y=d;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(za,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ue(Y.sales.monthly)})]})]})}),s.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(ks,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Y.orders.total})]})]}),Y.orders.total>0&&s.jsx("div",{className:"mt-4",children:s.jsxs("span",{className:"text-blue-500 text-sm",children:[(Y.orders.completed/Y.orders.total*100).toFixed(1),"% completion rate"]})})]}),s.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(za,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Order Value"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ue(Y.orders.averageValue)})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Selling Items"}),s.jsx("div",{className:"space-y-3",children:Y.inventory.topSellingItems.map((X,le)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:X.name}),s.jsxs("div",{className:"text-sm text-gray-600",children:[X.quantity," sold"]})]}),s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"font-semibold text-gray-900",children:ue(X.revenue)})})]},le))})]}),s.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Staff Performance"}),s.jsx("div",{className:"space-y-3",children:Y.staff.topPerformers.map((X,le)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:X.name}),s.jsxs("div",{className:"text-sm text-gray-600",children:[X.orders," orders"]})]}),s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"font-semibold text-gray-900",children:ue(X.revenue)})})]},le))})]})]})]})},Q=()=>{if(!d||!d.salesByDay)return s.jsx("div",{className:"text-center py-10 text-gray-500",children:"No sales data available"});const Y=d;return Y.salesByDay.length===0?s.jsx("div",{className:"text-center py-10 text-gray-500",children:"No sales in this date range"}):s.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Daily Sales"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Sales"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Y.salesByDay.map((X,le)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(X.date).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ue(X.total)})]},le))})]})})]})},Z=()=>{if(!d)return s.jsx("div",{className:"text-center py-10 text-gray-500",children:"No inventory data available"});const Y=d;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Low Stock Items"}),Y.lowStockItems&&Y.lowStockItems.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Stock"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Minimum Stock"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Y.lowStockItems.map(X=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600",children:X.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600",children:X.current_stock}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:X.minimum_stock})]},X.id))})]})}):s.jsx("p",{className:"text-gray-500 text-center py-4",children:"All items are well stocked! "})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:ue(Y.totalValue||0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Inventory Value"})]})]})},ee=()=>{if(!d||!Array.isArray(d))return s.jsx("div",{className:"text-center py-10 text-gray-500",children:"No staff data available"});const Y=d;return Y.length===0?s.jsx("div",{className:"text-center py-10 text-gray-500",children:"No staff activity in this date range"}):s.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Staff Performance"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Staff Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Orders Taken"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Revenue"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Average Order Value"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Y.map((X,le)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:X.name}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:X.role}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:X.orders}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ue(X.revenue)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ue(X.avgOrderValue)})]},le))})]})})]})},N=()=>{if(!d)return s.jsx("div",{className:"text-center py-10 text-gray-500",children:"No room data available"});const Y=d;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Room Revenue"}),s.jsx("div",{className:"text-3xl font-bold text-green-600",children:ue(Y.roomRevenue||0)})]}),s.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Room Status"}),Y.roomStatusCounts&&Y.roomStatusCounts.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Number of Rooms"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Y.roomStatusCounts.map((X,le)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 capitalize",children:X.status}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:X.count})]},le))})]})}):s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No rooms configured"})]})]})},B=()=>{if(A)return s.jsxs("div",{className:"flex justify-center items-center py-20",children:[s.jsx(Ll,{className:"w-8 h-8 animate-spin text-yellow-500"}),s.jsx("p",{className:"ml-4 text-gray-600",children:"Generating report..."})]});if(v)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx(Vl,{className:"w-8 h-8 text-red-500"}),s.jsx("p",{className:"mt-4 font-semibold text-red-700",children:"Failed to load report data"}),s.jsx("p",{className:"text-sm text-red-600",children:v})]});if(!d)return s.jsx("div",{className:"text-center py-20 text-gray-500",children:"No report data available for the selected period."});switch(D){case"sales":return Q();case"inventory":return Z();case"staff":return ee();case"rooms":return N();default:return q()}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),s.jsx("p",{className:"text-gray-600",children:"Generate and export comprehensive business reports"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("button",{onClick:()=>h("pdf"),className:"flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[s.jsx(_x,{className:"w-4 h-4"}),"PDF"]})})]}),s.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:s.jsx("div",{className:"flex flex-wrap gap-4 items-center",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vr,{className:"w-5 h-5 text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Date Range:"}),s.jsx("input",{type:"date",value:j.start,onChange:Y=>k(X=>({...X,start:Y.target.value})),className:"px-3 py-1 border border-gray-300 rounded-md text-sm"}),s.jsx("span",{className:"text-gray-500",children:"to"}),s.jsx("input",{type:"date",value:j.end,onChange:Y=>k(X=>({...X,end:Y.target.value})),className:"px-3 py-1 border border-gray-300 rounded-md text-sm",min:j.start})]})})}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex overflow-x-auto",children:C.map(Y=>{const X=Y.icon;return s.jsxs("button",{onClick:()=>b(Y.id),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium whitespace-nowrap ${D===Y.id?"text-yellow-600 border-b-2 border-yellow-500 bg-yellow-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(X,{className:"w-4 h-4"}),Y.label]},Y.id)})})}),s.jsx("div",{className:"p-6",children:B()})]})]})}function vh(){const[d,w]=U.useState({}),[A,o]=U.useState(!0),[v,H]=U.useState(!1),[D,b]=U.useState(""),j=()=>localStorage.getItem("pos_token");U.useEffect(()=>{k()},[]);const k=async()=>{o(!0),b("");try{const h=await fetch("/api/settings",{headers:{Authorization:`Bearer ${j()}`}});if(!h.ok)throw new Error("Failed to load settings.");const q=await h.json();w(q)}catch(h){b(h instanceof Error?h.message:"An unknown error occurred.")}finally{o(!1)}},M=(h,q)=>{w(Q=>({...Q,[h]:q}))},C=async()=>{H(!0),b("");try{if(!(await fetch("/api/settings",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${j()}`},body:JSON.stringify(d)})).ok)throw new Error("Failed to save settings.");alert("Settings saved successfully!")}catch(h){b(h instanceof Error?h.message:"An unknown error occurred.")}finally{H(!1)}};return A?s.jsx("div",{className:"flex justify-center items-center py-20",children:s.jsx(Ll,{className:"w-8 h-8 animate-spin text-yellow-500"})}):D?s.jsxs("div",{className:"text-center py-20 text-red-600 bg-red-50 p-4 rounded-lg",children:[s.jsx(Vl,{className:"mx-auto w-8 h-8 mb-2"}),D]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"System Settings"}),s.jsx("p",{className:"text-gray-600",children:"Configure general application settings."})]}),s.jsxs("button",{onClick:C,disabled:v,className:"flex items-center gap-2 bg-yellow-400 hover:bg-yellow-500 text-yellow-900 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50",children:[v?s.jsx(Ll,{className:"w-5 h-5 animate-spin"}):s.jsx(Jx,{className:"w-5 h-5"}),v?"Saving...":"Save Changes"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1 space-y-6",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(br,{className:"w-6 h-6 text-gray-500"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Business Information"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Xl,{label:"Business Name",value:d.business_name||"",onChange:h=>M("business_name",h.target.value)}),s.jsx(Xl,{label:"Address",value:d.business_address||"",onChange:h=>M("business_address",h.target.value)}),s.jsx(Xl,{label:"Phone Number",value:d.business_phone||"",onChange:h=>M("business_phone",h.target.value)}),s.jsx(Xl,{label:"Currency Symbol",value:d.currency_symbol||"",onChange:h=>M("currency_symbol",h.target.value)})]})]})}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Gx,{className:"w-6 h-6 text-gray-500"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Financial Settings"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Xl,{label:"Tax Rate (%)",type:"number",value:d.tax_rate_percentage||"",onChange:h=>M("tax_rate_percentage",h.target.value)}),s.jsx(Xl,{label:"Service Charge (%)",type:"number",value:d.service_charge_percentage||"",onChange:h=>M("service_charge_percentage",h.target.value)})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(ks,{className:"w-6 h-6 text-gray-500"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Receipt Settings"})]}),s.jsx(Xl,{label:"Footer Message",value:d.receipt_footer_message||"",onChange:h=>M("receipt_footer_message",h.target.value)})]})]})]})]})}const Xl=({label:d,...w})=>s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:d}),s.jsx("input",{...w,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]}),jh="http://localhost:3001";function Nh(){const{user:d}=Zl(),[w,A]=U.useState("overview"),[o,v]=U.useState(null),[H,D]=U.useState(!0),b=()=>localStorage.getItem("pos_token");U.useEffect(()=>{(async()=>{if(w==="overview"){D(!0);try{const q=await fetch(`${jh}/api/dashboard/overview-stats`,{headers:{Authorization:`Bearer ${b()}`}});if(q.ok){const Q=await q.json();v(Q)}else console.error("Failed to fetch overview stats. Status:",q.status)}catch(q){console.error("Error fetching overview stats:",q)}finally{D(!1)}}})()},[w]);const j=h=>{const q=new Date(h),Z=Math.floor((new Date().getTime()-q.getTime())/1e3);let ee=Z/31536e3;return ee>1?Math.floor(ee)+" years ago":(ee=Z/2592e3,ee>1?Math.floor(ee)+" months ago":(ee=Z/86400,ee>1?Math.floor(ee)+" days ago":(ee=Z/3600,ee>1?Math.floor(ee)+" hours ago":(ee=Z/60,ee>1?Math.floor(ee)+" minutes ago":Math.floor(Z)+" seconds ago"))))},k=[{id:"overview",label:"Overview",icon:hx},{id:"staff",label:"Staff Management",icon:Cs},{id:"inventory",label:"Inventory",icon:Rs},{id:"menu",label:"Menu Management",icon:ti},{id:"rooms",label:"Room Management",icon:Hs},{id:"reports",label:"Reports",icon:ks},{id:"settings",label:"Settings",icon:pr}],M=()=>H?s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsx(Ll,{className:"w-8 h-8 animate-spin text-yellow-500"})}):o?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg p-3 lg:p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-1.5 lg:p-2 bg-green-100 rounded-lg",children:s.jsx(za,{className:"w-4 h-4 lg:w-6 lg:h-6 text-green-600"})}),s.jsxs("div",{className:"ml-2 lg:ml-4 min-w-0",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-600 truncate",children:"Today's Revenue"}),s.jsx("p",{className:"text-sm lg:text-2xl font-bold text-gray-900 truncate",children:ue(o.todaysRevenue)})]})]})}),s.jsx("div",{className:"bg-white rounded-lg p-3 lg:p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-1.5 lg:p-2 bg-blue-100 rounded-lg",children:s.jsx(ks,{className:"w-4 h-4 lg:w-6 lg:h-6 text-blue-600"})}),s.jsxs("div",{className:"ml-2 lg:ml-4 min-w-0",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-600 truncate",children:"Orders Today"}),s.jsx("p",{className:"text-sm lg:text-2xl font-bold text-gray-900 truncate",children:o.ordersToday})]})]})}),s.jsx("div",{className:"bg-white rounded-lg p-3 lg:p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-1.5 lg:p-2 bg-purple-100 rounded-lg",children:s.jsx(Cs,{className:"w-4 h-4 lg:w-6 lg:h-6 text-purple-600"})}),s.jsxs("div",{className:"ml-2 lg:ml-4 min-w-0",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-600 truncate",children:"Active Staff"}),s.jsx("p",{className:"text-sm lg:text-2xl font-bold text-gray-900 truncate",children:o.activeStaff})]})]})}),s.jsxs("div",{className:"bg-white rounded-lg p-3 lg:p-6 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-1.5 lg:p-2 bg-yellow-100 rounded-lg",children:s.jsx(Vl,{className:"w-4 h-4 lg:w-6 lg:h-6 text-yellow-600"})}),s.jsxs("div",{className:"ml-2 lg:ml-4 min-w-0",children:[s.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-600 truncate",children:"Low Stock Items"}),s.jsx("p",{className:"text-sm lg:text-2xl font-bold text-gray-900 truncate",children:o.lowStockItems})]})]}),s.jsx("div",{className:"mt-2 lg:mt-4",children:s.jsx("span",{className:"text-yellow-600 text-xs lg:text-sm",children:"Requires attention"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Orders"}),s.jsx("div",{className:"space-y-3",children:o.recentOrders.map(h=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:h.order_number}),s.jsx("p",{className:"text-sm text-gray-600",children:h.location})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium text-gray-900",children:ue(h.total_amount)}),s.jsx("p",{className:"text-sm text-gray-600",children:j(h.created_at)})]})]},h.id))})]}),s.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{onClick:()=>A("staff"),className:"flex flex-col items-center p-4 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:[s.jsx(Cs,{className:"w-8 h-8 text-blue-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Add Staff"})]}),s.jsxs("button",{onClick:()=>A("inventory"),className:"flex flex-col items-center p-4 bg-green-50 hover:bg-green-100 rounded-lg transition-colors",children:[s.jsx(Rs,{className:"w-8 h-8 text-green-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium text-green-900",children:"Update Inventory"})]}),s.jsxs("button",{onClick:()=>A("reports"),className:"flex flex-col items-center p-4 bg-purple-50 hover:bg-purple-100 rounded-lg transition-colors",children:[s.jsx(ks,{className:"w-8 h-8 text-purple-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Generate Report"})]}),s.jsxs("button",{onClick:()=>A("settings"),className:"flex flex-col items-center p-4 bg-yellow-50 hover:bg-yellow-100 rounded-lg transition-colors",children:[s.jsx(pr,{className:"w-8 h-8 text-yellow-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium text-yellow-900",children:"System Settings"})]})]})]})]})]}):s.jsx("div",{className:"text-center",children:"Could not load dashboard data."}),C=()=>{switch(w){case"overview":return M();case"staff":return s.jsx(hh,{});case"inventory":return s.jsx(gh,{});case"menu":return s.jsx(yh,{});case"rooms":return s.jsx(ph,{});case"reports":return s.jsx(bh,{});case"settings":return s.jsx(vh,{});default:return M()}};return s.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[s.jsx(li,{}),s.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row overflow-hidden",children:[s.jsx("div",{className:"lg:hidden bg-white border-b border-gray-200 p-4",children:s.jsx("select",{value:w,onChange:h=>A(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent text-base",children:k.map(h=>s.jsx("option",{value:h.id,children:h.label},h.id))})}),s.jsxs("div",{className:"hidden lg:block w-64 bg-white border-r border-gray-200 p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Admin Dashboard"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Management & Analytics"})]}),s.jsx("nav",{className:"space-y-2",children:k.map(h=>{const q=h.icon;return s.jsxs("button",{onClick:()=>A(h.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left transition-colors ${w===h.id?"bg-yellow-100 text-yellow-900":"text-gray-700 hover:bg-gray-100"}`,children:[s.jsx(q,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:h.label})]},h.id)})}),s.jsxs("div",{className:"mt-8 p-4 bg-gradient-to-br from-yellow-50 to-amber-50 rounded-lg border border-yellow-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"System Status"})]}),s.jsx("p",{className:"text-xs text-gray-600",children:"All systems operational"}),s.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Access Level: ",d?.role==="admin"?"Full Admin":"Manager"]})]})]}),s.jsx("div",{className:"flex-1 p-4 lg:p-6 overflow-y-auto",children:C()})]})]})}function wh(){Zl();const[d,w]=U.useState([]),[A,o]=U.useState([]),[v,H]=U.useState(null),[D,b]=U.useState(!0),[j,k]=U.useState(""),M=()=>localStorage.getItem("pos_token"),C=async()=>{b(!0),k("");try{const[N,B]=await Promise.all([fetch("/api/rooms",{headers:{Authorization:`Bearer ${M()}`}}),fetch("/api/maintenance-requests",{headers:{Authorization:`Bearer ${M()}`}})]);if(!N.ok||!B.ok)throw new Error("Failed to fetch data.");const Y=await N.json(),X=await B.json();w(Y),o(X)}catch(N){k(N instanceof Error?N.message:"An unknown error occurred")}finally{b(!1)}};U.useEffect(()=>{C()},[]);const h=async(N,B)=>{try{(await fetch(`/api/rooms/${N}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M()}`},body:JSON.stringify({status:B})})).ok?(w(X=>X.map(le=>le.id===N?{...le,status:B}:le)),v?.id===N&&H(null)):alert("Failed to update room status.")}catch(Y){console.error("Error updating room status:",Y)}},q=async(N,B)=>{try{(await fetch(`/api/maintenance-requests/${N}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M()}`},body:JSON.stringify({status:B})})).ok?o(B==="completed"?X=>X.filter(le=>le.id!==N):X=>X.map(le=>le.id===N?{...le,status:B}:le)):alert("Failed to update maintenance status.")}catch(Y){console.error("Error updating maintenance status:",Y)}},Q=N=>{switch(N){case"vacant":return"bg-green-100 border-green-300 text-green-800";case"occupied":return"bg-blue-100 border-blue-300 text-blue-800";case"reserved":return"bg-yellow-100 border-yellow-300 text-yellow-800";case"maintenance":return"bg-red-100 border-red-300 text-red-800";case"cleaning":return"bg-purple-100 border-purple-300 text-purple-800";default:return"bg-gray-100 border-gray-300 text-gray-800"}},Z=N=>{switch(N){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},ee=N=>{switch(N){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return D?s.jsxs("div",{className:"flex h-screen items-center justify-center",children:[s.jsx(Ll,{className:"w-8 h-8 animate-spin text-yellow-500"}),s.jsx("p",{className:"ml-4 text-gray-600",children:"Loading Housekeeping Data..."})]}):j?s.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[s.jsx(Vl,{className:"w-8 h-8 text-red-500"}),s.jsxs("p",{className:"ml-4 font-semibold text-red-700",children:["Failed to load data: ",j]})]}):s.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[s.jsx(li,{}),s.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(mf,{className:"w-8 h-8 text-purple-600"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Housekeeping Dashboard"}),s.jsx("p",{className:"text-gray-600",children:"Room management and maintenance tracking"})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.filter(N=>N.status==="vacant").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Clean & Ready"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:d.filter(N=>N.status==="cleaning").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Being Cleaned"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:d.filter(N=>N.status==="maintenance").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Maintenance"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.filter(N=>N.status==="occupied").length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Occupied"})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:A.length}),s.jsx("div",{className:"text-sm text-gray-600",children:"Pending Requests"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Room Status"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:d.map(N=>s.jsx("div",{onClick:()=>H(N),className:`
                      p-3 rounded-lg border-2 cursor-pointer transition-all hover:shadow-md
                      ${Q(N.status)}
                    `,children:s.jsxs("div",{className:"text-center",children:[s.jsx(Hs,{className:"w-6 h-6 mx-auto mb-2"}),s.jsx("div",{className:"font-bold",children:N.room_number}),s.jsx("div",{className:"text-xs mt-1 capitalize",children:N.status.replace("_"," ")}),N.guest_name&&s.jsx("div",{className:"text-xs mt-1 truncate",children:N.guest_name})]})},N.id))})]})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Maintenance Requests"}),s.jsxs("div",{className:"space-y-3",children:[A.map(N=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"font-medium text-gray-900",children:["Room ",N.room_number]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Z(N.priority)}`,children:N.priority})]}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:N.issue}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-xs text-gray-500",children:new Date(N.reported_at).toLocaleDateString()}),s.jsxs("select",{value:N.status,onChange:B=>q(N.id,B.target.value),className:`text-xs px-2 py-1 rounded-md ${ee(N.status)}`,children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"completed",children:"Completed"})]})]})]},N.id)),A.length===0&&s.jsxs("div",{className:"text-center py-6 text-gray-500",children:[s.jsx(xf,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),s.jsx("p",{children:"No active maintenance requests"})]})]})]})})]}),v&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Room ",v.room_number]}),s.jsx("button",{onClick:()=>H(null),className:"text-gray-500 hover:text-gray-700",children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Room Type: ",v.room_type]}),s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Rate: ",ue(v.rate),"/night"]}),v.guest_name&&s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Guest: ",v.guest_name]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Update Status:"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{onClick:()=>h(v.id,"cleaning"),className:"p-3 bg-purple-50 hover:bg-purple-100 rounded-lg border border-purple-200 transition-colors",disabled:v.status==="cleaning",children:[s.jsx(mf,{className:"w-5 h-5 mx-auto mb-1 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Cleaning"})]}),s.jsxs("button",{onClick:()=>h(v.id,"vacant"),className:"p-3 bg-green-50 hover:bg-green-100 rounded-lg border border-green-200 transition-colors",disabled:v.status==="vacant",children:[s.jsx(bf,{className:"w-5 h-5 mx-auto mb-1 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-700",children:"Clean"})]}),s.jsxs("button",{onClick:()=>h(v.id,"maintenance"),className:"p-3 bg-red-50 hover:bg-red-100 rounded-lg border border-red-200 transition-colors",disabled:v.status==="maintenance",children:[s.jsx(xf,{className:"w-5 h-5 mx-auto mb-1 text-red-600"}),s.jsx("span",{className:"text-sm font-medium text-red-700",children:"Maintenance"})]}),s.jsxs("button",{onClick:()=>h(v.id,"occupied"),className:"p-3 bg-blue-50 hover:bg-blue-100 rounded-lg border border-blue-200 transition-colors",disabled:v.status==="occupied",children:[s.jsx(Tt,{className:"w-5 h-5 mx-auto mb-1 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Occupied"})]})]})]})]}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsx("button",{onClick:()=>H(null),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:"Close"})})]})})]})]})}function Sh(){const{user:d}=Zl(),[w,A]=U.useState(!1);if(!d&&!w)return s.jsx(ch,{onQuickPOSAccess:()=>A(!0)});if(w&&!d)return s.jsx(hf,{isQuickAccess:!0,onBackToLogin:()=>A(!1)});switch(d?.role){case"kitchen_staff":return s.jsx(xh,{});case"admin":case"manager":return s.jsx(Nh,{});case"housekeeping":return s.jsx(wh,{});case"waiter":case"cashier":case"receptionist":case"delivery":default:return s.jsx(hf,{})}}function _h(){return s.jsx(ex,{children:s.jsx(tx,{children:s.jsx(Qm,{children:s.jsx(Xm,{children:s.jsx(Vm,{path:"/",element:s.jsx(Sh,{})})})})})})}Im.createRoot(document.getElementById("root")).render(s.jsx(U.StrictMode,{children:s.jsx(_h,{})}));
